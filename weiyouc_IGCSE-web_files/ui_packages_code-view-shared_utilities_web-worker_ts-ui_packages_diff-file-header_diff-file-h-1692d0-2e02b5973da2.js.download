"use strict";(globalThis.webpackChunk=globalThis.webpackChunk||[]).push([["ui_packages_code-view-shared_utilities_web-worker_ts-ui_packages_diff-file-header_diff-file-h-1692d0","ui_packages_diffs_diff-parts_ts"],{73412:(e,t,i)=>{function l(e,t,i){return t in e?Object.defineProperty(e,t,{value:i,enumerable:!0,configurable:!0,writable:!0}):e[t]=i,e}i.d(t,{z:()=>WebWorker});let WebWorker=class WebWorker{set onmessage(e){this.worker.onmessage=e}postMessage(e){this.worker.postMessage(e)}terminate(){this.worker.terminate()}constructor(e,t){l(this,"worker",void 0);try{this.worker=new Worker(`${e}?module=true`,{type:"module"})}catch{console.warn("Web workers are not available. Please enable web workers to benefit from the improved performance."),this.worker=new MainThreadWorker(t)}}};let MainThreadWorker=class MainThreadWorker{async postMessage(e){if(this.terminated)return;let t={data:this.job({data:e})};this.onmessage?.(t)}terminate(){this.terminated=!0}constructor(e){l(this,"terminated",!1),l(this,"onmessage",void 0),this.job=e}}},1977:(e,t,i)=>{i.d(t,{B:()=>p,C:()=>x});var l=i(74848),n=i(21728),r=i(20053),a=i(38621),o=i(34614),s=i(23976),d=i(42522),c=i(84),f=i(69710),m=i(26514);let u={"diff-file-header":"DiffFileHeader-module__diff-file-header--TjXyn",collapsed:"DiffFileHeader-module__collapsed--FPwYM","file-name":"DiffFileHeader-module__file-name--mY1O5"};function h(e){let t,i;let r=(0,n.c)(12),{newPath:o,oldPath:s,status:d}=e;r[0]!==o?(t=(0,l.jsxs)(l.Fragment,{children:["\u200E",o]}),r[0]=o,r[1]=t):t=r[1];let c=t;r[2]!==s?(i=(0,l.jsxs)(l.Fragment,{children:["\u200E",s]}),r[2]=s,r[3]=i):i=r[3];let f=i;if("RENAMED"===d){let e,t;return r[4]===Symbol.for("react.memo_cache_sentinel")?(e=(0,l.jsx)(a.ArrowRightIcon,{}),r[4]=e):e=r[4],r[5]!==c||r[6]!==f?(t=(0,l.jsxs)("code",{children:[f," ",e," ",c]}),r[5]=c,r[6]=f,r[7]=t):t=r[7],t}if("DELETED"===d||"REMOVED"===d){let e;return r[8]!==f?(e=(0,l.jsx)("code",{children:f}),r[8]=f,r[9]=e):e=r[9],e}{let e;return r[10]!==c?(e=(0,l.jsx)("code",{children:c}),r[10]=c,r[11]=e):e=r[11],e}}function p(e){let t,i,p,x,y,g,b,j,N,v,C,w,_,D,T,k,S;let L=(0,n.c)(65),{additionalLeftSideContent:I,areLinesExpanded:E,canExpandOrCollapseLines:$,className:A,diffStatsProps:H,defaultToRichDiff:O,isBinary:B,isSubmodule:P,isCollapsed:M,canToggleRichDiff:F,linesAdded:U,linesChanged:W,linesDeleted:z,fileLinkHref:q,fileLinkRef:K,newMode:R,newPath:J,oldMode:Y,oldPath:G,onCopyPath:V,onHeaderClick:X,onToggleDiffDisplay:Q,onToggleExpandAllLines:Z,onToggleFileCollapsed:ee,patchStatus:et,path:ei,rightSideContent:el,size:en}=e,er=en&&"-"===en[0],ea=M?u.collapsed:"";L[0]!==A||L[1]!==ea?(t=(0,r.$)(u["diff-file-header"],ea,"flex-wrap flex-sm-nowrap",A),L[0]=A,L[1]=ea,L[2]=t):t=L[2];let eo=M?`expand file: ${ei}`:`collapse file: ${ei}`;L[3]!==M?(i=M?(0,l.jsx)(a.ChevronRightIcon,{}):(0,l.jsx)(a.ChevronDownIcon,{}),L[3]=M,L[4]=i):i=L[4],L[5]!==ee||L[6]!==eo||L[7]!==i?(p=(0,l.jsx)("button",{onClick:ee,className:"Button Button--iconOnly Button--invisible flex-shrink-0 flex-order-1","aria-label":eo,children:i}),L[5]=ee,L[6]=eo,L[7]=i,L[8]=p):p=L[8],L[9]===Symbol.for("react.memo_cache_sentinel")?(x=(0,r.$)(u["file-name"]),L[9]=x):x=L[9],L[10]!==J||L[11]!==G||L[12]!==et?(y=(0,l.jsx)(h,{newPath:J,oldPath:G,status:et}),L[10]=J,L[11]=G,L[12]=et,L[13]=y):y=L[13],L[14]!==q||L[15]!==K||L[16]!==X||L[17]!==y?(g=(0,l.jsx)("h3",{className:x,children:(0,l.jsx)(o.A,{className:"Link--primary",href:q,onClick:X,ref:K,children:y})}),L[14]=q,L[15]=K,L[16]=X,L[17]=y,L[18]=g):g=L[18];let es=J??G??"";return L[19]===Symbol.for("react.memo_cache_sentinel")?(b={direction:"s"},L[19]=b):b=L[19],L[20]!==V||L[21]!==es?(j=(0,l.jsx)(m.T,{className:"ml-1 flex-shrink-0",textToCopy:es,ariaLabel:"Copy file name to clipboard",tooltipProps:b,onCopy:V}),L[20]=V,L[21]=es,L[22]=j):j=L[22],L[23]!==R||L[24]!==Y||L[25]!==et?(N=(0,c.AL)(et,Y,R)&&(0,l.jsxs)("div",{className:"p-2",children:[(0,l.jsx)("code",{children:Y}),(0,l.jsx)(a.ArrowRightIcon,{className:"mx-1"}),(0,l.jsx)("code",{children:R})]}),L[23]=R,L[24]=Y,L[25]=et,L[26]=N):N=L[26],L[27]!==E||L[28]!==$||L[29]!==Z||L[30]!==ei?(v=$&&Z&&(0,l.jsx)(d.m,{text:E?`collapse non diff lines: ${ei}`:`expand all lines: ${ei}`,direction:"s",children:(0,l.jsx)("button",{onClick:Z,className:`Button Button--iconOnly Button--invisible flex-shrink-0 ${E?"":"js-expand-all-difflines-button"}`,"aria-label":E?`collapse non diff lines: ${ei}`:`expand all lines: ${ei}`,"data-file-path":ei,children:E?(0,l.jsx)(a.FoldIcon,{}):(0,l.jsx)(a.UnfoldIcon,{})})}),L[27]=E,L[28]=$,L[29]=Z,L[30]=ei,L[31]=v):v=L[31],L[32]!==j||L[33]!==N||L[34]!==v||L[35]!==g?(C=(0,l.jsxs)("div",{className:"d-flex px-1 flex-items-center overflow-hidden flex-order-2 flex-sm-order-1",children:[g,j,N,v]}),L[32]=j,L[33]=N,L[34]=v,L[35]=g,L[36]=C):C=L[36],L[37]!==H||L[38]!==P||L[39]!==U||L[40]!==W||L[41]!==z?(w=!P&&(0,l.jsx)(f.z,{linesAdded:U,linesDeleted:z,linesChanged:W,tooltipDirection:"sw",...H}),L[37]=H,L[38]=P,L[39]=U,L[40]=W,L[41]=z,L[42]=w):w=L[42],L[43]!==w?(_=(0,l.jsx)("div",{className:"d-flex mr-2 flex-justify-end flex-items-center flex-1",children:w}),L[43]=w,L[44]=_):_=L[44],L[45]!==B||L[46]!==er||L[47]!==el||L[48]!==en?(D=B&&(0,l.jsxs)("div",{className:"d-flex flex-items-center",children:[(0,l.jsx)("code",{className:(0,r.$)("px-2",er&&"fgColor-danger",!er&&"fgColor-success"),children:`${en}`}),el]}),L[45]=B,L[46]=er,L[47]=el,L[48]=en,L[49]=D):D=L[49],L[50]!==F||L[51]!==O||L[52]!==Q?(T=F&&(0,l.jsxs)(s.I,{"aria-label":"File view",size:"small",className:"mx-2",onChange:Q?e=>Q(1===e):void 0,children:[(0,l.jsx)(s.I.IconButton,{"aria-label":"Display the source diff",defaultSelected:!O,icon:a.CodeIcon}),(0,l.jsx)(s.I.IconButton,{"aria-label":"Display the rich diff",defaultSelected:O,icon:a.FileIcon})]}),L[50]=F,L[51]=O,L[52]=Q,L[53]=T):T=L[53],L[54]!==el||L[55]!==_||L[56]!==D||L[57]!==T?(k=(0,l.jsxs)("div",{className:"d-flex flex-row flex-justify-end flex-1 flex-order-1 flex-sm-order-2 flex-items-center",children:[_,D,T,el]}),L[54]=el,L[55]=_,L[56]=D,L[57]=T,L[58]=k):k=L[58],L[59]!==I||L[60]!==C||L[61]!==k||L[62]!==t||L[63]!==p?(S=(0,l.jsxs)("div",{className:t,children:[p,I,C,k]}),L[59]=I,L[60]=C,L[61]=k,L[62]=t,L[63]=p,L[64]=S):S=L[64],S}try{h.displayName||(h.displayName="FileName")}catch{}try{p.displayName||(p.displayName="DiffFileHeader")}catch{}function x(e){let t,i;let a=(0,n.c)(6),{children:o,isAddition:s,className:d}=e,c=s?"fgColor-success":"fgColor-danger";return a[0]!==d||a[1]!==c?(t=(0,r.$)("ml-1 text-small text-bold",c,d),a[0]=d,a[1]=c,a[2]=t):t=a[2],a[3]!==o||a[4]!==t?(i=(0,l.jsx)("div",{className:t,children:o}),a[3]=o,a[4]=t,a[5]=i):i=a[5],i}try{x.displayName||(x.displayName="LinesChangedCounterLabel")}catch{}},84:(e,t,i)=>{function l(e){return void 0!==e.linesChanged&&0!==e.linesChanged}function n(e,t,i){return"MODIFIED"===e&&t!==i}function r(e,t,i,n){return"MODIFIED"===t&&i!==n&&!l(e)}function a(e){return"COPIED"===e.status&&!l(e)}function o(e){return"RENAMED"===e.status&&!l(e)}function s(e){return!!e.oldTreeEntry&&null===e.newTreeEntry}function d(e){return!!e.truncatedReason}i.d(t,{AL:()=>n,HI:()=>d,Jc:()=>a,Sn:()=>r,dK:()=>o,lO:()=>s,l_:()=>m,s8:()=>h,xW:()=>u});let c=["maximum diff size exceeded.","maximum number of lines exceeded."],f=/^maximum file count exceeded/;function m(e){let t=e;return c.includes(e)?t="Sorry, we could not display the changes to this file because there were too many other changes to display.":f.test(e)&&(t="Sorry, we could not display the changes to this file because there were too many other files to display."),t}function u(e){return!!e.newTreeEntry?.isGenerated}function h(e){return 0===e.linesChanged}},67220:(e,t,i)=>{function l(e){return`line-${e}`}function n(e,t,i){return`${e}${"left"===t?"L":"R"}${i}`}function r(e){return"DELETION"===e?"left":"right"}function a(e,t=!1,i=!1){if(i)return"var(--bgColor-attention-muted, var(--color-attention-subtle))";switch(e){case"ADDITION":return t?"var(--diffBlob-additionNum-bgColor, var(--diffBlob-addition-bgColor-num))":"var(--diffBlob-additionLine-bgColor, var(--diffBlob-addition-bgColor-line))";case"DELETION":return t?"var(--diffBlob-deletionNum-bgColor, var(--diffBlob-deletion-bgColor-num))":"var(--diffBlob-deletionLine-bgColor, var(--diffBlob-deletion-bgColor-line))";case"HUNK":return t?"var(--diffBlob-hunkNum-bgColor, var(--diffBlob-hunk-bgColor-num))":"var(--diffBlob-hunkLine-bgColor, var(--bgColor-accent-muted))";case"EMPTY":return t?"var(--diffBlob-emptyNum-bgColor, var(--diffBlob-hunk-bgColor-num))":"var(--diffBlob-emptyLine-bgColor, var(--bgColor-accent-muted))";default:return}}function o(e){let t=0;if(e)for(let i of e)t=Math.max(t,i?.left??0,i?.right??0);return Math.max(8*t.toString().length+20,40).toString()}i.d(t,{IQ:()=>n,Sq:()=>l,XU:()=>r,c7:()=>o,gK:()=>a})},73974:(e,t,i)=>{i.d(t,{Jg:()=>c,nq:()=>m,uP:()=>u.u,$e:()=>y,P3:()=>p,wj:()=>g,l4:()=>w,Qe:()=>b,Ah:()=>D});var l=i(74848),n=i(21728),r=i(20053),a=i(44968),o=i(67220);let s=e=>{let t,i,s,d,c,f,m,u,h,p;let x=(0,n.c)(34),{dragging:y,isHighlighted:g,isLeftColumn:b,colSpan:j,line:N,lineAnchor:v}=e,C=N.html,w="";if(["ADDITION","DELETION"].includes(N.type)&&["+","-"].includes(C[0])){let e;w=C[0],x[0]!==C?(e=C.slice(1),x[0]=C,x[1]=e):e=x[1],C=e}let _=y&&g,D=b&&"HUNK"!==N.type;x[2]!==_||x[3]!==D?(t=(0,r.$)("diff-text-cell",{"border-left color-border-accent-emphasis":_,"border-right":D}),x[2]=_,x[3]=D,x[4]=t):t=x[4],x[5]!==v?(i=v?(0,o.Sq)(v):void 0,x[5]=v,x[6]=i):i=x[6],x[7]!==g||x[8]!==N.type?(s=(0,o.gK)(N.type,!1,g),x[7]=g,x[8]=N.type,x[9]=s):s=x[9],x[10]!==s?(d={backgroundColor:s},x[10]=s,x[11]=d):d=x[11];let T=w,k="ADDITION"===N.type,S="DELETION"===N.type;x[12]!==k||x[13]!==S?(c=(0,r.$)("diff-text syntax-highlighted-line",{addition:k,deletion:S}),x[12]=k,x[13]=S,x[14]=c):c=x[14];let L=e.lineChild,I="HUNK"===N.type;x[15]!==I?(f=(0,r.$)("diff-text-inner",{"color-fg-muted":I}),x[15]=I,x[16]=f):f=x[16];let E="CONTEXT"===N.type?"-7px":void 0;return x[17]!==E?(m={marginLeft:E},x[17]=E,x[18]=m):m=x[18],x[19]!==C||x[20]!==f||x[21]!==m?(u=(0,l.jsx)(a.mo,{className:f,html:C,style:m}),x[19]=C,x[20]=f,x[21]=m,x[22]=u):u=x[22],x[23]!==w||x[24]!==e.lineChild||x[25]!==u||x[26]!==c?(h=(0,l.jsxs)("code",{"data-code-marker":T,className:c,children:[L,u]}),x[23]=w,x[24]=e.lineChild,x[25]=u,x[26]=c,x[27]=h):h=x[27],x[28]!==j||x[29]!==h||x[30]!==t||x[31]!==i||x[32]!==d?(p=(0,l.jsx)("td",{className:t,colSpan:j,id:i,style:d,children:h}),x[28]=j,x[29]=h,x[30]=t,x[31]=i,x[32]=d,x[33]=p):p=x[33],p};try{s.displayName||(s.displayName="DiffText")}catch{}let d=e=>{let t,i,a,s,d,c,f,m,u,h,p,x,y;let g=(0,n.c)(30);g[0]!==e?({ariaLabel:t,children:i,hasExpanderButton:s,lineType:f,colSpan:a,interactiveProps:d,isHighlighted:c,...m}=e,g[0]=e,g[1]=t,g[2]=i,g[3]=a,g[4]=s,g[5]=d,g[6]=c,g[7]=f,g[8]=m):(t=g[1],i=g[2],a=g[3],s=g[4],d=g[5],c=g[6],f=g[7],m=g[8]),g[9]!==i?(u=(0,l.jsx)("code",{className:"pr-2",children:i}),g[9]=i,g[10]=u):u=g[10];let b=u;if(d){let e;g[11]!==t||g[12]!==d||g[13]!==b?(e=(0,l.jsx)("button",{className:"diff-line-number-button",...d,"aria-label":t,children:b}),g[11]=t,g[12]=d,g[13]=b,g[14]=e):e=g[14],b=e}let j=d?void 0:t,N=!!d;g[15]!==s||g[16]!==N?(h=(0,r.$)("diff-line-number",{"has-expander":s,clickable:N}),g[15]=s,g[16]=N,g[17]=h):h=g[17];let v=a||1;return g[18]!==c||g[19]!==f?(p=(0,o.gK)(f,!0,c),g[18]=c,g[19]=f,g[20]=p):p=g[20],g[21]!==p?(x={backgroundColor:p},g[21]=p,g[22]=x):x=g[22],g[23]!==m||g[24]!==j||g[25]!==h||g[26]!==v||g[27]!==x||g[28]!==b?(y=(0,l.jsx)("td",{"aria-label":j,"data-line-number":!0,className:h,colSpan:v,style:x,...m,children:b}),g[23]=m,g[24]=j,g[25]=h,g[26]=v,g[27]=x,g[28]=b,g[29]=y):y=g[29],y};try{d.displayName||(d.displayName="LineNumber")}catch{}let c=e=>{let t,i,r,a;let o=(0,n.c)(28),{dragging:c,isHighlighted:f,isLeftColumn:m,isSplit:u,lineAnchor:h,line:p,lineChild:x,onLineNumberClick:y}=e,g="CONTEXT"===p.type||"INJECTED_CONTEXT"===p.type,b="ADDITION"!==p.type,j=b||!u,N="DELETION"!==p.type,v=N&&!g||!u,C=u&&g?m?p.left:p.right:p.left;return o[0]!==C||o[1]!==f||o[2]!==p.left||o[3]!==p.right||o[4]!==p.type||o[5]!==y||o[6]!==b||o[7]!==j?(t=j&&(0,l.jsx)(d,{ariaLabel:`Line ${b?p.left?.toString():p.right?.toString()}`,lineType:p.type,interactiveProps:y?{onClick:y}:null,isHighlighted:f,children:b&&C}),o[0]=C,o[1]=f,o[2]=p.left,o[3]=p.right,o[4]=p.type,o[5]=y,o[6]=b,o[7]=j,o[8]=t):t=o[8],o[9]!==f||o[10]!==p.left||o[11]!==p.right||o[12]!==p.type||o[13]!==y||o[14]!==N||o[15]!==v?(i=v&&(0,l.jsx)(d,{ariaLabel:`Line ${N?p.right?.toString():p.left?.toString()}`,lineType:p.type,interactiveProps:y?{onClick:y}:null,isHighlighted:f,children:N&&p.right}),o[9]=f,o[10]=p.left,o[11]=p.right,o[12]=p.type,o[13]=y,o[14]=N,o[15]=v,o[16]=i):i=o[16],o[17]!==c||o[18]!==f||o[19]!==m||o[20]!==p||o[21]!==h||o[22]!==x?(r=(0,l.jsx)(s,{dragging:c,isHighlighted:f,isLeftColumn:m,line:p,lineAnchor:h,lineChild:x}),o[17]=c,o[18]=f,o[19]=m,o[20]=p,o[21]=h,o[22]=x,o[23]=r):r=o[23],o[24]!==t||o[25]!==i||o[26]!==r?(a=(0,l.jsxs)(l.Fragment,{children:[t,i,r]}),o[24]=t,o[25]=i,o[26]=r,o[27]=a):a=o[27],a};try{c.displayName||(c.displayName="DiffLinePart")}catch{}var f=i(75177);function m(){let e,t,i;let r=(0,n.c)(3);return r[0]===Symbol.for("react.memo_cache_sentinel")?(e={bottom:"0 !important",clip:"rect(1px, 1px, 1px, 1px)",clipPath:"inset(50%)",height:"84px",position:"absolute",width:"320px"},r[0]=e):e=r[0],r[1]===Symbol.for("react.memo_cache_sentinel")?(t=(0,l.jsxs)("clipPath",{id:"diff-placeholder",children:[(0,l.jsx)("rect",{height:"11.9298746",rx:"2",width:"67.0175439",x:"0",y:"0"}),(0,l.jsx)("rect",{height:"11.9298746",rx:"2",width:"100.701754",x:"18.9473684",y:"47.7194983"}),(0,l.jsx)("rect",{height:"11.9298746",rx:"2",width:"37.8947368",x:"0",y:"71.930126"}),(0,l.jsx)("rect",{height:"11.9298746",rx:"2",width:"53.3333333",x:"127.017544",y:"48.0703769"}),(0,l.jsx)("rect",{height:"11.9298746",rx:"2",width:"72.9824561",x:"187.719298",y:"48.0703769"}),(0,l.jsx)("rect",{height:"11.9298746",rx:"2",width:"140.350877",x:"76.8421053",y:"0"}),(0,l.jsx)("rect",{height:"11.9298746",rx:"2",width:"140.350877",x:"17.8947368",y:"23.8597491"}),(0,l.jsx)("rect",{height:"11.9298746",rx:"2",width:"173.684211",x:"166.315789",y:"23.8597491"})]}),r[1]=t):t=r[1],r[2]===Symbol.for("react.memo_cache_sentinel")?(i=(0,l.jsx)(f.A,{"aria-hidden":"true",as:"svg",version:"1.1",viewBox:"0 0 340 84",xmlns:"http://www.w3.org/2000/svg",sx:e,children:(0,l.jsxs)("defs",{children:[t,(0,l.jsxs)("linearGradient",{id:"animated-diff-gradient",spreadMethod:"reflect",x1:"0",x2:"0",y1:"0",y2:"1",children:[(0,l.jsx)("stop",{offset:"0",stopColor:"#eee"}),(0,l.jsx)("stop",{offset:"0.2",stopColor:"#eee"}),(0,l.jsx)("stop",{offset:"0.5",stopColor:"#ddd"}),(0,l.jsx)("stop",{offset:"0.8",stopColor:"#eee"}),(0,l.jsx)("stop",{offset:"1",stopColor:"#eee"}),(0,l.jsx)("animateTransform",{attributeName:"y1",dur:"1s",repeatCount:"3",values:"0%; 100%; 0"}),(0,l.jsx)("animateTransform",{attributeName:"y2",dur:"1s",repeatCount:"3",values:"100%; 200%; 0"})]})]})}),r[2]=i):i=r[2],i}try{m.displayName||(m.displayName="DiffPlaceholder")}catch{}var u=i(20174);i(69710);var h=i(38621);function p(e){let t,i,r;let a=(0,n.c)(10),{currentLine:o,hunkButton:c,isLeftColumn:f,isSplit:m}=e;if(m&&!f)return null;a[0]!==o.type||a[1]!==c||a[2]!==m?(t=c?(0,l.jsx)(d,{colSpan:m?1:2,hasExpanderButton:!0,lineType:o.type,children:c}):(0,l.jsxs)(l.Fragment,{children:[(0,l.jsx)(d,{lineType:o.type,children:(0,l.jsx)(h.KebabHorizontalIcon,{})}),!m&&(0,l.jsx)(d,{lineType:o.type,children:(0,l.jsx)(h.KebabHorizontalIcon,{})})]}),a[0]=o.type,a[1]=c,a[2]=m,a[3]=t):t=a[3];let u=m?3:void 0;return a[4]!==o||a[5]!==u?(i=(0,l.jsx)(s,{isHighlighted:!1,isLeftColumn:!0,colSpan:u,line:o}),a[4]=o,a[5]=u,a[6]=i):i=a[6],a[7]!==t||a[8]!==i?(r=(0,l.jsxs)(l.Fragment,{children:[t,i]}),a[7]=t,a[8]=i,a[9]=r):r=a[9],r}try{p.displayName||(p.displayName="HunkHeaderDiffLine")}catch{}function x(){let e;let t=(0,n.c)(1);return t[0]===Symbol.for("react.memo_cache_sentinel")?(e=(0,l.jsx)("div",{className:"hunk-kebab-icon pr-2 pb-1",children:(0,l.jsx)(h.KebabHorizontalIcon,{})}),t[0]=e):e=t[0],e}try{x.displayName||(x.displayName="HunkKebabIcon")}catch{}function y(e){let t,i,a;let o=(0,n.c)(5),{isLeftColumn:s}=e;return o[0]===Symbol.for("react.memo_cache_sentinel")?(t=(0,l.jsx)(d,{lineType:"EMPTY"}),o[0]=t):t=o[0],o[1]!==s?(i=(0,r.$)("empty-diff-line",{"border-right":s}),o[1]=s,o[2]=i):i=o[2],o[3]!==i?(a=(0,l.jsxs)(l.Fragment,{children:[t,(0,l.jsx)("td",{className:i,colSpan:1})]}),o[3]=i,o[4]=a):a=o[4],a}try{y.displayName||(y.displayName="EmptyDiffLine")}catch{}function g(e){let t,i,r,a,o,s,d,c;let f=(0,n.c)(15);return f[0]===Symbol.for("react.memo_cache_sentinel")?(t=(0,l.jsx)("thead",{className:"sr-only",children:(0,l.jsxs)("tr",{children:[(0,l.jsx)("th",{scope:"col",children:"Original file line number"}),(0,l.jsx)("th",{scope:"col",children:"Original file line"}),(0,l.jsx)("th",{scope:"col",children:"Diff line number"}),(0,l.jsx)("th",{scope:"col",children:"Diff line change"})]})}),f[0]=t):t=f[0],f[1]!==e.lineWidth?(i=(0,l.jsx)("col",{width:e.lineWidth}),f[1]=e.lineWidth,f[2]=i):i=f[2],f[3]===Symbol.for("react.memo_cache_sentinel")?(r=(0,l.jsx)("col",{}),f[3]=r):r=f[3],f[4]!==e.lineWidth?(a=(0,l.jsx)("col",{width:e.lineWidth}),f[4]=e.lineWidth,f[5]=a):a=f[5],f[6]===Symbol.for("react.memo_cache_sentinel")?(o=(0,l.jsx)("col",{}),f[6]=o):o=f[6],f[7]!==i||f[8]!==a?(s=(0,l.jsxs)("colgroup",{children:[i,r,a,o]}),f[7]=i,f[8]=a,f[9]=s):s=f[9],f[10]!==e.children?(d=(0,l.jsx)("tbody",{children:e.children}),f[10]=e.children,f[11]=d):d=f[11],f[12]!==s||f[13]!==d?(c=(0,l.jsxs)(l.Fragment,{children:[t,s,d]}),f[12]=s,f[13]=d,f[14]=c):c=f[14],c}try{g.displayName||(g.displayName="SplitDiffTable")}catch{}function b(e){let t,i,r,a,o,s,d;let c=(0,n.c)(13);return c[0]===Symbol.for("react.memo_cache_sentinel")?(t=(0,l.jsx)("thead",{className:"sr-only",children:(0,l.jsxs)("tr",{children:[(0,l.jsx)("th",{scope:"col",children:"Original file line number"}),(0,l.jsx)("th",{scope:"col",children:"Diff line number"}),(0,l.jsx)("th",{scope:"col",children:"Diff line change"})]})}),c[0]=t):t=c[0],c[1]!==e.lineWidth?(i=(0,l.jsx)("col",{width:e.lineWidth}),r=(0,l.jsx)("col",{width:e.lineWidth}),c[1]=e.lineWidth,c[2]=i,c[3]=r):(i=c[2],r=c[3]),c[4]===Symbol.for("react.memo_cache_sentinel")?(a=(0,l.jsx)("col",{width:"100%"}),c[4]=a):a=c[4],c[5]!==i||c[6]!==r?(o=(0,l.jsxs)("colgroup",{children:[i,r,a]}),c[5]=i,c[6]=r,c[7]=o):o=c[7],c[8]!==e.children?(s=(0,l.jsx)("tbody",{children:e.children}),c[8]=e.children,c[9]=s):s=c[9],c[10]!==o||c[11]!==s?(d=(0,l.jsxs)(l.Fragment,{children:[t,o,s]}),c[10]=o,c[11]=s,c[12]=d):d=c[12],d}try{b.displayName||(b.displayName="UnifiedDiffTable")}catch{}let j={diffTextCell:"UnifiedDiffLines-module__diffTextCell--UAuIr",diffHunkCell:"UnifiedDiffLines-module__diffHunkCell--qPkzg",diffHunkText:"UnifiedDiffLines-module__diffHunkText--Sfwuu",diffTextInner:"UnifiedDiffLines-module__diffTextInner--IuEAA",diffTextMarker:"UnifiedDiffLines-module__diffTextMarker--MdAo4",syntaxHighlightedAdditionLine:"UnifiedDiffLines-module__syntaxHighlightedAdditionLine--lU_S2",syntaxHighlightedDeletionLine:"UnifiedDiffLines-module__syntaxHighlightedDeletionLine--xgQwN",diffLineNumber:"UnifiedDiffLines-module__diffLineNumber--bzzxf"};function N(e){let t,i,r,a;let s=(0,n.c)(9),{line:d,children:c}=e;return s[0]!==d.type?(t=(0,o.gK)(d.type,!0),s[0]=d.type,s[1]=t):t=s[1],s[2]!==t?(i={backgroundColor:t,textAlign:"center"},s[2]=t,s[3]=i):i=s[3],s[4]!==c?(r=(0,l.jsx)("code",{children:c}),s[4]=c,s[5]=r):r=s[5],s[6]!==i||s[7]!==r?(a=(0,l.jsx)("td",{className:j.diffLineNumber,style:i,children:r}),s[6]=i,s[7]=r,s[8]=a):a=s[8],a}function v(e){let t,i,o;let s=(0,n.c)(4),{line:d}=e;s[0]===Symbol.for("react.memo_cache_sentinel")?(t=(0,l.jsx)(x,{}),s[0]=t):t=s[0],s[1]===Symbol.for("react.memo_cache_sentinel")?(i=(0,r.$)(j.diffTextInner,"color-fg-muted"),s[1]=i):i=s[1];let c=d.html;return s[2]!==c?(o=(0,l.jsx)("td",{colSpan:4,className:j.diffHunkCell,valign:"top",children:(0,l.jsxs)("div",{className:"d-flex flex-row",children:[t,(0,l.jsx)("code",{className:j.diffHunkText,children:(0,l.jsx)(a.mo,{className:i,html:c})})]})}),s[2]=c,s[3]=o):o=s[3],o}function C(e){let t,i,s;let d=(0,n.c)(13),{line:c}=e,f="HUNK"===c.type,m="ADDITION"!==c.type,u="DELETION"!==c.type,h="ADDITION"===c.type?"+":"DELETION"===c.type?"-":void 0,p=!!h;return d[0]!==f||d[1]!==c?(t=f&&(0,l.jsx)(v,{line:c}),d[0]=f,d[1]=c,d[2]=t):t=d[2],d[3]!==f||d[4]!==c||d[5]!==h||d[6]!==m||d[7]!==p||d[8]!==u?(i=!f&&(0,l.jsxs)(l.Fragment,{children:[(0,l.jsx)(N,{line:c,children:m&&c.left}),(0,l.jsx)(N,{line:c,children:u&&c.right}),(0,l.jsx)("td",{className:j.diffTextCell,style:{backgroundColor:(0,o.gK)(c.type,!1)},children:(0,l.jsxs)("code",{className:(0,r.$)("ADDITION"===c.type&&j.syntaxHighlightedAdditionLine,"DELETION"===c.type&&j.syntaxHighlightedDeletionLine),children:[p&&(0,l.jsx)("span",{className:j.diffTextMarker,children:h}),(0,l.jsx)(a.mo,{className:j.diffTextInner,html:c.html,style:{backgroundColor:(0,o.gK)(c.type,!1)}})]})})]}),d[3]=f,d[4]=c,d[5]=h,d[6]=m,d[7]=p,d[8]=u,d[9]=i):i=d[9],d[10]!==t||d[11]!==i?(s=(0,l.jsxs)("tr",{children:[t,i]}),d[10]=t,d[11]=i,d[12]=s):s=d[12],s}function w(e){let t,i,r,a;let o=(0,n.c)(14),{sx:s,lines:d,lineWidth:c,tabSize:m}=e;if(o[0]!==d||o[1]!==m){let e;o[3]!==m?(e=(e,t)=>(0,l.jsx)(C,{line:e,tabSize:m},t),o[3]=m,o[4]=e):e=o[4],t=d.map(e),o[0]=d,o[1]=m,o[2]=t}else t=o[2];let u=t;return o[5]!==s?(i={borderTop:0,borderBottom:0,borderLeft:1,borderRight:1,borderStyle:"solid",borderColor:"border.muted",...s},o[5]=s,o[6]=i):i=o[6],o[7]!==u||o[8]!==c?(r=(0,l.jsx)(b,{lineWidth:c,children:u}),o[7]=u,o[8]=c,o[9]=r):r=o[9],o[10]!==i||o[11]!==r||o[12]!==m?(a=(0,l.jsx)(f.A,{as:"table",className:"tab-size","data-tab-size":m,sx:i,children:r}),o[10]=i,o[11]=r,o[12]=m,o[13]=a):a=o[13],a}try{N.displayName||(N.displayName="LineNumberCell")}catch{}try{v.displayName||(v.displayName="HunkCell")}catch{}try{C.displayName||(C.displayName="UnifiedDiffRow")}catch{}try{w.displayName||(w.displayName="UnifiedDiffLines")}catch{}function _(e){return"LEFT"===e?"-":"RIGHT"===e?"+":""}function D({startDiffSide:e,endDiffSide:t,originalStartLine:i,originalEndLine:l}){return e&&t&&"number"==typeof i&&"number"==typeof l?0===i&&1===l&&e===t?"-1 to +1":e===t&&i===l?`${_(e)}${i}`:`${_(e)}${i} to ${_(t)}${l}`:""}},69252:(e,t,i)=>{i.d(t,{U:()=>r});let l=e=>{let t=getComputedStyle(e,null);return["overflow","overflow-y","overflow-x"].some(e=>{let i=t.getPropertyValue(e);return"auto"===i||"scroll"===i})},n=(e,t)=>e&&null!==e.parentNode?n(e.parentNode,t.concat([e])):t;function r(e){if(e instanceof HTMLElement||e instanceof SVGElement){for(let t of n(e.parentNode,[]))if((t instanceof HTMLElement||t instanceof SVGElement)&&l(t))return t;return document.scrollingElement||document.documentElement}}},46636:(e,t,i)=>{i.d(t,{Q:()=>o,i:()=>s});var l=i(74848),n=i(21728),r=i(96540);let a=r.createContext(void 0);function o(e){let t;let i=(0,n.c)(3),{user:r,children:o}=e;return i[0]!==o||i[1]!==r?(t=(0,l.jsxs)(a.Provider,{value:r,children:[" ",o," "]}),i[0]=o,i[1]=r,i[2]=t):t=i[2],t}function s(){return r.useContext(a)}try{a.displayName||(a.displayName="CurrentUserContext")}catch{}try{o.displayName||(o.displayName="CurrentUserProvider")}catch{}},20174:(e,t,i)=>{i.d(t,{u:()=>o});var l=i(74848),n=i(21728),r=i(20053);let a={diffSquare:"DiffSquares-module__diffSquare--h5kjy",addition:"DiffSquares-module__addition--jeNtt",deletion:"DiffSquares-module__deletion--hKV3q",neutral:"DiffSquares-module__neutral--VlyoP"};function o(e){let t,i;let r=(0,n.c)(4),{squares:a}=e;return r[0]!==a?(t=a.map(s),r[0]=a,r[1]=t):t=r[1],r[2]!==t?(i=(0,l.jsx)("div",{className:"d-flex",children:t}),r[2]=t,r[3]=i):i=r[3],i}function s(e,t){return(0,l.jsx)("div",{"data-testid":`${e} diffstat`,className:(0,r.$)(a.diffSquare,a[e])},t)}try{o.displayName||(o.displayName="DiffSquares")}catch{}},69710:(e,t,i)=>{i.d(t,{z:()=>s});var l=i(74848),n=i(21728),r=i(94977),a=i(20174);let o={addition:"addition",deletion:"deletion",neutral:"neutral"};function s(e){let t,i,s,d,c,f,m,u,h,p;let x=(0,n.c)(28),{linesAdded:y,linesDeleted:g,linesChanged:b,tooltipDirection:j}=e,N=void 0===y?0:y,v=void 0===g?0:g,C=void 0===b?0:b;if(!N&&!v&&!C||0===C)return null;if(x[0]!==N||x[1]!==C||x[2]!==v){let{greenSquares:e,redSquares:l,graySquares:n}=function(e,t,i){let l=i>5?5/i:1,n=Math.floor(e*l),r=Math.floor(t*l);return{greenSquares:n,redSquares:r,graySquares:5-n-r}}(N,v,C);t=Array(e).fill(o.addition),i=Array(l).fill(o.deletion),s=Array(n).fill(o.neutral),x[0]=N,x[1]=C,x[2]=v,x[3]=t,x[4]=i,x[5]=s}else t=x[3],i=x[4],s=x[5];x[6]!==t||x[7]!==i||x[8]!==s?(d=[...t,...i,...s],x[6]=t,x[7]=i,x[8]=s,x[9]=d):d=x[9];let w=d;x[10]!==N?(c=N>0&&(0,l.jsxs)("span",{className:"f6 text-bold fgColor-success",children:["+",N.toLocaleString()]}),x[10]=N,x[11]=c):c=x[11],x[12]!==v?(f=v>0&&(0,l.jsxs)("span",{className:"f6 text-bold fgColor-danger",children:["-",v.toLocaleString()]}),x[12]=v,x[13]=f):f=x[13],x[14]!==N||x[15]!==C||x[16]!==v?(m=function({linesAdded:e,linesChanged:t,linesDeleted:i}){return`${t} ${1===t?"change":"changes"}: ${e} ${1===e?"addition":"additions"} & ${i} ${1===i?"deletion":"deletions"}`}({linesAdded:N,linesChanged:C,linesDeleted:v}),x[14]=N,x[15]=C,x[16]=v,x[17]=m):m=x[17];let _=j??"e";return x[18]!==w?(u=(0,l.jsx)(a.u,{squares:w}),x[18]=w,x[19]=u):u=x[19],x[20]!==m||x[21]!==_||x[22]!==u?(h=(0,l.jsx)(r.A,{"aria-label":m,direction:_,children:u}),x[20]=m,x[21]=_,x[22]=u,x[23]=h):h=x[23],x[24]!==h||x[25]!==c||x[26]!==f?(p=(0,l.jsxs)("div",{className:"d-flex flex-items-center gap-1 pl-1",children:[c,f,h]}),x[24]=h,x[25]=c,x[26]=f,x[27]=p):p=x[27],p}try{s.displayName||(s.displayName="DiffStats")}catch{}},57616:(e,t,i)=>{i.d(t,{Y:()=>u});var l=i(74848),n=i(59299),r=i(44999),a=i(16255),o=i(20053),s=i(96540);let d=i(38267).Ay.span.withConfig({displayName:"ControlledTooltip__TooltipBase",componentId:"sc-b39269ff-0"})(["&::after{position:absolute;z-index:1000000;display:none;padding:0.5em 0.75em;font:normal normal 11px/1.5 ",";-webkit-font-smoothing:subpixel-antialiased;color:",";text-align:center;text-decoration:none;text-shadow:none;text-transform:none;letter-spacing:normal;word-wrap:break-word;white-space:pre;pointer-events:none;content:attr(data-visible-text);background:",";border-radius:",";opacity:0;}@keyframes tooltip-appear{from{opacity:0;}to{opacity:1;}}&.tooltipped-open,&:hover,&:active,&:focus{&::after{display:inline-block;text-decoration:none;animation-name:tooltip-appear;animation-duration:0.1s;animation-fill-mode:forwards;animation-timing-function:ease-in;animation-delay:0s;}}&.tooltipped-no-delay.tooltipped-open,&.tooltipped-no-delay:hover,&.tooltipped-no-delay:active,&.tooltipped-no-delay:focus{&::after{animation-delay:0s;}}&.tooltipped-s,&.tooltipped-se,&.tooltipped-sw{&::after{top:100%;right:50%;margin-top:6px;}}&.tooltipped-se{&::after{right:auto;left:50%;margin-left:-",";}}&.tooltipped-sw::after{margin-right:-",";}&.tooltipped-n,&.tooltipped-ne,&.tooltipped-nw{&::after{right:50%;bottom:100%;margin-bottom:6px;}}&.tooltipped-ne{&::after{right:auto;left:50%;margin-left:-",";}}&.tooltipped-nw::after{margin-right:-",";}&.tooltipped-s::after,&.tooltipped-n::after{transform:translateX(50%);}&.tooltipped-w{&::after{right:100%;bottom:50%;margin-right:6px;transform:translateY(50%);}}&.tooltipped-e{&::after{bottom:50%;left:100%;margin-left:6px;transform:translateY(50%);}}&.tooltipped-align-right-2::after{right:0;margin-right:0;}&.tooltipped-align-left-2::after{left:0;margin-left:0;}",";"],(0,n.Jt)("fonts.normal"),(0,n.Jt)("colors.fg.onEmphasis"),(0,n.Jt)("colors.neutral.emphasisPlus"),(0,n.Jt)("radii.2"),(0,n.Jt)("space.3"),(0,n.Jt)("space.3"),(0,n.Jt)("space.3"),(0,n.Jt)("space.3"),r.A),c=()=>()=>void 0,f=()=>!1,m=()=>!0,u=(0,s.forwardRef)(function({direction:e="n",className:t,text:i,noDelay:n,align:r,wrap:u,open:h=!1,portalProps:p={},...x},y){let g=(0,s.useSyncExternalStore)(c,m,f),b=(0,o.$)(t,`tooltipped-${e}`,r&&`tooltipped-align-${r}-2`,n&&"tooltipped-no-delay",u&&"tooltipped-multiline",h&&"tooltipped-open");return g?(0,l.jsx)(a.Z,{...p,children:(0,l.jsx)(d,{ref:y,role:"tooltip","aria-label":i,"data-visible-text":i||x["aria-label"],...x,sx:{position:"fixed",zIndex:1,...x.sx},className:b})}):null});try{u.displayName||(u.displayName="ControlledTooltip")}catch{}},7284:(e,t,i)=>{i.d(t,{m:()=>s});var l=i(74848),n=i(69676),r=i(96540),a=i(57616),o=i(69252);let s=(0,r.forwardRef)(function({contentRef:e,open:t,anchoredPositionAlignment:i,anchorSide:s,anchorOffset:d,alignmentOffset:c,allowOutOfBounds:f,...m},u){let h=(0,r.useRef)(null);(0,r.useImperativeHandle)(u,()=>h.current);let p=(0,r.useRef)({left:0,top:0}),x=(0,r.useSyncExternalStore)((0,r.useCallback)(i=>{if(!h.current||!e.current||!t)return()=>void 0;let l=(0,o.U)(e.current);return l?.addEventListener("scroll",i),()=>{l?.removeEventListener("scroll",i)}},[e,t]),(0,r.useCallback)(()=>{if(!h.current||!e.current)return p.current;let t=(0,n.uG)(h.current,e.current,{align:i??"center",side:s??"outside-top",alignmentOffset:c??0,anchorOffset:d??0,allowOutOfBounds:f});return(t.left!==p.current.left||t.top!==p.current.top)&&(p.current=t),p.current},[e,c,d,i,s,f]),(0,r.useCallback)(()=>p.current,[]));return(0,l.jsx)(a.Y,{...m,ref:h,open:t,style:{position:"absolute",...x,...m.style}})});try{s.displayName||(s.displayName="PortalTooltip")}catch{}},41980:(e,t,i)=>{i.d(t,{Gy:()=>r,LB:()=>f,lm:()=>s,nn:()=>m});var l=i(74848),n=i(96540);let r={small:1,medium:544,large:768,xlarge:1012,xxlarge:1280,xxxlarge:1350,xxxxlarge:1440},a=[r.xxxxlarge,r.xxxlarge,r.xxlarge,r.xlarge,r.large,r.medium,r.small],o=n.createContext({screenSize:r.small});function s(){return n.useContext(o)}function d(e){let t=null,i=new ResizeObserver(()=>{t&&cancelAnimationFrame(t),t=requestAnimationFrame(e)});return i.observe(document.documentElement),()=>{t&&window.cancelAnimationFrame(t),i.disconnect()}}function c(){return m(window.innerWidth)}function f({children:e,initialValue:t=r.small}){let i=(0,n.useSyncExternalStore)(d,c,(0,n.useCallback)(()=>t,[t])),a=(0,n.useMemo)(()=>({screenSize:i}),[i]);return(0,l.jsx)(o.Provider,{value:a,children:e})}function m(e){for(let t of a)if(e>=t)return t;return r.small}try{o.displayName||(o.displayName="ScreenContext")}catch{}try{f.displayName||(f.displayName="ScreenSizeProvider")}catch{}}}]);
//# sourceMappingURL=ui_packages_code-view-shared_utilities_web-worker_ts-ui_packages_diff-file-header_diff-file-h-1692d0-7bee354c0935.js.map