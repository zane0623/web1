"use strict";(globalThis.webpackChunk=globalThis.webpackChunk||[]).push([["commits","ui_packages_file-renderer-blob_FileRendererBlob_tsx"],{58924:(e,t,n)=>{n.d(t,{A:()=>i});let i={activityHeader:"ActivityHeader-module__activityHeader--Flalv",footer:"ActivityHeader-module__footer--FVHp7",narrowViewportWrapper:"ActivityHeader-module__narrowViewportWrapper--Hjl75",edits:"ActivityHeader-module__edits--LwHTE"}},8489:(e,t,n)=>{n.d(t,{A:()=>i});let i={avatarOuter:"Avatar-module__avatarOuter--MZJZH",avatarInner:"Avatar-module__avatarInner--rVuJD",avatarLink:"Avatar-module__avatarLink--S36bm",hiddenActivityAvatar:"Avatar-module__hiddenActivityAvatar--TkNWK",activityAvatar:"Avatar-module__activityAvatar--yNkmi",issueViewerAvatar:"Avatar-module__issueViewerAvatar--grA_h",avatarWithDivider:"Avatar-module__avatarWithDivider--QAWxt",avatarWithoutDivider:"Avatar-module__avatarWithoutDivider--VO6EM"}},48416:(e,t,n)=>{n.d(t,{_:()=>i,c:()=>r});let i=()=>{let e=history.state?.appId;return e&&"rails"!==e?e:crypto.randomUUID()},r=e=>{history.replaceState({appId:e},"",location.href)}},93307:(e,t,n)=>{function i(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}n.d(t,{N:()=>DebouncedWorkerManager});let DebouncedWorkerManager=class DebouncedWorkerManager{post(e){if(this.debounceOverrideCondition&&this.debounceOverrideCondition(e))return this.delayId&&clearTimeout(this.delayId),this.postNow(e);this.idle()?(this.delayId&&clearTimeout(this.delayId),this.delayId=setTimeout(()=>{this.postNow(e)},this.delayMs)):this.nextRequest=e}postNow(e){this.currentRequest=e,this.worker.postMessage(e)}idle(){return!this.currentRequest}terminate(){this.worker.terminate()}constructor(e,t=200,n){i(this,"currentRequest",void 0),i(this,"nextRequest",void 0),i(this,"onResponse",void 0),i(this,"delayId",void 0),this.worker=e,this.delayMs=t,this.debounceOverrideCondition=n,this.worker.onmessage=({data:e})=>{this.onResponse&&this.onResponse(e),this.nextRequest?(this.postNow(this.nextRequest),this.nextRequest=void 0):this.currentRequest=void 0}}}},76235:(e,t,n)=>{n.d(t,{Bq:()=>r,Sp:()=>l,mU:()=>i,tD:()=>a});let i={issueComment:"react-issue-comment",commentsContainer:"react-comments-container",markdownBody:"markdown-body",issueBody:"react-issue-body"},r={issueCommentComposer:"react-issue-comment-composer"};function a(){var e,t;let n=document.querySelector(`${l(i.commentsContainer)} ${(e=r.issueCommentComposer,`#${e}`)}[data-inside-side-panel=true]`);return n||document.querySelector((t=r.issueCommentComposer,`#${t}`))}function l(e){return`.${e}`}},99582:(e,t,n)=>{n.d(t,{k:()=>i});let i={canNotComment:e=>e?`You do not have permissions to comment on this ${e}.`:"You do not have permissions to comment.",confirmations:{deleteCommentTitle:"Delete comment",deleteCommentContent:"Are you sure you'd like to delete this comment?",deleteCommentConfirmButtonContent:"Delete"},hiddenComment:"Hidden comment",hiddenCommentWithReason:"Hidden as",issueLockedToCollaborators:"This conversation has been locked and limited to collaborators.",repoArchived:"This repository has been archived.",sentViaEmail:"via email",commentAuthor:"Author",spammyBadge:"Spammy",spammyBadgeTooltip:"This user is marked as spammy. Their comments will only show in staff mode.",sponsorBadge:"Sponsor",newComment:"new Comment",newCommentPlaceholder:"Use Markdown to format your comment",commentSubjectAuthor:(e,t)=>`${e?"You are the":"This user is the"} author${t?` of this ${t}`:""}`,sponsor:(e,t)=>`${e}'s sponsor since ${t}`,noDescriptionProvided:"No description provided.",staleCommentErrorPrefix:"GraphQL error: STALE_DATA",issueConvertedToDiscussion:"Commenting has been disabled because this issue was converted to a"}},14438:(e,t,n)=>{n.d(t,{Y:()=>i});let i={avatarLink:"avatar-link",commentAuthorAssociation:"comment-author-association",commentSubjectAuthor:"comment-subject-author",spammyLabel:"spammy-label",sponsorLabel:"sponsor-label",commentHeader:"comment-header",commentHeaderLeftSideItems:"comment-header-left-side-items",commentHeaderRightSideItems:"comment-header-right-side-items",commentHeaderHamburger:"comment-header-hamburger",commentHeaderHamburgerOpen:"comment-header-hamburger-open",commentMenuRefComment:"comment-menu-ref-comment",commentViewerOuterBox:e=>e?`comment-viewer-outer-box-${e}`:"comment-viewer-outer-box",commentComposer:"comment-composer",markdownBody:"markdown-body",commentBox:(e="")=>`markdown-editor-${e}`,readonlyCommentBox:(e="")=>`readonly-markdown-editor-${e}`,commentSkeleton:"comment-skeleton"}},52655:(e,t,n)=>{n.d(t,{t:()=>i});let i={ghostUser:{displayName:"Ghost",login:"ghost",avatarUrl:"https://avatars.githubusercontent.com/ghost",path:"/ghost",url:"/ghost"},localStorageKeys:{issueComment:(e,t,n)=>`${e}-i${t}-c${n}.view-issue-comment`,issueNewComment:(e,t)=>`${e}-i${t}.view-issue-comment-new`}}},31402:(e,t,n)=>{n.d(t,{x:()=>f});var i=n(63510),r=n(67737),a=n(38359),l=n(81356),o=n(26677),s=n(96540),d=n(76235);let c={focusCommentComposer:"r"};var u=n(52655),m=n(86856);function f({commentBoxRef:e,markdownComposerRef:t,onChange:n,onCancel:f,referenceId:h,hasSingleKeyShortcutEnabled:p,insidePortal:g}){let[x,y]=(0,o.F)(u.t.localStorageKeys.issueNewComment("viewer",h),""),[b,C]=(0,s.useState)(x),v=(0,s.useMemo)(()=>(0,i.KG)(b),[b]),j=(0,a.X)(),w=void 0!==p?p:j?.current_user_settings?.use_single_key_shortcut||!1,{anyItemPickerOpen:N}=(0,r.t)(),k=(0,s.useCallback)(e=>{C(e),y(e)},[y]),S=(0,s.useCallback)(e=>{k(e),n(),""===e&&f()},[k,f,n]);(0,s.useImperativeHandle)(t,()=>({appendText:e=>{S(`${b}

${e}`)},setText:e=>{S(e)},focus:()=>{e.current?.focus()}}),[S,b,e]),(0,s.useEffect)(()=>C(b),[b,C]);let L=(0,s.useCallback)(t=>{if(!(!w||N())&&e&&e.current){t.preventDefault();let n=window.getSelection();if(n&&n.anchorNode){let e={anchorNode:n.anchorNode,range:n.getRangeAt(0)},t=n.anchorNode.parentElement,i=t?.closest(d.Sp(d.mU.issueComment))??t?.closest(d.Sp(d.mU.issueBody));if(i&&i instanceof HTMLDivElement){let t=(0,m.E)(i,e);k(`${t}`)}}e.current.scrollIntoView(),e.current.focus()}},[N,k,e,w]),D=(0,s.useCallback)(()=>{e.current?e.current.reset():C(""),y(void 0)},[e,y]);return(0,l._N)([c.focusCommentComposer],L,{triggerWhenInputElementHasFocus:!1,triggerWhenPortalIsActive:g}),{handleMarkdownBodyChanged:S,markdownValidationResult:v,markdownBody:b,resetMarkdownBody:D}}},68310:(e,t,n)=>{n.d(t,{i:()=>r});var i=n(99582);function r(e,t,n=null,a="issue"){return e?i.k.repoArchived:t?i.k.issueLockedToCollaborators:n||i.k.canNotComment(a)}},86856:(e,t,n)=>{n.d(t,{E:()=>d,s:()=>a});var i=n(66661),r=n(76235);function a(e){if(!e)return e;let t=e.split("\n"),n="";for(let e of t)n=n.concat(`> ${e}
`);return n}let l=e=>t=>{for(let n of e.matchAll(/(!\[[^[]+?\]\([^()]+\/)([\w\d-]+)(.+)/g)){let e=n[1],i=n[2],r=n[3];if(!e||!i||!r)continue;let a=`${e}${i}${r.split(")")[0]})`,l=t.split(i);if(l.length<2)continue;let o=l[0]?.match(/!\[[^[]+$/),s=l[1]?.split(")")[0],d=`${o}${i}${s})`;t=t.replaceAll(d,a)}return t},o=e=>"none"===e.style.display||"hidden"===e.style.visibility||"true"===e.ariaHidden,s=e=>{let t=document.createNodeIterator(e,NodeFilter.SHOW_ELEMENT,{acceptNode:()=>NodeFilter.FILTER_ACCEPT}),n=t.nextNode();for(;n;)n instanceof HTMLElement&&o(n)&&n.remove(),n=t.nextNode()};function d(e,t,n){if(!e)return;let a=e.querySelector((0,r.Sp)(r.mU.markdownBody)),o=new i.g("",s);t&&a.contains(t.anchorNode)&&a.contains(t.range.startContainer)&&a.contains(t.range.endContainer)&&!t.range.collapsed&&""!==t.range.toString().trim()?o.range=t.range:o.select(a),n&&(o.processSelectionTextFn=l(n));let d=(0,r.tD)();if(d){let e=d?.querySelector("textarea"),t=d?.querySelector("button");if(e)return o.insert(e),e.value;if(t)return o.quotedText}}},83249:(e,t,n)=>{var i=n(56413),r=n(88292),a=n(74848),l=n(17908),o=n(46636),s=n(12152),d=n(86365),c=n(96540),u=n(38621),m=n(24664);function f(){return(0,a.jsx)("div",{children:(0,a.jsxs)(m.A,{border:!1,spacious:!1,children:[(0,a.jsx)(m.A.Visual,{children:(0,a.jsx)(u.AlertIcon,{size:"medium",className:"mb-2 fgColor-muted"})}),(0,a.jsx)(m.A.Heading,{children:"Unable to load page."}),(0,a.jsxs)(m.A.Description,{children:[(0,a.jsx)("p",{className:"d-flex flex-justify-center mt-2",children:"The page is unavailable due to a system error."}),(0,a.jsx)("p",{className:"d-flex flex-justify-center mt-2",children:" Try reloading the page, or if the problem persists, contact support."}),(0,a.jsx)("p",{className:"d-flex flex-justify-center mt-2",children:(0,a.jsx)("a",{href:"https://www.githubstatus.com",children:"GitHub status"})})]})]})})}try{f.displayName||(f.displayName="CommitErrorState")}catch{}function h(e){let t=(0,d.B)(),[n]=(0,c.useState)(t?.repo),[i]=(0,c.useState)(t?.currentUser);return(0,a.jsx)(s.t,{critical:!0,fallback:(0,a.jsx)(f,{}),children:(0,a.jsx)(o.Q,{user:i,children:(0,a.jsx)(l.d,{repository:n,children:e.children})})})}try{h.displayName||(h.displayName="App")}catch{}var p=n(82431),g=n(56471),x=n(86617),y=n(73974),b=n(5796),C=n(79317),v=n(47584),j=n(11499),w=n(94232),N=n(87292),k=n(93653),S=n(18312),L=n(65481),D=n(30729);function E(){return(0,a.jsxs)(L.A,{variant:"warning",className:"mb-4",children:[(0,a.jsx)(D.A,{icon:u.AlertIcon,className:"mr-2"}),(0,a.jsx)("span",{className:"overflow-hidden",children:"This commit does not belong to any branch on this repository, and may belong to a fork outside of the repository."})]})}try{E.displayName||(E.displayName="SpoofedCommitWarningBanner")}catch{}var _=n(75177),A=n(74779);function I({oid:e,repo:t}){return(0,A.N)(e,t.id)?(0,a.jsxs)(L.A,{className:"mb-4",children:[(0,a.jsx)(_.A,{as:"img",src:"/images/modules/commit/flowers@2x.png",alt:"flower",className:"mr-4 mt-1 float-left",sx:{width:"88px",height:"49px"}}),(0,a.jsx)("h2",{children:"Thanks for everything, Jim."}),(0,a.jsx)("p",{children:"We will miss you."})]}):null}try{I.displayName||(I.displayName="WeirichCommitBanner")}catch{}function R({oid:e,repo:t,commitBranchState:n}){return(0,a.jsxs)(a.Fragment,{children:[n.loading||0!==n.branches.length?null:(0,a.jsx)(E,{}),(0,a.jsx)(I,{oid:e,repo:t})]})}try{R.displayName||(R.displayName="CommitBanners")}catch{}var T=n(41658),F=n(46309),O=n(46584),M=n(44968),U=n(32813),B=n(34407),$=n(56389),P=n(55847),H=n(34614),V=n(87330),K=n(47139),z=n(94977),G=n(20053),W=n(9916),q=n(95017),Q=n(55833),X=n(71238),Y=n(67984),J=n(11977),Z=n(37356),ee=n(2676);function et({data:e,repo:t,className:n}){return e.loading||0!==e.branches.length?(0,a.jsxs)("div",{className:(0,G.$)(n,"d-flex flex-items-center flex-wrap fgColor-muted gap-1"),children:[(0,a.jsx)(D.A,{className:"mr-1",icon:u.GitBranchIcon}),e.loading?(0,a.jsx)(B.O,{width:"60px",variant:"rounded",height:"22px"}):e.branches.map((n,i)=>(0,a.jsxs)("div",{children:[(0,a.jsx)(en,{branch:n,repo:t}),i!==e.branches.length-1?(0,a.jsx)("span",{className:"ml-1 user-select-none",children:"+"}):null]},n.branch))]}):null}function en({branch:e,repo:t}){let n=e.branch;return(0,a.jsxs)(a.Fragment,{children:[(0,a.jsx)(ee.A,{className:"mx-1",href:(0,b.bSP)({repo:t,head:n}),children:e.branch}),e.prs.length>0?(0,a.jsxs)(a.Fragment,{children:["(",e.prs.map((t,n)=>(0,a.jsxs)(c.Fragment,{children:[(0,a.jsx)(ei,{pullRequest:t}),n!==e.prs.length-1?(0,a.jsx)(a.Fragment,{children:",\xa0"}):null]},`pr-${t.repo.ownerLogin}-${t.repo.name}-${t.number}`)),")"]}):null]})}function ei({pullRequest:e}){let{repo:t,number:n,showPrefix:i}=e,r=i?`${t.ownerLogin}/${t.name}`:"";return(0,a.jsxs)(H.A,{href:(0,b.oDn)({repo:t,number:n}),className:"fgColor-muted","data-hovercard-url":(0,b.i9S)({owner:t.ownerLogin,repo:t.name,pullRequestNumber:n}),children:[r,"#",n]})}try{et.displayName||(et.displayName="CommitBranchInfo")}catch{}try{en.displayName||(en.displayName="BranchFragment")}catch{}try{ei.displayName||(ei.displayName="PullRequestLink")}catch{}let er={"commit-message-container":"CommitHeader-module__commit-message-container--nl1pf","commit-header-actions":"CommitHeader-module__commit-header-actions--kHXV1"};var ea=n(17774);function el({commit:e,repo:t}){return(0,a.jsxs)(a.Fragment,{children:[`${e.parents.length} parent${e.parents.length>1||0===e.parents.length?"s":""} `,e.parents.map((e,n)=>(0,a.jsxs)(c.Fragment,{children:[0!==n?" + ":"",(0,a.jsx)(H.A,{to:(0,b.$Qz)({owner:t.ownerLogin,repo:t.name,commitish:e})+new URL(v.fV.origin+v.fV.pathname+v.fV.search,v.fV.origin).search,as:ea.N,className:"color-fg-default Link--inTextBlock","data-hotkey":function(e){switch(e){case 0:return"p";case 1:return"o";default:return}}(n),"data-hovercard-url":(0,b.fQd)({owner:t.ownerLogin,repo:t.name,commitish:e}),children:(0,Q.F)(e)})]},e))]})}try{el.displayName||(el.displayName="CommitParents")}catch{}var eo=n(8338),es=n(91246);function ed({data:e,repo:t,className:n}){if(0===e.tags.length)return null;let i=e.tags.length>2&&e.tags.length<25,r=e.tags.length>=25;return(0,a.jsxs)("div",{className:(0,G.$)(n,"d-flex flex-items-center flex-wrap gap-1"),children:[(0,a.jsx)(D.A,{className:"mr-2 fgColor-muted",icon:u.TagIcon}),(0,a.jsx)(H.A,{href:(0,b.cpj)({owner:t.ownerLogin,repo:t.name,tag:e.tags[0]}),className:"fgColor-default",children:e.tags[0]}),i?(0,a.jsx)(ec,{tags:e.tags,repo:t}):null,r?(0,a.jsx)(eu,{tags:e.tags,repo:t}):null,e.tags.length>1?(0,a.jsx)(H.A,{href:(0,b.cpj)({owner:t.ownerLogin,repo:t.name,tag:e.tags[e.tags.length-1]}),className:"fgColor-muted",children:e.tags[e.tags.length-1]}):null]})}function ec({tags:e,repo:t}){let[n,i]=(0,c.useState)(!1),r=(0,c.useRef)(null),l=(0,c.useCallback)(()=>{i(!0),requestAnimationFrame(()=>r.current?.focus())},[]);return n?(0,a.jsx)(a.Fragment,{children:e.slice(1,e.length-1).map((e,n)=>(0,a.jsx)(H.A,{ref:0===n?r:null,href:(0,b.cpj)({owner:t.ownerLogin,repo:t.name,tag:e}),className:"fgColor-muted mx-1",children:e},e))}):(0,a.jsx)(V.K,{"aria-label":"Show more tags",unsafeDisableTooltip:!0,icon:u.KebabHorizontalIcon,size:"small",variant:"invisible",onClick:l})}function eu({tags:e,repo:t}){let[n,i]=(0,c.useState)(!1),r=(0,c.useRef)(null);return(0,a.jsxs)(a.Fragment,{children:[(0,a.jsx)(V.K,{"aria-label":"Show all tags",unsafeDisableTooltip:!0,icon:u.KebabHorizontalIcon,size:"small",variant:"invisible",onClick:()=>i(!0),ref:r}),n&&(0,a.jsx)(es.l,{title:`${e.length} tags`,onClose:()=>i(!1),returnFocusRef:r,width:"medium",height:e.length>=12?"small":"auto",renderBody:()=>(0,a.jsx)(eo.l,{className:"overflow-y-auto py-2","data-testid":"tag-dialog-list",children:e.map(e=>(0,a.jsx)(eo.l.LinkItem,{href:(0,b.cpj)({owner:t.ownerLogin,repo:t.name,tag:e}),children:e},e))})})]})}try{ed.displayName||(ed.displayName="CommitTagInfo")}catch{}try{ec.displayName||(ec.displayName="ExpandedTags")}catch{}try{eu.displayName||(eu.displayName="CommitTagsDialog")}catch{}let em=(0,c.memo)(ef);function ef({commit:e,commitInfo:t,repo:n}){let i=(0,c.useRef)(null),r=(0,q.I)(`${(0,b.$Qz)({owner:n.ownerLogin,repo:n.name,commitish:e.oid})}/deferred_commit_data`);return(0,a.jsxs)($.z,{children:[(0,a.jsx)($.z.TitleArea,{variant:"large",sx:{minWidth:0,alignItems:"center"},children:(0,a.jsxs)($.z.Title,{as:"h1",sx:{minWidth:0},className:"f2",children:["Commit ",(0,a.jsx)("span",{className:"text-mono bgColor-muted rounded p-1",children:(0,Q.F)(e.oid)})]})}),(0,a.jsx)($.z.Actions,{className:(0,G.$)(er["commit-header-actions"]),children:(0,a.jsxs)("div",{className:"d-flex gap-2 flex-items-center flex-md-justify-end",children:[(0,a.jsx)(ep,{}),(0,a.jsx)(z.A,{text:"Browse the repository at this point in the history",direction:"sw",sx:{display:"flex"},className:"d-none d-md-flex",children:(0,a.jsx)(P.Q,{as:H.A,sx:{color:"fg.default"},href:(0,b.IO9)({repo:n,action:"tree",commitish:e.oid}),leadingVisual:u.FileCodeIcon,children:"Browse files"})}),(0,a.jsx)(V.K,{as:H.A,href:(0,b.IO9)({repo:n,action:"tree",commitish:e.oid}),icon:u.FileCodeIcon,"aria-label":"Browse files",className:"d-flex d-md-none"})]})}),(0,a.jsx)($.z.Description,{children:(0,a.jsxs)("div",{className:"d-flex flex-column gap-2 width-full",children:[(0,a.jsx)(Y.j,{commit:e,repo:n,settings:{fontColor:"fg.default",avatarSize:20,fontWeight:"bold"},textVariant:"muted",children:(0,a.jsx)(eh,{deferredData:r,oid:e.oid,repo:n})}),(0,a.jsxs)(Z.Z,{className:"pt-0",children:[(e.shortMessageMarkdown||e.bodyMessageHtml)&&(0,a.jsxs)("div",{className:(0,G.$)(er["commit-message-container"]),children:[e.shortMessageMarkdown&&(0,a.jsx)(M.yx,{ref:i,html:e.shortMessageMarkdown,className:"ws-pre-wrap f5 wb-break-word text-mono"}),e.bodyMessageHtml&&(0,a.jsx)(M.yx,{html:e.bodyMessageHtml,className:"ws-pre-wrap extended-commit-description-container f6 wb-break-word text-mono mt-2"})]}),(0,a.jsxs)("div",{className:"p-2 d-flex gap-2 flex-column flex-md-row flex-justify-between",children:[(0,a.jsxs)("div",{className:"d-flex flex-row flex-items-center",children:[(0,a.jsx)(et,{data:t,repo:n}),t.tags.length>0&&(0,a.jsx)("span",{className:"px-2",children:"\xb7"}),(0,a.jsx)(ed,{data:t,repo:n})]}),(0,a.jsxs)("pre",{className:"color-fg-muted d-flex flex-items-center",children:[(0,a.jsx)(el,{commit:e,repo:n})," commit ",(0,a.jsx)("span",{className:"fgColor-default",children:(0,Q.F)(e.oid)}),(0,a.jsx)(J.w,{sha:e.oid,direction:"sw"})]})]})]})]})})]})}function eh({deferredData:e,oid:t,repo:n}){let{helpUrl:i}=(0,W.D)(),r=void 0===e,l="";try{l=e?.statusCheckStatus?.short_text?.split("checks")[0]?.trim()||""}catch{}return(0,a.jsxs)(a.Fragment,{children:[r&&(0,a.jsx)(B.O,{className:"ml-2",variant:"rounded",width:"62px"}),e?.statusCheckStatus&&(0,a.jsxs)(a.Fragment,{children:[(0,a.jsx)("span",{className:"d-flex ml-2 mr-1",children:"\xb7"}),(0,a.jsx)(X.d,{oid:t,status:e?.statusCheckStatus?.state,descriptionString:l,repo:n}),e?.signatureInformation&&e?.verifiedStatus!=="unsigned"&&(0,a.jsx)("span",{className:"d-flex ml-2",children:"\xb7"})]}),e?.signatureInformation&&(0,a.jsx)("div",{className:"ml-2",children:(0,a.jsx)(U.h,{commitOid:t,hasSignature:!0,verificationStatus:e.verifiedStatus,signature:{helpUrl:i,...e.signatureInformation}})})]})}function ep(){return(0,O.u)("diff_ux_refresh_beta")?(0,a.jsxs)("div",{className:"d-flex flex-items-center gap-2",children:[(0,a.jsx)(K.A,{variant:"success",children:"Preview"}),(0,a.jsx)(H.A,{href:"https://gh.io/new-commit-details-feedback",target:"_blank",rel:"noopener noreferrer",className:"no-wrap f5 text-normal d-none d-sm-block",children:"Give feedback"})]}):null}try{em.displayName||(em.displayName="CommitHeader")}catch{}try{ef.displayName||(ef.displayName="CommitHeaderUnmemoized")}catch{}try{eh.displayName||(eh.displayName="DeferredCommitHeaderData")}catch{}try{ep.displayName||(ep.displayName="Feedback")}catch{}function eg({unavailableReason:e,commit:t,commitInfo:n}){let i=(0,l.t)(),r=ex[e];return(0,a.jsxs)(a.Fragment,{children:[(0,a.jsx)(F.B,{"data-hpc":!0,padding:{narrow:"normal",regular:"spacious"},children:(0,a.jsx)(em,{commit:t,commitInfo:n,repo:i})}),(0,a.jsxs)(m.A,{children:[(0,a.jsx)(m.A.Visual,{children:r.visual}),(0,a.jsx)(m.A.Heading,{children:r.heading}),(0,a.jsx)(m.A.Description,{children:r.description}),r.secondaryAction]})]})}let ex={corrupt:{visual:(0,a.jsx)(u.AlertIcon,{}),heading:"Sorry, this diff is unavailable.",description:"The repository may be missing relevant data.",secondaryAction:(0,a.jsx)(m.A.SecondaryAction,{href:(0,b.y2B)(),children:"Please contact support for more information"})},"missing commits":{visual:(0,a.jsx)(u.AlertIcon,{}),heading:"Sorry, this diff is unavailable.",description:"The repository may be missing relevant data.",secondaryAction:(0,a.jsx)(m.A.SecondaryAction,{href:(0,b.y2B)(),children:"Please contact support for more information"})},timeout:{visual:(0,a.jsx)(u.HourglassIcon,{}),heading:"Sorry, this diff is taking too long to generate.",description:"It may be too large to display on GitHub."},"too busy":{visual:(0,a.jsx)(u.HourglassIcon,{}),heading:"Sorry, this diff is temporarily unavailable due to heavy server load.",description:"Please try again later."}};try{eg.displayName||(eg.displayName="CommitUnavailable")}catch{}var ey=n(26920),eb=n(29063),eC=n(73218),ev=n(38359),ej=n(27068),ew=n(72777),eN=n(35822);let ek="commit-details-marker-portal";var eS=n(57572);let eL={extraDiffEntries:[],loading:!0,error:!1};var eD=n(37827);function eE(){let[e,t]=(0,c.useState)(!1);return(0,a.jsx)("div",{className:e?"":"pt-4",children:!e&&(0,a.jsx)(eD.l,{title:"Some content is hidden",description:(0,a.jsx)("div",{className:"d-flex flex-items-center",style:{justifyContent:"center"},children:"Large Commits have some content hidden by default. Use the searchbox below for content that may be hidden."}),variant:"warning",onDismiss:()=>t(!0)})})}try{eE.displayName||(eE.displayName="VirtualizedBanner")}catch{}var e_=n(1977),eA=n(84),eI=n(43732),eR=n(79740),eT=n(74493),eF=n(56366);async function eO(e,t,n){let i=await (0,eS.Sr)(`${t}?pathDigest=${n}${function(e){let t="";for(let n=0;n<e.length;n++)t+=`&lineRanges[]=${JSON.stringify(e[n])}`;return t}(e)}`);if(i.ok)return await i.json()??void 0}async function eM({repo:e,sha1:t,sha2:n,entry:i}){let r=await (0,eS.Sr)((0,eF.RD)((0,b.uxJ)({owner:e.ownerLogin,repo:e.name,entry:i,sha1:t,sha2:n})));if(r.ok){let e=await r.json();return(0,eF.Av)(e),e.diffLines}throw Error("error fetching diff lines.")}function eU(e,t){let n=new Map;for(let t of e){let e=`${t.left}-${t.right}`;n.set(e,t)}return t.map(e=>{let t=`${e.left}-${e.right}`,i=n.get(t);return i?{...e,position:i.position}:{...e,position:null,threadsData:void 0}})}var eB=n(96590),e$=n(89323);function eP({oid:e,path:t,repo:n,isViewable:i=!0,copilotDiffChatProps:r}){return(0,a.jsxs)(e$.W,{children:[(0,a.jsx)(e$.W.Anchor,{children:(0,a.jsx)("button",{className:"Button Button--iconOnly Button--invisible","aria-label":"More options",children:(0,a.jsx)(u.KebabHorizontalIcon,{})})}),(0,a.jsx)(e$.W.Overlay,{children:(0,a.jsxs)(eo.l,{children:[(0,a.jsxs)(eo.l.LinkItem,{href:(0,b.nD_)({repo:n.name,owner:n.ownerLogin,filePath:t,commitish:e}),inactiveText:i?void 0:"Action unavailable",children:[(0,a.jsx)(eo.l.LeadingVisual,{children:(0,a.jsx)(u.EyeIcon,{})}),"View file"]}),r&&(0,a.jsx)(eB.$,{...r})]})})]})}try{eP.displayName||(eP.displayName="BlobActionsMenu")}catch{}let eH=(0,c.memo)(function({commitOid:e,path:t,proseDiffHtml:n,fileRendererInfo:i,dependencyDiffPath:r}){let{loaded:o,richDiffData:s}=function(e,t,n,i){let r=!!t.proseDiffHtml||!!t.fileRendererInfo||!!i,a=(0,l.t)(),[o,s]=(0,c.useState)(r),[d,u]=(0,c.useState)(t),m=(0,c.useCallback)(async()=>{let t=await (0,eS.lS)(`${(0,b.$Qz)({owner:a.ownerLogin,repo:a.name,commitish:e})}/rich_diff/${encodeURIComponent(n)}`);t.ok&&u(await t.json()),s(!0)},[e,n,a]);return(0,c.useEffect)(()=>{r||m()},[r,m]),{loaded:o,richDiffData:d}}(e,{proseDiffHtml:n,fileRendererInfo:i},t,r);return(0,a.jsx)(g.Uz,{dependencyDiffPath:r,fileRendererInfo:s.fileRendererInfo,loading:!o,proseDiffHtml:s.proseDiffHtml})});try{eH.displayName||(eH.displayName="CommitRichDiff")}catch{}let eV={diffHeaderWrapper:"Diff-module__diffHeaderWrapper--rsdD4"},eK={isInMergeQueue:!1,state:"OPEN"},ez=c.memo(eG);function eG({diffMatches:e,focusedSearchResult:t,diffEntryData:n,contextLinePathURL:i,recalcTotalHeightOfVirtualWindow:r,onOptionCollapseToggle:l,helpUrl:s,headerStickyOffset:u=0,repo:m,oid:f,index:h,ignoreWhitespace:p,virtualizerScrollTo:y}){let b=(0,o.i)(),{data:C}=(0,x.Pe)();void 0===C&&(C=x.in);let v=(0,c.useMemo)(()=>({filteredMarkers:[],activeGlobalMarkerID:"",decrementActiveMarker:eC.l,incrementActiveMarker:eC.l,onActivateGlobalMarkerNavigation:eC.l,overlayPortalContainerName:ek}),[]),j=(0,d.B)().commentInfo,{getThreadDataByPathAndPosition:w,getInlineCommentInfoByPathAndPosition:N,updateInlineCommentMapWithNewComment:k,initialExpandedThreadId:S}=(0,eI.B)(),L=function(e,t,n){let i=(0,d.B)(),{commit:r,commentInfo:a}=i,l=(0,eT.I)({commit:r,repo:i.repo,viewerCanReply:a.canComment,getInlineCommentInfoByPathAndPosition:t}),{addComment:o,deleteComment:s,editComment:u,hideComment:m,unhideComment:f}=(0,eR.X)(),{findInlineComment:h}=(0,eI.B)(),{diff_inline_comments:p}=(0,O.h)(),g=(0,c.useCallback)(({filePath:e,onCompleted:t,onError:n,text:i,thread:r})=>{let[a,l]=r.id.split("::");if(!a||!l){n(Error("Invalid threadId"));return}o(i,e,l).then(e=>{e.comment?t?.(e.comment.id):n(Error("Failed to add comment"))})},[o]),x=(0,c.useCallback)(({text:e,diffLine:t,filePath:i,onCompleted:r,onError:a})=>{t&&t.position&&o(e,i,t.position.toString()).then(e=>{if(e.comment){let a=e.comment.id,o=`${i}::${t.position}`;p&&(n?.(i,t.position??0,[e.comment],!0),l(o)),r?.(o,a)}else a?.(Error("Failed to add comment"))})},[o,p,n,l]),y=(0,c.useCallback)(({comment:e,text:t,onCompleted:n,onError:i})=>{let r=h(e.id);if(!r){i(Error("Comment not found"));return}u(t,{id:r.id,bodyVersion:r.bodyVersion}).then(e=>{e.updatedFields?n?.():i(Error("Failed to edit comment"))})},[u,h]),b=(0,c.useCallback)(({commentId:e,onCompleted:t,onError:n})=>{let i=h(e);if(!i){n?.(Error("Comment not found"));return}s(i.id.toString()).then(e=>{"success"===e?t?.():"error"===e&&n?.(Error("Failed to delete comment"))})},[s,h]),C=(0,c.useCallback)(({commentId:e,reason:t,onCompleted:n,onError:i})=>{let r=h(e);if(!r){i?.(Error("Comment not found"));return}m(r.id.toString(),t).then(e=>{"success"===e?n?.():"error"===e&&i(Error("Failed to hide comment"))})},[h,m]),v=(0,c.useCallback)(({commentId:e,onCompleted:t,onError:n})=>{let i=h(e);if(!i){n?.(Error("Comment not found"));return}f(i.id.toString()).then(e=>{"success"===e?t?.():"error"===e&&n(Error("Failed to unhide comment"))})},[h,f]);return(0,c.useMemo)(()=>({batchingEnabled:!1,commentSubjectType:"commit",multilineEnabled:!1,resolvingEnabled:!1,suggestedChangesEnabled:!1,lazyFetchReactionGroups:!0,addThread:x,addThreadReply:g,deleteComment:b,editComment:y,pendingSuggestedChangesBatch:[],submitSuggestedChanges:eC.l,addSuggestedChangeToPendingBatch:eC.l,removeSuggestedChangeFromPendingBatch:eC.l,addFileLevelThread:eC.l,resolveThread:eC.l,unresolveThread:eC.l,hideComment:C,unhideComment:v,fetchThread:l,commentBoxConfig:{pasteUrlsAsPlainText:e.pasteUrlsAsPlainText,useMonospaceFont:e.useMonospaceFont}}),[x,g,b,y,l,C,v,e])}((0,eR.X)().commentBoxConfig,N,k),[D,E]=(0,c.useState)(eW(n.current[h],w)),_=(0,c.useCallback)(e=>{E(eW(e,w))},[w]),[A,I]=(0,c.useState)(D.collapsed),[R,T]=(0,c.useState)(D.defaultToRichDiff),F=D.isSubmodule&&!!D.submodule,M=!F&&!R,[U,B]=(0,c.useState)(D.diffManuallyExpanded),$=(0,c.useRef)(!1);(0,c.useEffect)(()=>{I(D.collapsed)},[D.collapsed]);let P=(0,c.useRef)([]),H=(0,c.useCallback)(async e=>{P.current.push(e);let t=await eO(P.current,i,D.pathDigest);if(void 0!==t){let e={...D};e.diffLines=eU(e.diffLines,t.diffEntryWithContext),_(e),n.current[h]=e,r()}},[i,n,D,h]),V=async()=>{P.current=[],$.current||((D.newTreeEntry?.lineCount??0)<5e3?P.current.push({start:1,end:Math.max(D.oldTreeEntry?.lineCount??0,D.newTreeEntry?.lineCount??0)}):P.current=function(e,t){let n=[];for(let t=0;t<e.length;t++)if("HUNK"===e[t].type){let i=e[t-1>=0?t-1:0],r=e[t+1<e.length?t+1:e.length-1],a=i?.blobLineNumber,l=r?.blobLineNumber;a&&l&&(n.push({start:a,end:a+40}),n.push({start:Math.max(l-40,1),end:l}))}let i=e[e.length-1].blobLineNumber;return i<t&&n.push({start:i,end:i+40}),n}(D.diffLines,D.newTreeEntry?.lineCount??0)),$.current=!$.current;let e=await eO(P.current,i,D.pathDigest);if(void 0!==e){let t={...D};t.diffLines=eU(t.diffLines,e.diffEntryWithContext),_(t),n.current[h]=t,r()}},K=(0,c.useCallback)(async()=>{if(0===D.diffLines.length){let e;try{e=await eM({repo:m,sha1:D.oldOid,sha2:D.newOid,entry:D.diffNumber.toString()})}catch{throw Error("Error fetching diff lines")}let t={...D};t.diffLines=e,_(t),n.current[h]=t}D.diffManuallyExpanded=!0,n.current[h].diffManuallyExpanded=!0,B(!0),r(),requestAnimationFrame(()=>{y?.(h,{align:"center"})})},[n,D,h,r]);(0,c.useEffect)(()=>{_(n.current[h]),P.current=[]},[p,h,n,f,m.name,m.ownerLogin,D.path,_]);let z=(0,c.useMemo)(()=>{if(D.isBinary||D.isSubmodule||(0,eA.dK)(D))return!1;if($.current||(n.current[h]?.diffLines?.[1]?.blobLineNumber||0)>1)return!0;let e=n.current[h]?.diffLines?.length||0,t=n.current[h]?.diffLines?.[e-1]?.blobLineNumber||0,i=n.current[h]?.newTreeEntry?.lineCount||0;return t<i||e-1<i},[n.current[h]?.diffLines,n.current[h]?.newTreeEntry?.lineCount,h,n,D]),G=(0,c.useMemo)(()=>({avatarUrl:b?.avatarURL??"",diffViewPreference:C.splitPreference,isSiteAdmin:!1,commentsPreference:C.commentsPreference,login:b?.login??"",lineSpacingPreference:C.lineSpacing,tabSizePreference:b?.tabSize??8,viewerCanComment:j.canComment,viewerCanApplySuggestion:!1}),[b?.avatarURL,b,b?.login,b?.tabSize,C]),W=(0,c.useMemo)(()=>{if(D.copilotChatReference)return{copilotChatReference:D.copilotChatReference}},[D]);return(0,a.jsxs)("div",{className:"position-relative",style:{contain:"layout"},children:[(0,a.jsx)("div",{className:eV.diffHeaderWrapper,style:{"--header-sticky-offset":`${u}px`},children:(0,a.jsx)(e_.B,{areLinesExpanded:$.current,canExpandOrCollapseLines:z,defaultToRichDiff:D.defaultToRichDiff,fileLinkHref:`#diff-${D.pathDigest}`,isCollapsed:A,isBinary:D.isBinary,isSubmodule:F,size:D.diffSize,canToggleRichDiff:D.canToggleRichDiff,linesAdded:D.linesAdded,linesChanged:D.linesChanged,linesDeleted:D.linesDeleted,newMode:D.newTreeEntry?.mode,newPath:D.newTreeEntry?.path,oldMode:D.oldTreeEntry?.mode,oldPath:D.oldTreeEntry?.path,patchStatus:D.status,path:D.path,onToggleExpandAllLines:V,onToggleFileCollapsed:e=>{e.altKey?l(!A):(D.collapsed=!A,n.current[h].collapsed=!A,I(!A))},onToggleDiffDisplay:e=>T(e),rightSideContent:(0,a.jsx)(eP,{oid:"REMOVED"===D.status&&D.deletedSha?D.deletedSha:f,path:D.path,repo:m,isViewable:!D.isSubmodule,copilotDiffChatProps:W})})}),A?null:(0,a.jsxs)("div",{className:"border position-relative rounded-bottom-2",children:[F&&D.submodule&&(0,a.jsx)(g.Wb,{submodule:D.submodule}),R&&(0,a.jsx)(eH,{commitOid:f,path:D.path,proseDiffHtml:D.proseDifffHtml,fileRendererInfo:D.renderInfo,dependencyDiffPath:D.dependencyDiffPath}),M&&(0,a.jsx)(g.T5,{diffContext:"commit",copilotChatReference:D.copilotChatReference,searchResults:e,focusedSearchResult:t,diffEntryData:D,baseHelpUrl:s,commentingEnabled:!0,commentBatchPending:!1,repositoryId:m.id.toString(),subject:eK,subjectId:f,viewerData:G,newCommitOid:D.newOid,oldCommitOid:D.oldOid,addInjectedContextLines:H,commentingImplementation:L,markerNavigationImplementation:v,diffLinesManuallyUnhidden:U,onHandleLoadDiff:K,initialExpandedThreadId:S})]})]},`${D.pathDigest}_${D.diffLines.length}`)}function eW(e,t){for(let n of e.diffLines??[]){let i=t(e.path,n.position);i?n.threadsData={totalCommentsCount:i.count,totalCount:i.count,threads:(i.threads??[]).map(e=>({id:e.id,diffSide:e.diffSide,commentsData:e.commentsData,line:n.blobLineNumber,isOutdated:!1}))}:n.threadsData=void 0}return e}try{ez.displayName||(ez.displayName="Diff")}catch{}try{eG.displayName||(eG.displayName="DiffUnmemoized")}catch{}var eq=n(47326),eQ=n(84217);let eX=(0,c.memo)(eY);function eY({treeToggleElement:e,headerInfo:t,searchBox:n}){let i=(0,c.useRef)(null),r=function(e){let[t,n]=(0,c.useState)(!1),i=(0,c.useCallback)(e=>{let i=e[e.length-1].intersectionRatio<1;i!==t&&n(i)},[t,n]);return(0,c.useEffect)(()=>{let t=e.current,n=new IntersectionObserver(i,{root:t?.ownerDocument,threshold:[1],rootMargin:"-1px 0px 0px 0px"});return e.current&&n.observe(e.current),()=>{t&&n.unobserve(t)}},[e,i]),t}(i),l=r?"d-none d-sm-flex":"";return(0,a.jsxs)("div",{className:"d-flex flex-items-center flex-justify-between gap-2 pt-3 pt-lg-4 pb-2 position-sticky top-0 color-bg-default",style:{zIndex:2},ref:i,children:[(0,a.jsxs)("div",{className:"d-flex flex-items-center",children:[e,(0,a.jsxs)(eQ.A,{as:"h2",className:"mx-2 f4",children:[t.filesChangedString," file",t.filesChanged>1?"s":""," changed"]}),(0,a.jsxs)(e_.C,{className:l,isAddition:!0,children:["+",t.additions]}),(0,a.jsxs)(e_.C,{className:l,isAddition:!1,children:["-",t.deletions]}),(0,a.jsx)("span",{className:`${l} ml-2 fgColor-muted text-small`,style:{whiteSpace:"nowrap"},children:"lines changed"})]}),(0,a.jsxs)("div",{className:"d-flex gap-2 flex-items-center",children:[r&&(0,a.jsx)(eJ,{}),void 0!==n&&n,(0,a.jsx)(eq.G,{reloadOnWhitespaceChange:!0})]})]})}let eJ=()=>(0,a.jsx)(P.Q,{leadingVisual:u.ArrowUpIcon,variant:"invisible",className:"fgColor-default px-2 f6 gap-1",onClick:e=>{e.preventDefault(),window.scrollTo({top:0,behavior:"smooth"})},children:"Top"});try{eX.displayName||(eX.displayName="DiffsHeader")}catch{}try{eY.displayName||(eY.displayName="DiffsHeaderUnmemoized")}catch{}try{eJ.displayName||(eJ.displayName="GoToTopButton")}catch{}let eZ=c.memo(e0);function e0(){return(0,a.jsx)("div",{className:"pt-3",children:(0,a.jsxs)("div",{className:"border borderColor-muted rounded-top-2",children:[(0,a.jsx)("div",{className:"gap-2 p-3 border-bottom borderColor-muted bgColor-muted rounded-top-2",children:(0,a.jsx)(B.O,{height:"sm",variant:"rounded",width:"140px"})}),(0,a.jsxs)("div",{className:"d-flex flex-column gap-2 p-3",children:[(0,a.jsx)(B.O,{height:"sm",variant:"rounded",width:"random"}),(0,a.jsx)(B.O,{height:"sm",variant:"rounded",width:"random"}),(0,a.jsx)(B.O,{height:"sm",variant:"rounded",width:"random"}),(0,a.jsx)(B.O,{height:"sm",variant:"rounded",width:"random"})]})]})})}try{eZ.displayName||(eZ.displayName="LoadingContentBlock")}catch{}try{e0.displayName||(e0.displayName="LoadingContentBlockUnmemoized")}catch{}function e1({diffEntryData:e,contextLinePathURL:t,repo:n,oid:i,treeToggleElement:r,headerInfo:l,totalFileCount:o}){let s=(0,c.useRef)(e),u=(0,ev.X)(),m=(0,d.B)(),{diff_ux_refresh_ssr_five:f,diff_ux_refresh_ssr_ten:h}=(0,O.h)(),p=f?5:h?10:void 0;return(0,a.jsxs)("div",{"data-hpc":!0,children:[o>40&&(0,a.jsx)(eE,{}),(0,a.jsx)(eX,{treeToggleElement:r,headerInfo:l}),e.map((e,r)=>p&&r>=p?null:(0,a.jsx)("div",{className:0===r?"pt-0":"pt-3",children:(0,a.jsx)(ez,{onOptionCollapseToggle:eC.l,diffEntryData:s,index:r,helpUrl:u.helpUrl,contextLinePathURL:t,recalcTotalHeightOfVirtualWindow:eC.l,repo:n,ignoreWhitespace:m.ignoreWhitespace,oid:i})},e.pathDigest))]})}try{e1.displayName||(e1.displayName="SSRDiffs")}catch{}let e2=(0,c.memo)(e4);function e4({totalFileCount:e,diffEntryData:t,contextLinePathURL:n,unselectedFileExtensions:i,repo:r,oid:l,ignoreWhitespace:o,filterTerm:s,searchTerm:u,setSearchTerm:m,isTreeExpanded:f,treeToggleElement:h,headerInfo:y}){let C=function(){let[e,t]=(0,c.useState)(""),n=(0,c.useCallback)(()=>{t(((0,eb.pd)(v.fV.hash??"")??"").replace("diff-",""))},[]);return(0,c.useEffect)(()=>(window.addEventListener("hashchange",n),n(),()=>{window.removeEventListener("hashchange",n)}),[n]),e}(),{data:j}=(0,x.Pe)();void 0===j&&(j=x.in);let w=j.lineSpacing,N=(0,x.Qn)(j.hideWhitespace),k=(0,d.B)(),S=(0,c.useCallback)(()=>E({}),[]),[D,E]=(0,c.useState)({}),_=(0,c.useRef)(t),{findInDiffWorkerPath:A}=(0,W.D)(),I=(0,c.useRef)(t),R=(0,c.useRef)(e>40),T=(0,c.useRef)(null),[F,O]=(0,c.useState)(N),M=(0,c.useRef)(0),[U,B]=(0,c.useState)(l),{focusedSearchResult:$,setFocusedSearchResult:P,searchResults:H,currentIndex:V,setCurrentIndex:K}=(0,g.xB)(_.current,u,A,D);function z(e){for(let t of _.current)t.collapsed=e;S()}(0,c.useEffect)(()=>{i&&i.size>0?_.current=I.current.filter(e=>!i.has((0,ey.QC)(e.path))):_.current=I.current,s&&(_.current=_.current.filter(e=>e.path.toLowerCase().includes(s.toLowerCase()))),R.current=_.current.length>40,S()},[i?.size,s]),(0,c.useEffect)(()=>{_.current=t,I.current=t,R.current=e>40,S(),O(o),B(l)},[k.path]);let G=(0,ev.X)(),q=(0,b.VWf)({owner:k.repo.ownerLogin,repo:k.repo.name,sha1:k.commit.sha1,sha2:k.commit.sha2,oid:k.commit.oid}),Q=function(e,t,n,i,r,a){let[l,o]=(0,c.useState)(eL),s=(0,c.useRef)([]),d=(0,c.useRef)(n);return(0,c.useEffect)(()=>{if(!i||!r)return;let a=!1,l=async(e,t,n)=>{o(eL);let r=await (0,eS.lS)(`${i}&start_entry=${e}&bytes=${t}&lines=${n}`);if(!a)try{if(r.ok){let e=await r.json();e&&(e.loading=e.loadMore,s.current=s.current.concat(e.extraDiffEntries),e.extraDiffEntries=s.current,e.loadMore&&d.current!==e.asyncDiffLoadInfo.startIndex?(d.current=e.asyncDiffLoadInfo.startIndex,o(e),setTimeout(()=>l(e.asyncDiffLoadInfo.startIndex,e.asyncDiffLoadInfo.byteCount,e.asyncDiffLoadInfo.lineShownCount),0)):(d.current===e.asyncDiffLoadInfo.startIndex?e.error=!0:e.error=!1,e.loading=!1,o(e)))}else o(e=>({...e,loading:!1,error:!0,extraDiffEntries:s.current}))}catch{o(e=>({...e,loading:!1,error:!0,extraDiffEntries:s.current}))}};return l(n,e,t),function(){a=!0}},[e,t,r,n,i,a]),(0,c.useEffect)(()=>{s.current=[],d.current=n},[i,n,a]),l}(k.asyncDiffLoadInfo.byteCount,k.asyncDiffLoadInfo.lineShownCount,k.asyncDiffLoadInfo.startIndex,q,k.moreDiffsToLoad,o);(0,c.useEffect)(()=>{let e=_.current.concat(Q.extraDiffEntries);i&&i.size>0?_.current=e.filter(e=>!i.has((0,ey.QC)(e.path))):_.current=e,s&&(_.current=_.current.filter(e=>e.path.toLowerCase().includes(s.toLowerCase()))),I.current=e,S()},[Q.extraDiffEntries.length]);let X=(0,c.useRef)(null),Y=(0,ew.h)({parentRef:X,shouldUseScrollRef:R.current,size:f?0:_.current.length,estimateSize:(0,c.useCallback)(e=>{var t;let n;if(!R.current)return 0;let i=(t=_.current[e],n=57,t?.collapsed?n:t?.newTreeEntry?.isGenerated&&!t?.diffManuallyExpanded?199:t?.isTooBig?104:(t?.diffLines&&("compact"===w?n+=20*t.diffLines.length:n+=25*t.diffLines.length),t?.newTreeEntry?.lineCount&&t.newTreeEntry.lineCount>(t?.diffLines[t?.diffLines.length-1]?.right??0)&&(n+=32),n));return 0===e&&(i-=16),i},[_.current.length,D]),useVirtualImpl:ej.Y,rangeExtractor(e){if(!R.current)return(0,eN.v)(e);let t=v.fV.hash.substring(1),n=(0,eb.pd)(t),i=document.querySelector("[data-path-digest]:focus-within")?.getAttribute("data-path-digest"),r=_.current.findIndex(e=>e.pathDigest===i),a=_.current.findIndex(e=>n?.endsWith(e.pathDigest));return r<0&&a<0?(0,eN.v)(e):Array.from(new Set([...(0,eN.v)(e),...[r,a].filter(e=>e>-1)])).sort((e,t)=>e-t)}});(0,c.useEffect)(()=>{let e=C.includes("R"),t=C.includes("L"),n=t||e,i=n?t?C.split("L")[0]:C.split("R")[0]:C,r=e3(i??C,_.current);if(-1===r){if(Q.error&&null!==T){let e=T.current?.childNodes[0];e?.focus(),e?.scrollIntoView({block:"center"})}return}if(R.current)Y.scrollToIndex(r,{align:"center"}),requestAnimationFrame(()=>{if(n&&e8(X,C));else{let e=X.current?.querySelectorAll(`[aria-label="collapse file: ${_.current[r]?.path}"]`);e&&1===e.length&&e[0].focus()}});else if(n&&e8(X,C));else{let e=X.current?.querySelectorAll(`[data-diff-anchor=diff-${i}]`);if(e&&1===e.length){let t=e[0].getBoundingClientRect().top+(v.cg?.scrollY??0)-57-60;v.cg?.scrollTo(0,t);let n=X.current?.querySelectorAll(`[aria-label="collapse file: ${_.current[r]?.path}"]`);n&&1===n.length&&n[0].focus()}}},[C,Q]);let J=!R.current&&0===_.current.length,Z=(0,a.jsx)(g.n$,{currentPathDigestIndex:M,searchTerm:u,focusedSearchResult:$,currentIndex:V,setCurrentIndex:K,setFocusedSearchResult:P,setSearchTerm:m,searchResults:H,scrollDiffCellIntoView:e=>{let t=e3(e?.pathDigest??"",_.current);-1!==t&&(Y.scrollToIndex(t,{align:"center"}),requestAnimationFrame(()=>{(function(e,t){let n=v.XC?.getElementById(`match-${t}-${e}`);n&&n.scrollIntoView({block:"center"})})(e?.indexWithinDigest??0,e?.pathDigest??"")}))}});return(0,a.jsxs)("div",{"data-hpc":!0,ref:X,children:[R.current&&(0,a.jsx)(eE,{}),(0,a.jsx)(eX,{treeToggleElement:h,headerInfo:y,searchBox:Z}),(0,a.jsx)(p.dE,{id:ek}),!R.current&&_.current.map((e,t)=>{let i,l;return H.has(e?.pathDigest??"")&&(i=H.get(e?.pathDigest??"")??[]),$&&e?.pathDigest===$?.pathDigest&&(l=$?.indexWithinDigest??-1),(0,a.jsx)("div",{style:{paddingTop:0===t?0:16,left:3,right:3},children:(0,a.jsx)(ez,{diffEntryData:_,diffMatches:i,focusedSearchResult:l,onOptionCollapseToggle:z,index:t,contextLinePathURL:n,recalcTotalHeightOfVirtualWindow:eC.l,repo:r,helpUrl:G.helpUrl,oid:U,ignoreWhitespace:F})},e.pathDigest)}),(0,a.jsx)("div",{role:"alert",className:"sr-only",children:J&&(0,a.jsx)("h3",{className:"d-flex flex-justify-center",children:"There are no files selected for viewing"})}),R.current&&(0,a.jsx)("div",{style:{height:Y.totalSize,width:"100%",position:"relative"},children:Y.virtualItems.map(e=>{let t,i;let l=_.current[e.index];return(H.has(l?.pathDigest??"")&&(t=H.get(l?.pathDigest??"")??[]),$&&l?.pathDigest===$?.pathDigest&&(i=$?.indexWithinDigest??-1),l)?(0,a.jsx)("div",{ref:e.measureRef,"data-key":e.key,style:{position:"absolute",paddingTop:0===e.index?0:16,left:3,right:3,transform:`translateY(${e.start}px)`},children:(0,a.jsx)(ez,{diffMatches:t,focusedSearchResult:i,diffEntryData:_,index:e.index,contextLinePathURL:n,onOptionCollapseToggle:z,recalcTotalHeightOfVirtualWindow:S,headerStickyOffset:-e.start,helpUrl:G.helpUrl,repo:r,oid:U,ignoreWhitespace:F,virtualizerScrollTo:Y.scrollToIndex})},l.pathDigest):null})}),k.moreDiffsToLoad&&(0,a.jsxs)(a.Fragment,{children:[Q.loading&&(0,a.jsx)(eZ,{}),Q.error&&(0,a.jsx)("div",{style:{justifyContent:"center",paddingTop:"16px"},ref:T,children:(0,a.jsx)(L.A,{variant:"danger",tabIndex:0,children:(0,a.jsx)("div",{className:"d-flex flex-items-center",style:{justifyContent:"center"},children:"There was a problem loading the remainder of the diff."})})})]})]})}function e3(e,t){for(let n=0;n<t.length;n++)if(e===t[n]?.pathDigest)return n;return -1}function e8(e,t){let n=e.current?.querySelectorAll(`[data-line-anchor=diff-${t}]`);return!!n&&1===n.length&&(n[0].focus(),!0)}try{e2.displayName||(e2.displayName="Diffs")}catch{}try{e4.displayName||(e4.displayName="DiffsUnmemoized")}catch{}var e7=n(70170),e6=n(3240),e5=n(10712),e9=n(41980);let te="diff_file_tree",tt=(0,c.memo)(tn);function tn({contentId:e,diffs:t,onFileSelected:n,diffsHeader:i,unselectedFileExtensions:r,onFilterTextChange:l,onFileExtensionsChange:o}){let[s,d]=(0,c.useState)(""),{getCommentCountByPath:u}=(0,eI.B)(),m=(0,c.useRef)(null),f=(0,c.useRef)(null),h=(0,c.useRef)(null),p=(0,c.useMemo)(()=>(0,ey.hr)(t),[t]),g=t;r&&r.size>0&&(g=g.filter(e=>!r.has((0,ey.QC)(e.path))));let x=(s?g.filter(e=>e.path.toLowerCase().includes(s.toLowerCase())):g).map(e=>{let t=u(e.path);return{...e,totalCommentsCount:t??0}});return(0,a.jsxs)("div",{className:"d-flex flex-column gap-2",id:te,tabIndex:-1,children:[(0,a.jsx)(j.ak,{commands:{"pull-requests-diff-file-tree:focus-file-tree":function(){let t=document.getElementById(e),n=document.getElementById(te),i=!1;if(t?.contains(document.activeElement)&&(i=!0),i){let e=h.current||n;f.current=t?.contains(document.activeElement)?document.activeElement:null,e?.focus()}else{let e=f.current||t;h.current=n?.contains(document.activeElement)?document.activeElement:null,e?.focus()}}}}),(0,a.jsx)("h2",{className:"sr-only",children:"File tree"}),(0,a.jsx)("div",{className:"d-md-none",ref:m,children:i}),(0,a.jsx)(ti,{filterText:s,onFilterTextChange:e=>{d(e),l(e)},fileExtensions:p,unselectedFileExtensions:r,onFileExtensionsChange:o}),(0,a.jsx)(e5.oj,{diffs:x,renderPattern:"traditional",onSelect:e=>{n(e,(0,e9.nn)(window.innerWidth)<=e9.Gy.medium?"close_tree":void 0)}})]})}function ti({filterText:e,onFilterTextChange:t,fileExtensions:n,unselectedFileExtensions:i,onFileExtensionsChange:r}){let l=(0,c.useRef)((0,e7.s)(e=>t(e),250));return(0,a.jsx)(e6.kF,{filterText:e,fileExtensions:n,unselectedFileExtensions:i,onFilterTextChange:e=>l.current(e),onFilterChange:(e,t)=>{r(e,t.extension)}})}try{tt.displayName||(tt.displayName="FileTree")}catch{}try{tn.displayName||(tn.displayName="FileTreeUnmemoized")}catch{}try{ti.displayName||(ti.displayName="FileFilter")}catch{}var tr=n(5189);async function ta({repo:e,commitOid:t,untilCommentId:n}){let i=await (0,eS.Sr)((0,eF.RD)((0,b.clg)({owner:e.ownerLogin,repo:e.name,commitOid:t,untilCommentId:n})));if(i.ok){let e=await i.json();return(0,eF.Av)(e),e}throw Error("Failed to fetch comment data")}var tl=n(62964);let to=(0,C.E7)(),ts="diff-content-parent";function td(){(0,N.L)(!0);let e=(0,d.B)(),{splitPagePaneHiddenSx:t,splitPageContentHidden:n,treeToggleElement:i,collapseTree:r,isMobileTreeExpanded:o}=(0,tl.q)(te,e.fileTreeExpanded),[u,m]=(0,c.useState)(()=>new Set),[f]=(0,w.I)(()=>!1,!0,[]),[h,C]=(0,c.useState)(""),[L,D]=(0,c.useState)(""),[E,_]=(0,c.useState)(!1),A=(0,c.useCallback)((e,t)=>{"close_tree"===t&&r()},[r]),I=function(e){let t=(0,l.t)(),[n,i]=(0,c.useState)({branches:[],tags:[],loading:!0});return(0,c.useEffect)(()=>{let n=!1;return(async()=>{i({branches:[],tags:[],loading:!0});let r=await (0,eS.lS)((0,b.jnS)({owner:t.ownerLogin,repo:t.name,commitish:e}));if(!n)try{if(r.ok){let e=await r.json();e.loading=!1,e&&i({...e,loading:!1})}else i({branches:[],tags:[],loading:!1})}catch{i({branches:[],tags:[],loading:!1})}})(),function(){n=!0}},[t.ownerLogin,t.name,e]),n}(e.commit.oid),F=(0,b.t0c)({owner:e.repo.ownerLogin,repo:e.repo.name,commitish:e.commit.oid}),O=(0,c.useCallback)((e,t)=>{let n=new Set(u);"selectFileExtension"===e?n.delete(t):"unselectFileExtension"===e&&n.add(t),m(n)},[u]);(0,c.useEffect)(()=>{m(new Set)},[e.commit]);let M=(0,x.C0)(e.splitViewPreference),U=(0,c.useMemo)(()=>({hideWhitespace:e.ignoreWhitespace,splitPreference:M,lineSpacing:e.diffLineSpacingPreference,commentsPreference:e.commentsPreference}),[e.commentsPreference,e.diffLineSpacingPreference,e.ignoreWhitespace,M]);(0,x.Pe)(U);let B=e.repo,$=(0,c.useMemo)(()=>({repository:{databaseId:B.id,nwo:`${B.ownerLogin}/${B.name}`,slashCommandsEnabled:!1},type:"commit",id:{id:e.commit.oid}}),[B.id,B.name,B.ownerLogin,e.commit.oid]);(0,c.useEffect)(()=>{(v.cg?.scrollY??0)>0&&v.cg?.scrollTo(0,0)},[e.path]);let{deferredCommentData:P,state:H}=function(e,t){let[n,i]=(0,c.useState)(void 0),[r,a]=(0,c.useState)("initial");return(0,c.useEffect)(()=>{let n;i(void 0),a("loading");let r=v.cg?.location.hash;r&&/^#commitcomment-\d+$/.test(r)&&(n=r.replace("#commitcomment-","")),(async()=>{try{let r=await ta({repo:e,commitOid:t,untilCommentId:n});i(r),a("loaded")}catch{a("error")}})()},[t,e]),{deferredCommentData:n,state:r}}(e.repo,e.commit.oid),V=P?.threadMarkers,K=P?.inlineComments,[z,G]=(0,c.useState)(void 0);if((0,c.useEffect)(()=>{if("loaded"===H){let e=v.cg?.location.hash.slice(1);if(e&&P){if(/^commitcomment-\d+$/.test(e))P?.discussionComments.comments.find(t=>t.urlFragment===e)&&v.cg?.requestAnimationFrame(()=>{let t=document.getElementById(e??"");t&&(t.scrollIntoView({block:"center"}),t.focus())});else if(/^r\d+$/.test(e)){let t=e.replace("r","");for(let e of P.threadMarkers)if(e.threads){for(let n of e.threads)if(n.commentsData.comments){for(let e of n.commentsData.comments)if(e&&e.id&&e.id.toString()===t){G(n.id);return}}}}}}},[P,H]),e.unavailableReason)return(0,a.jsx)(eg,{commit:e.commit,commitInfo:I,unavailableReason:e.unavailableReason});let[W,q]=function(e){let t=e.findIndex(e=>void 0===e.oldOid)-1;return[-2===t?e:e.slice(0,t+1),e.map(e=>({path:e.path,changeType:e.status,pathDigest:e.pathDigest}))]}(e.diffEntryData);return(0,a.jsx)(S.RelayEnvironmentProvider,{environment:to,children:(0,a.jsx)(p.uo,{value:$,children:(0,a.jsxs)(eI.r,{initialInlineComments:K,initialFiles:V,initialExpandedThreadId:z,children:[(0,a.jsx)(j.ak,{commands:{"commit-diff-view:create-permalink":()=>{let t=(0,b.$Qz)({owner:e.repo.ownerLogin,repo:e.repo.name,commitish:e.commit.oid});window.history.pushState(null,document.title,t)}}}),(0,a.jsxs)(k.O7,{children:[(0,a.jsxs)(k.O7.Header,{children:[(0,a.jsx)(R,{commitBranchState:I,oid:e.commit.oid,repo:e.repo}),(0,a.jsx)(em,{commit:e.commit,commitInfo:I,repo:e.repo})]}),(0,a.jsx)(k.O7.Pane,{position:"start",sticky:!0,sx:t,divider:{regular:"line",narrow:"none"},widthStorageKey:"diff-tree-pane-width",resizable:!0,children:(0,a.jsx)(s.t,{fallback:(0,a.jsx)("span",{children:"File tree failed to load."}),children:(0,a.jsx)(tt,{contentId:ts,diffs:q,onFileSelected:A,unselectedFileExtensions:u,diffsHeader:(0,a.jsx)(eX,{treeToggleElement:i,headerInfo:e.headerInfo}),onFileExtensionsChange:O,onFilterTextChange:C})})}),(0,a.jsx)(k.O7.Content,{as:"div",width:"full",hidden:n,padding:"none",sx:{p:[3,3,3,4],pt:[0,0,0,0]},children:(0,a.jsxs)("div",{id:ts,tabIndex:-1,children:[f?(0,a.jsx)(e1,{diffEntryData:W,contextLinePathURL:F,repo:e.repo,oid:e.commit.oid,treeToggleElement:i,headerInfo:e.headerInfo,totalFileCount:e.diffEntryData?.length??0}):(0,a.jsx)(g.cP,{searchTerm:L,setSearchTerm:D,children:(0,a.jsx)(e2,{totalFileCount:e.diffEntryData?.length??0,treeToggleElement:i,headerInfo:e.headerInfo,isTreeExpanded:o,searchTerm:L,setSearchTerm:D,ignoreWhitespace:e.ignoreWhitespace,diffEntryData:W,contextLinePathURL:F,filterTerm:h,unselectedFileExtensions:u,repo:e.repo,oid:e.commit.oid})}),(0,a.jsx)(tr.c,{comments:P?.discussionComments?.comments,commentCount:P?.discussionComments?.count,canLoadMore:P?.discussionComments?.canLoadMore,subscribed:P?.subscribed,providerState:H,repo:e.repo,commitOid:e.commit.oid,children:(0,a.jsx)(T.$,{commit:e.commit,commentInfo:e.commentInfo})}),(0,a.jsx)(y.nq,{})]})})]})]})})})}try{td.displayName||(td.displayName="Commit")}catch{}function tc({url:e}){return(0,a.jsx)("div",{className:"text-center",children:(0,a.jsxs)("p",{className:"color-fg-muted f6 mt-4",children:["Seeing something unexpected? Take a look at the",(0,a.jsxs)(H.A,{inline:!0,href:e,children:[" ","GitHub commits guide"]}),"."]})})}try{tc.displayName||(tc.displayName="CommitHelpMessage")}catch{}let tu=(0,c.createContext)({since:null,until:null,author:null,currentBlobPath:"",pagination:{hasNextPage:!1,hasPreviousPage:!1,endCursor:"",startCursor:""},newPath:null,originalBranch:null});function tm({filters:e,children:t}){return(0,a.jsx)(tu.Provider,{value:e,children:t})}function tf(){return(0,c.useContext)(tu)}try{tu.displayName||(tu.displayName="FilterContext")}catch{}try{tm.displayName||(tm.displayName="FilterProvider")}catch{}var th=n(44639),tp=n(63867),tg=n(82169),tx=n(34214);function ty(){let e=tf();return e.newPath&&e.originalBranch}function tb(){let e=(0,l.t)(),t=tf();return ty()?(0,a.jsx)(tx.s,{sx:{pt:1,pb:0},children:(0,a.jsxs)("div",{className:"d-flex flex-items-baseline",children:[(0,a.jsx)(tx.s.Heading,{as:"h3",title:`Renamed to ${t.newPath}`,"data-testid":"commit-note-title"}),(0,a.jsx)(ea.N,{to:(0,b.GpY)({owner:e.ownerLogin,repo:e.name,ref:t.originalBranch,path:t.newPath}),children:"(Browse History)"})]})}):null}function tC(){let e=(0,tg.ej)();return e?.hasRenameCommits?(0,a.jsx)(tx.s,{children:(0,a.jsxs)("div",{className:"d-flex flex-items-baseline",children:[(0,a.jsx)(tx.s.Heading,{as:"h3",title:`Renamed from ${e?.oldName}`,"data-testid":"commit-note-title"}),(0,a.jsx)(ea.N,{to:e?.historyUrl,children:"(Browse History)"})]})}):null}function tv(){let e=(0,tg.ej)();return e?.hasRenameCommits?null:(0,a.jsx)(tx.s,{clipTimeline:"bottom",children:(0,a.jsx)(tx.s.Heading,{as:"h3",title:"End of commit history for this file","data-testid":"commit-note-title"})})}function tj(){let e=tf(),t=(0,tg.xs)();return!e.currentBlobPath||e.currentBlobPath&&e.pagination.hasNextPage?null:(0,a.jsxs)(a.Fragment,{children:[t&&(0,a.jsx)(tx.s,{leadingVisual:(0,a.jsx)(tp.A,{size:"small"})}),!t&&(0,a.jsxs)(a.Fragment,{children:[(0,a.jsx)(tC,{}),(0,a.jsx)(tv,{})]})]})}try{tb.displayName||(tb.displayName="RenamedToHistory")}catch{}try{tC.displayName||(tC.displayName="RenamedFromHistory")}catch{}try{tv.displayName||(tv.displayName="EndOfFileHistory")}catch{}try{tj.displayName||(tj.displayName="EndOfFile")}catch{}function tw({commitGroups:e,deferredDataUrl:t,softNavToCommit:n}){let i=tf(),r=(0,l.t)(),o=(0,q.wu)(t);return(0,a.jsxs)("div",{className:"mb-3","data-hpc":!0,children:[(0,a.jsx)(eQ.A,{as:"h2",className:"sr-only",children:"Commit History"}),(0,a.jsx)(th.f,{leadingContent:(0,a.jsx)(tb,{}),commitGroups:e,trailingContent:(0,a.jsx)(tj,{}),repository:r,deferredCommitData:o,shouldClipTimeline:function(){let e=ty(),t=tf();return!e&&!t.pagination.hasPreviousPage}(),currentBlobPath:i.currentBlobPath,softNavToCommit:n})]})}try{tw.displayName||(tw.displayName="CommitList")}catch{}var tN=n(17500),tk=n(46928),tS=n(70300),tL=n(53904),tD=n(84929),tE=n(96912),t_=n(5225);async function tA(e){let t=await (0,eS.lS)(e);return t.ok?await t.json():void 0}let tI=new Map,tR=(0,t_.A)(tA,{cache:tI});function tT(e,t){let n=new URL(v.fV.origin+v.fV.pathname+v.fV.search,v.fV.origin),i=n.searchParams;for(let e of t)i.has(e)&&i.delete(e);for(let[t,n]of Object.entries(e))i.set(t,n.toString());return n.pathname+n.search}var tF=n(6907);let tO=(0,c.lazy)(()=>Promise.resolve().then(n.bind(n,81020)).then(e=>({default:e.DatePicker}))),tM=()=>(0,a.jsx)(D.A,{icon:u.CalendarIcon,className:"fgColor-muted",sx:{my:"2px"}});function tU({repo:e,refInfo:t,path:n,author:i,contributorsUrl:r,since:o,until:s}){let d=t.name;d===t.currentOid&&(d=(0,Q.F)(t.currentOid));let m=(0,tk.Z)(),f=function(e){let t=(0,l.t)(),[n,i]=(0,c.useState)({users:[],error:!1,loading:!0});return(0,c.useEffect)(()=>{let t=!1;return(async()=>{i({users:[],error:!1,loading:!0});let n=await tR(e);if(t)return;let r=[],a=!1;try{n?r=n.authors:a=!0}catch{a=!0}i({users:r,error:a,loading:!1})})(),function(){t=!0}},[t,"",e,"all"]),n}(r),h=c.useMemo(()=>{let e=(0,tD.H)(o??""),t=(0,tD.H)(s??"");return(0,tE.f)(e)&&(0,tE.f)(t)?{from:e,to:t}:null},[o,s]),p=n?.split("/");return(0,a.jsxs)(F.B,{direction:"horizontal",gap:"condensed",justify:"space-between",className:"mb-3",children:[n&&(0,a.jsx)("div",{className:"d-flex flex-items-center",children:(0,a.jsxs)("div",{className:"d-flex flex-items-baseline flex-column flex-sm-row",children:[(0,a.jsx)(eQ.A,{as:"h2",className:"sr-only",children:"Breadcrumbs"}),(0,a.jsx)("span",{className:"fgColor-default no-wrap",children:"History for"}),(0,a.jsxs)(tL.A,{className:"ml-1",children:[(0,a.jsx)(tL.A.Item,{href:(0,b.GpY)({owner:e.ownerLogin,repo:e.name}),children:e.name}),p.map((n,i,r)=>{let l=(0,b.GpY)({owner:e.ownerLogin,repo:e.name,ref:t.name,path:r.slice(0,i+1).join("/")}),o=i===r.length-1;return(0,a.jsx)(tL.A.Item,{sx:{whiteSpace:"normal",...o?{fontWeight:"bold"}:{}},href:l,selected:o,children:n},l)})]}),(0,a.jsxs)("div",{className:"no-wrap",children:[(0,a.jsx)("span",{className:"mr-2 ml-0 ml-sm-2 fgColor-default",children:"on"}),(0,a.jsx)(ee.A,{href:(0,b.IO9)({repo:e,commitish:t.name,action:"tree"}),children:d})]})]})}),!n&&(0,a.jsxs)(a.Fragment,{children:[(0,a.jsx)(eQ.A,{as:"h2",className:"sr-only",children:"Branch selector"}),(0,a.jsx)(tN.PI,{cacheKey:t.listCacheKey,canCreate:!1,hotKey:"w",currentCommitish:t.name,getHref:t=>(0,b.GpY)({owner:e.ownerLogin,repo:e.name,ref:t}),selectedRefType:t.refType,defaultBranch:e.defaultBranch,owner:e.ownerLogin,repo:e.name,idEnding:"commits"})]}),(0,a.jsxs)("div",{className:"d-flex flex-column flex-sm-row gap-2",children:[(0,a.jsx)(eQ.A,{as:"h2",className:"sr-only",children:"User selector"}),(0,a.jsx)(tS.T,{defaultText:"All users",width:"medium",usersState:f,showTypedInUser:!0,currentUser:i??void 0,onOpenChange:e=>e,onSelect:e=>{e.login!==i?.login&&m(tT({author:e.login},["author","before","after"]))},renderCustomFooter:()=>(0,a.jsx)(eo.l.LinkItem,{href:tT({},["author"]),"aria-checked":null===i,children:"View commits for all users"})}),(0,a.jsxs)(c.Suspense,{fallback:(0,a.jsx)(P.Q,{leadingVisual:tM,trailingVisual:u.TriangleDownIcon,children:"All time"}),children:[(0,a.jsx)(eQ.A,{as:"h2",className:"sr-only",children:"Datepicker"}),(0,a.jsx)(tO,{variant:"range",value:h,maxDate:new Date,showTodayButton:!0,showClearButton:!0,compressedHeader:!0,onChange:e=>{if(!e){m(tT({},["since","until"]));return}let t=function(e){if(e)return{startDate:(0,tF.x)(e.from,{representation:"date"}),endDate:(0,tF.x)(e.to,{representation:"date"})}}(e);if(!t)return;let{startDate:n,endDate:i}=t;m(tT({since:n,until:i},["before","after"]))},placeholder:"All time",anchor:({children:e,...t})=>(0,a.jsx)(P.Q,{...t,"data-testid":"date-picker-commits",leadingVisual:tM,trailingVisual:u.TriangleDownIcon,children:e})})]})]})]})}try{tO.displayName||(tO.displayName="DatePicker")}catch{}try{tM.displayName||(tM.displayName="StyledCalendarIcon")}catch{}try{tU.displayName||(tU.displayName="ListHeader")}catch{}var tB=n(91321);function t$({paginationInfo:e}){let t=e.hasPreviousPage,n=e.hasNextPage,i=e=>e?{"aria-disabled":!0,sx:{backgroundColor:"transparent",border:"none",cursor:"default",color:"primer.fg.disabled",fontWeight:"normal"},onClick:e=>e.preventDefault()}:{};return t||n?(0,a.jsxs)(a.Fragment,{children:[(0,a.jsx)(eQ.A,{as:"h2",className:"sr-only",children:"Pagination"}),(0,a.jsx)("div",{className:"d-flex flex-justify-center mt-2",children:(0,a.jsxs)(tB.A,{children:[(0,a.jsx)(P.Q,{as:ea.N,to:tP(e,!1),className:"fgColor-accent text-normal",...i(!t),tabIndex:0,variant:"invisible","data-testid":"pagination-prev-button",leadingVisual:t?()=>(0,a.jsx)(D.A,{icon:u.ChevronLeftIcon,className:"fgColor-accent"}):null,children:"Previous"}),(0,a.jsx)(P.Q,{as:ea.N,to:tP(e,!0),className:"fgColor-accent text-normal",...i(!n),tabIndex:0,variant:"invisible","data-testid":"pagination-next-button",trailingVisual:n?()=>(0,a.jsx)(D.A,{icon:u.ChevronRightIcon,className:"fgColor-accent"}):null,children:"Next"})]})})]}):null}function tP(e,t){return tT(t?{after:e.endCursor}:{before:e.startCursor},[t?"before":"after"])}try{t$.displayName||(t$.displayName="Pagination")}catch{}var tH=n(31655);function tV({children:e,title:t}){return(0,a.jsxs)(tH.M,{rowGap:"none",children:[(0,a.jsx)(tH.M.Header,{divider:"line",sx:{mb:3},children:(0,a.jsx)("div",{className:"d-flex flex-items-center flex-justify-between",children:(0,a.jsx)(eQ.A,{as:"h1",className:"f2 text-normal pb-2",id:"commits-pagehead",children:t})})}),(0,a.jsx)(tH.M.Content,{as:"div",children:(0,a.jsx)("div",{children:e})})]})}try{tV.displayName||(tV.displayName="Layout")}catch{}var tK=n(47938);function tz(){let e=(0,l.t)(),t=(0,W.D)(),n=(0,d.B)(),i=n.filters,r=n.commitGroups,o=n.metadata?.softNavToCommit||!1,s=`There isn't any commit history to show here${null!==i.since||null!==i.until?" for the selected date range":""}`;return(0,c.useEffect)(()=>{if(!v.fV.hash&&window.scrollY>0){let e=document.querySelector("#commits-pagehead");e?.scrollIntoView()}},[n.filters.pagination,n.filters.since,n.filters.until]),(0,a.jsx)(tm,{filters:n.filters,children:(0,a.jsxs)(tV,{title:"Commits",children:[(0,a.jsx)(tU,{repo:e,contributorsUrl:n.metadata?.deferredContributorUrl||"",since:i.since,until:i.until,author:i.author,refInfo:n.refInfo,path:i.currentBlobPath}),0===r.length&&(0,a.jsx)(tK.M,{timeoutMessage:n.timedOutMessage,unavailableMessage:s}),r.length>0&&(0,a.jsxs)(a.Fragment,{children:[(0,a.jsx)(tw,{commitGroups:r,deferredDataUrl:n.metadata?.deferredDataUrl||"",softNavToCommit:o}),(0,a.jsx)(t$,{paginationInfo:i.pagination})]}),n.metadata?.showProfileHelp&&(0,a.jsx)(tc,{url:`${t.helpUrl}/articles/troubleshooting-commits-on-your-timeline`})]})})}try{tz.displayName||(tz.displayName="Commits")}catch{}(0,r.o)("commits",()=>({App:h,routes:[(0,i.a)({path:"/:owner/:repo/commits",Component:tz}),(0,i.a)({path:"/:owner/:repo/commits/:ref",Component:tz}),(0,i.a)({path:"/:owner/:repo/commits/:ref/:path/*",Component:tz}),(0,i.a)({path:"/:owner/:repo/commit/:oid",Component:td}),(0,i.a)({path:"/:owner/:repo/commit/:oid/:path/*",Component:td}),(0,i.a)({path:"/_view_fragments/Voltron::CommitFragmentsController/show/:owner/:repo/:name/repo_layout",Component:td})]}))},79740:(e,t,n)=>{n.d(t,{X:()=>d});var i=n(17908),r=n(5796),a=n(86365),l=n(57572),o=n(53526),s=n(96540);function d(){let e=(0,i.t)(),t=(0,o.S)(),n=(0,a.B)(),{commit:d}=n,c=`/${(0,r.QU3)(e.ownerLogin)}/${(0,r.QU3)(e.name)}/commit_comment`,u=`${c}/create`,m=(0,s.useCallback)(async(e,t,n)=>{let i=new FormData;i.append("commit_id",d.oid),i.append("comment[body]",e),t&&n&&(i.append("path",t),i.append("position",n.toString()));let r=await (0,l.DI)(u,{method:"POST",body:i});return r.ok?{error:null,comment:(await r.json()).comment}:{error:Error("Failed to add comment"),comment:null}},[d.oid,u]),f=(0,s.useCallback)(async(e,t)=>{let n=new FormData;n.append("_method","put"),n.append("commit_comment[id]",t.id.toString()),n.append("commit_comment[body]",e),n.append("commit_comment[bodyVersion]",t.bodyVersion);let i=await (0,l.DI)(c,{method:"POST",body:n});if(!i.ok)return{error:Error("Failed to edit comment"),updatedFields:null};{let e=await i.json();return{error:null,updatedFields:{body:e.source,bodyVersion:e.bodyVersion,htmlBody:e.body}}}},[c]),h=(0,s.useCallback)(async e=>{if(!await t({content:"Are you sure you want to delete this comment?",title:"Delete comment",confirmButtonContent:"Delete",confirmButtonType:"danger"}))return"canceled";let n=new FormData;return(n.append("_method","delete"),n.append("commit_comment[id]",e),(await (0,l.DI)(c,{method:"POST",body:n})).ok)?"success":"error"},[c,t]),p=(0,s.useCallback)(async(e,t)=>{let n=new FormData;return(n.append("_method","put"),n.append("classifier",t),(await (0,l.DI)(`${c}/${e}/minimize`,{method:"POST",body:n,headers:{Accept:"application/json"}})).ok)?"success":"error"},[c]),g=(0,s.useCallback)(async e=>{let t=new FormData;return(t.append("_method","put"),(await (0,l.DI)(`${c}/${e}/unminimize`,{method:"POST",body:t,headers:{Accept:"application/json"}})).ok)?"success":"error"},[c]);return(0,s.useMemo)(()=>({addComment:m,commentBoxConfig:{pasteUrlsAsPlainText:n.pasteUrlLinkAsPlainText,useMonospaceFont:n.useMonospaceFont},editComment:f,deleteComment:h,hideComment:p,unhideComment:g}),[m,n.pasteUrlLinkAsPlainText,n.useMonospaceFont,h,f,p,g])}},9916:(e,t,n)=>{n.d(t,{D:()=>r});var i=n(38359);function r(){return(0,i.X)()}},74493:(e,t,n)=>{n.d(t,{I:()=>c,p:()=>m});var i=n(5796),r=n(46584),a=n(47584),l=n(57572),o=n(96540),s=n(43732),d=n(55833);function c({repo:e,commit:t,viewerCanReply:n,getInlineCommentInfoByPathAndPosition:a}){let{addComments:d}=(0,s.B)(),{diff_inline_comments:c}=(0,r.h)();return(0,o.useCallback)((r,o)=>new Promise(async(s,m)=>{let[f,h]=r.split("::");if(!f||!h){m(Error("Invalid threadId"));return}if(c&&!o){let i=a(f,Number(h));s(i?u(i,t,e,n,r):void 0);return}let p=await (0,l.lS)(`${(0,i.MLt)({owner:e.ownerLogin,repo:e.name,commitOid:t.oid,path:f,position:h})}${o?"&isRefetch=true":""}`);if(p.ok){let i=await p.json();d(i.comments,f,h),s(i.comments?u(i.comments,t,e,n,r):void 0)}else m(Error("Failed to fetch thread"))}),[d,t,c,a,e,n])}function u(e,t,n,i,r){return{commentsData:{comments:e.map(e=>m(e,t,n))},id:r,viewerCanReply:i}}function m(e,t,n){return{publishedAt:void 0,state:"",viewerRelationship:"",id:e.relayId,databaseId:e.id,body:e.body,bodyHTML:e.htmlBody,createdAt:e.createdAt,url:`${a.cg?.location.origin}${(0,i.$Qz)({owner:n.ownerLogin,repo:n.name,commitish:t.oid})}#${e.urlFragment}`,currentDiffResourcePath:`#${e.urlFragment}`,authorAssociation:e.authorAssociation?.toUpperCase(),author:{id:e.author.id,login:e.author.login,avatarUrl:e.author.avatarUrl,url:""},isHidden:e.isHidden,lastUserContentEdit:e.lastUserContentEdit,minimizedReason:e.minimizedReason,subjectType:"commit",viewerCanMinimize:e.viewerCanMinimize,viewerCanSeeMinimizeButton:e.viewerCanMinimize,viewerCanSeeUnminimizeButton:e.viewerCanMinimize,viewerCanDelete:e.viewerCanDelete,viewerCanUpdate:e.viewerCanUpdate,viewerCanReport:e.viewerCanReport,viewerCanReportToMaintainer:e.viewerCanReportToMaintainer,viewerCanBlockFromOrg:e.viewerCanBlockFromOrg,viewerCanUnblockFromOrg:e.viewerCanUnblockFromOrg,viewerDidAuthor:e.viewerDidAuthor,reference:{number:void 0,text:(0,d.F)(t.oid),author:{login:t.authors.length>0?t.authors[0]?.login??"":""}},repository:{id:n.id.toString(),isPrivate:n.private,name:n.name,owner:{id:n.ownerLogin,login:n.ownerLogin,url:""}}}}},95017:(e,t,n)=>{n.d(t,{I:()=>s,d_:()=>d,wu:()=>o});var i=n(56366),r=n(57572),a=n(96540),l=n(82169);function o(e,t){let[n,o]=(0,a.useState)(l.UI);return(0,a.useEffect)(()=>{if(!e)return;let t=!1;return(async()=>{o(l.UI);let n=await (0,r.Sr)((0,i.RD)(e));if(!t)try{if(n.ok){let e=await n.json();e.loading=!1,e&&((0,i.Av)(e),o(e))}else o(l.Xx)}catch{o(l.Xx)}})(),function(){t=!0}},[e,t]),n}function s(e){let[t,n]=(0,a.useState)(void 0);return(0,a.useEffect)(()=>{e&&(async()=>{let t=await (0,r.Sr)((0,i.RD)(e));try{if(t.ok){let e=await t.json();e&&((0,i.Av)(e),n(e.data))}}catch{}})()},[e]),t}function d(e,t,n,i){let[o,s]=(0,a.useState)(l.UI),d=(0,a.useRef)([...Array(n)]),c=(0,a.useRef)(t);return(0,a.useEffect)(()=>{if(!e)return;let n=!1;async function i(t){let a=await (0,r.Sr)(`${e}?start_entry=${t}`);if(!n)try{if(a.ok){let e=await a.json();if(e){let t=0;for(let n=c.current;n<e.nextIndex;n++)d.current[n]=e.deferredCommits[t],t++;e.deferredCommits=d.current,e.loadMore&&c.current!==e.nextIndex?(c.current=e.nextIndex,e.error=!1,s(e),setTimeout(()=>i(e.nextIndex),0)):(c.current===e.nextIndex?e.error=!0:e.error=!1,s(e))}}else s(e=>({...e,loading:!1,error:!0,extraDiffEntries:d.current}))}catch{s(e=>({...e,loading:!1,deferredCommits:d.current}))}}return i(t),function(){n=!0}},[e,i,t]),(0,a.useEffect)(()=>{d.current=[],c.current=t},[e,i,t]),o}},55833:(e,t,n)=>{n.d(t,{F:()=>i});function i(e){return e.slice(0,7)}},74779:(e,t,n)=>{n.d(t,{N:()=>i});function i(e,t){return"d28fac7f18aeacb00d8ad3460a0a5a901617c2d4"===e&&0xf122a7===t}},82431:(e,t,n)=>{n.d(t,{$S:()=>r.$,Su:()=>a.S,uo:()=>J.u,dE:()=>$,c7:()=>U,H1:()=>I.H,UA:()=>P.U,yF:()=>W,cT:()=>X,i4:()=>Y.i,nN:()=>J.n,L4:()=>Z.L});var i=n(22025),r=n(80765),a=n(97745),l=n(74848),o=n(73218),s=n(85349),d=n(75177),c=n(63867),u=n(16255),m=n(96540),f=n(56126),h=n(38621),p=n(87330),g=n(81229),x=n(52464);function y({markerId:e,markers:t}){let n=t.findIndex(t=>t.id===e);return(0,l.jsxs)(x.A,{sx:{color:"fg.muted"},children:[(0,l.jsx)(x.A,{sx:{fontWeight:500,color:"fg.default"},children:n+1})," of"," ",(0,l.jsx)(x.A,{sx:{fontWeight:500,color:"fg.default"},children:t.length})]})}function b({markerId:e,markerNavigationImplementation:t,onNavigate:n}){let{incrementActiveMarker:i,decrementActiveMarker:r,filteredMarkers:a}=t;return a.find(t=>t.id===e)&&a.length>1?(0,l.jsxs)(d.A,{sx:{pr:1,display:"flex",flexDirection:"row",alignItems:"center"},children:[(0,l.jsx)(p.K,{unsafeDisableTooltip:!0,"aria-label":"Load previous marker",icon:h.ChevronLeftIcon,variant:"invisible",onClick:()=>{r(e),n()}}),(0,l.jsx)(p.K,{unsafeDisableTooltip:!0,"aria-label":"Load next marker",icon:h.ChevronRightIcon,variant:"invisible",onClick:()=>{i(e),n()}}),(0,l.jsx)(d.A,{sx:{ml:1},children:(0,l.jsx)(y,{markerId:e,markers:a})})]}):null}try{y.displayName||(y.displayName="MarkerPosition")}catch{}try{b.displayName||(b.displayName="GlobalMarkerNavigation")}catch{}function C({annotation:e,markerNavigationImplementation:t,onClose:n}){return(0,l.jsxs)(d.A,{sx:{width:"clamp(240px, 100vw, 540px)"},children:[(0,l.jsx)(d.A,{sx:{borderBottom:"1px solid",borderBottomColor:"border.default",display:"flex",flexDirection:"column",justifyContent:"space-between",alignItems:"center",p:1,background:"canvas.default"},children:(0,l.jsxs)(d.A,{sx:{display:"flex",flexDirection:"row",width:"100%",alignItems:"center"},children:[(0,l.jsx)(b,{markerId:e.id,markerNavigationImplementation:t,onNavigate:n}),(0,l.jsx)(d.A,{sx:{display:"flex",flexDirection:"row",gap:1,alignItems:"center",justifyContent:"right",flexGrow:1},children:(0,l.jsx)(p.K,{unsafeDisableTooltip:!0,"aria-label":"Close annotation",icon:h.XIcon,variant:"invisible",onClick:n})})]})}),(0,l.jsx)(g.Y,{annotation:e})]})}try{C.displayName||(C.displayName="AnnotationDialog")}catch{}var v=n(52655),j=n(62456),w=n(89323),N=n(8338),k=n(30729),S=n(82126);function L({anchorRef:e,annotations:t,handleOpenChange:n,threads:i,onShowAnnotation:r,onShowCommentThread:a,ghostUser:o=v.t.ghostUser}){function s(e){return{display:"-webkit-box",overflow:"hidden","-webkit-box-orient":"vertical","-webkit-line-clamp":e.toString(),maxWidth:"unset"}}return(0,l.jsx)(w.W,{anchorRef:e,open:!0,onOpenChange:n,children:(0,l.jsx)(w.W.Overlay,{width:"small",children:(0,l.jsx)("div",{children:(0,l.jsxs)(N.l,{children:[t.map(e=>(0,l.jsxs)(N.l.Item,{onSelect:()=>r(e.id),children:[(0,l.jsx)(N.l.LeadingVisual,{sx:{mr:2},children:(0,l.jsx)(S.Xh,{annotationLevel:e.annotationLevel},e.id)}),(0,l.jsxs)(d.A,{sx:{...s(2)},children:[e.checkSuiteName," /"," ",(0,l.jsx)(x.A,{sx:{fontWeight:400,color:"fg.muted"},children:e.checkRun.name})]}),(0,l.jsx)(N.l.Description,{variant:"block",children:(0,l.jsx)(d.A,{sx:{...s(1)},children:e.title})}),(0,l.jsx)(N.l.TrailingVisual,{children:(0,l.jsx)(k.A,{icon:h.ArrowRightIcon})})]},e.id)),i.map(e=>(0,l.jsxs)(N.l.Item,{onSelect:()=>a(e.id),children:[(0,l.jsx)(N.l.LeadingVisual,{sx:{mr:2},children:(0,l.jsx)(j.r,{alt:e.author.login,size:20,src:e.author.avatarUrl??o.avatarUrl})}),"Thread by ",e.author.login,(0,l.jsxs)(N.l.Description,{variant:"block",children:[e.commentCount," comment",e.commentCount>1?"s":""]}),(0,l.jsx)(N.l.TrailingVisual,{children:(0,l.jsx)(k.A,{icon:h.ArrowRightIcon})})]},e.id))]})})})})}try{L.displayName||(L.displayName="MarkersListActionMenu")}catch{}var D=n(67136),E=n(70404),_=n(47139),A=n(42522),I=n(94493);function R({children:e}){return(0,l.jsx)(x.A,{sx:{fontWeight:500,color:"fg.default"},children:e})}function T({thread:e}){return void 0!==e&&e?.diffSide&&e.line?e.startLine&&e.startDiffSide?O({thread:e}):F({thread:e}):null}function F({thread:e}){let t="LEFT"===e.startDiffSide?"L":"R";return(0,l.jsxs)(x.A,{sx:{color:"fg.muted",pl:2},children:["Comment on lines"," ",(0,l.jsxs)(R,{children:[t,e.line]})]})}function O({thread:e}){let t="LEFT"===e.startDiffSide?"L":"R",n="LEFT"===e.diffSide?"L":"R";return(0,l.jsxs)(x.A,{sx:{color:"fg.muted",pl:2},children:["Comment on lines"," ",(0,l.jsxs)(R,{children:[t,e.startLine]})," ","to"," ",(0,l.jsxs)(R,{children:[n,e.line]})]})}function M({commentingImplementation:e,filePath:t,onClose:n,onRefreshThread:i,thread:r,threads:a,threadsConnectionId:o,markerNavigationImplementation:s,ghostUser:u,...f}){let{sendAnalyticsEvent:g}=(0,E.s)(),{resolveThread:x,unresolveThread:y,resolvingEnabled:C}=e,v=a.find(e=>e.id===r.id),j=r.commentsData.comments.length>0,w=!!r.isResolved,{addToast:N}=(0,D.Y6)(),k=v?.commentsConnectionId;return j?(0,l.jsxs)("div",{children:[(0,l.jsx)(d.A,{sx:{borderBottom:"1px solid",borderBottomColor:"border.default",display:"flex",flexDirection:"column",justifyContent:"space-between",alignItems:"center",p:1,background:"canvas.default"},children:(0,l.jsxs)(d.A,{sx:{display:"flex",flexDirection:"row",width:"100%",alignItems:"center"},children:[(0,l.jsxs)(l.Fragment,{children:[(0,l.jsx)(b,{markerId:r.id,markerNavigationImplementation:s,onNavigate:n}),(0,l.jsx)(T,{thread:v})]}),(0,l.jsxs)(d.A,{sx:{display:"flex",flexDirection:"row",gap:1,alignItems:"center",justifyContent:"right",flexGrow:1},children:[w&&(0,l.jsx)(_.A,{variant:"done",size:"large",children:"Resolved"}),C&&(0,l.jsx)(A.m,{text:w?"Unresolve conversation":"Resolve conversation",type:"label",direction:"w",id:"resolve-conversation",children:(0,l.jsx)(p.K,{"aria-labelledby":"resolve-conversation",unsafeDisableTooltip:!0,icon:w?h.CheckCircleFillIcon:h.CheckCircleIcon,sx:{color:w?"var(--fgColor-done, var(--color-done-fg)) !important":void 0},variant:"invisible",onClick:w?()=>{y({thread:r,onCompleted:()=>i(r.id),onError:()=>{N({type:"error",message:"Failed to unresolve thread"})}}),g("comments.unresolve_thread","RESOLVE_CONVERSATION_BUTTON")}:()=>{x({thread:r,onCompleted:()=>i(r.id),onError:()=>{N({type:"error",message:"Failed to resolve thread"})}}),g("comments.resolve_thread","RESOLVE_CONVERSATION_BUTTON")}})}),(0,l.jsx)(p.K,{unsafeDisableTooltip:!0,"aria-label":"Close thread",icon:h.XIcon,variant:"invisible",onClick:n})]})]})}),(0,l.jsx)(m.Suspense,{fallback:(0,l.jsxs)(d.A,{sx:{height:"90px",alignItems:"center",display:"flex",flexDirection:"column",justifyContent:"center",color:"fg.muted",fontSize:0},children:[(0,l.jsx)(c.A,{}),(0,l.jsx)("p",{children:"Loading comments"})]}),children:(0,l.jsx)(I.H,{commentingImplementation:e,commentsConnectionId:k,filePath:t,onRefreshThread:i,thread:r,threadsConnectionId:o,...f,ghostUser:u})})]}):null}try{R.displayName||(R.displayName="Emphasis")}catch{}try{T.displayName||(T.displayName="ThreadBanner")}catch{}try{F.displayName||(F.displayName="SingleLineThreadBanner")}catch{}try{O.displayName||(O.displayName="MultineLineThreadBanner")}catch{}try{M.displayName||(M.displayName="ReviewThreadDialog")}catch{}function U(e){return(0,l.jsx)(f.j,{children:(0,l.jsx)(B,{...e})})}function B({annotations:e,commentingImplementation:t,conversationAnchorRef:n,conversationListAnchorRef:i,conversationListThreads:r,isMarkerListOpen:a,fileAnchor:u,filePath:h,onAnnotationSelected:p,onCloseConversationDialog:g,onCloseConversationList:x,onThreadSelected:y,returnFocusRef:b,selectedAnnotationId:v,selectedThreadId:j,threadsConnectionId:w,markerNavigationImplementation:N,suggestedChangesConfig:k,ghostUser:S,...D}){let{isDialogOpen:E}=(0,f.W)(),[_,A]=(0,m.useState)(),{fetchThread:I}=t,R=(0,m.useCallback)(()=>!E&&g(),[E,g]),T=async e=>{A(void 0);let t=r.find(t=>t.id===e)?.isOutdated;A(await I(e,t))},F=(0,m.useMemo)(()=>{if(u&&_&&_.subject?.startDiffSide&&_.subject?.endDiffSide&&_.subject?.startLine&&_.subject?.endLine&&k?.configureSuggestedChangesFromLineRange){let e=_.subject?.startLine??_?.subject?.endLine,t=_.subject?.startDiffSide??_?.subject?.endDiffSide,n={diffAnchor:u,endLineNumber:_?.subject?.endLine,endOrientation:_.subject?.endDiffSide==="LEFT"?"left":"right",startLineNumber:e,firstSelectedLineNumber:e,firstSelectedOrientation:"LEFT"===t?"left":"right",startOrientation:"LEFT"===t?"left":"right"};return k?.configureSuggestedChangesFromLineRange(n)}},[u,_,k]);(0,m.useEffect)(()=>{!j&&_?A(void 0):j&&j!==_?.id&&T(j)},[I,j]);let O=j||v,U=v?e.find(e=>e.id===v):void 0;return(0,l.jsx)(l.Fragment,{children:O?(0,l.jsx)(s.T,{align:"end",anchorRef:n,focusZoneSettings:{disabled:!0},open:!0,focusTrapSettings:{disabled:!0},renderAnchor:null,overlayProps:{"aria-label":`${j?"Pull Request Review Thread":"Pull Request Check Annotation"}`,id:"conversation-dialog",returnFocusRef:b,role:"dialog",width:"xlarge",preventOverflow:!1,sx:{borderRadius:2},onClickOutside:o.l,onKeyDown:e=>{"Escape"!==e.key&&e.stopPropagation()},portalContainerName:N.overlayPortalContainerName},onClose:R,children:_?(0,l.jsx)(M,{commentingImplementation:t,filePath:h,thread:_,threads:r,threadsConnectionId:w,onClose:R,onThreadSelected:y,onRefreshThread:T,markerNavigationImplementation:N,suggestedChangesConfig:F,ghostUser:S,...D}):U?(0,l.jsx)(C,{annotation:U,markerNavigationImplementation:N,onClose:R}):(0,l.jsxs)(d.A,{sx:{height:"90px",alignItems:"center",display:"flex",flexDirection:"column",justifyContent:"center",color:"fg.muted",fontSize:0},children:[(0,l.jsx)(c.A,{}),(0,l.jsx)("p",{children:"Loading comments"})]})}):a&&(0,l.jsx)(L,{anchorRef:i,annotations:e,handleOpenChange:x,threads:r,onShowCommentThread:y,onShowAnnotation:p,ghostUser:S})})}function $({id:e}){let t=(0,m.useRef)(null);return(0,m.useEffect)(()=>{t.current&&(0,u.c)(t.current,e)},[e]),(0,l.jsx)("span",{id:e,ref:t,style:{position:"absolute",top:0,right:0,zIndex:10}})}try{U.displayName||(U.displayName="Markers")}catch{}try{B.displayName||(B.displayName="MarkersInternal")}catch{}try{$.displayName||($.displayName="MarkerPortalRoot")}catch{}var P=n(8187),H=n(81874),V=n(77433),K=n(44968),z=n(47584),G=n(93345);function W({isAnchorable:e=!1,index:t=0,isLastChild:n,anchorPrefix:i="r",comment:r,commentingImplementation:a,filePath:s,hideActions:c,enterDialogMode:u=o.l,onRefreshThread:f,onQuoteReply:h=o.l,threadCommentCount:p,threadId:g,threadsConnectionId:x,ghostUser:y=v.t.ghostUser}){let{addToast:b}=(0,D.Y6)(),[C,j]=(0,m.useState)(!1),[w,N]=(0,m.useState)(r.isHidden),[k,S]=(0,m.useState)(!1),{deleteComment:L,hideComment:E,unhideComment:_}=a,A=(0,m.useRef)(null),I=(0,m.useRef)(null),R=()=>{A.current?.focus()};(0,m.useEffect)(()=>{if(C){let e=window.setTimeout(R);return()=>{window.clearTimeout(e)}}},[C]);let T=r.currentDiffResourcePath?.split("#r").pop(),F=T?`${i}${T}`:void 0,O=F&&z.fV?new URL(`${z.fV.pathname}#${F}`,z.fV.origin).toString():void 0,M=(0,m.useRef)(null);(0,m.useEffect)(()=>{e&&T&&F&&window.location.hash.split("#").pop()===F&&((0,G.p)(T,i),u?.(!1),M.current?.focus())},[i,F,T,u,e]);let U={outline:"2px solid",outlineColor:"accent.fg",outlineOffset:"-2px",boxShadow:"none"},B=t>0,$=t>1,P={headingProps:{as:"h3"},avatarUrl:r.author?.avatarUrl??y.avatarUrl,comment:{...r,url:O??"",referenceText:r.reference.text??`#${r.reference.number}`},commentRef:M,deleteComment:()=>{L({commentId:r.id,onCompleted:()=>{f?.(g)},onError:()=>{S(!1),b({type:"error",message:"Failed to delete comment"})},threadCommentCount:p,threadId:g,threadsConnectionId:x,filePath:s})},editComment:()=>{j(!0)},editHistoryComponent:void 0,hideComment:e=>{E({commentId:r.id,reason:e,onCompleted:()=>{f?.(g)},onError:()=>{S(!1),b({type:"error",message:"Failed to hide comment"})}})},onMinimize:N,isMinimized:w,commentAuthorLogin:r.author?.login??y.login,navigate:o.l,commentSubjectAuthorLogin:r.reference?.author?.login??"",commentSubjectType:a.commentSubjectType,onReplySelect:h,unhideComment:()=>{_({commentId:r.id,onCompleted:()=>{f?.(g)},onError:()=>{S(!1),b({type:"error",message:"Failed to unhide comment"})}})},hideActions:c,isReply:B,forceInlineAvatar:!0,containerStyle:{}};return(0,l.jsxs)(d.A,{ref:M,id:e?F:void 0,tabIndex:-1,sx:{"&:not(:first-child)":{backgroundColor:"canvas.inset"},"&:first-child + div":{borderTop:"1px solid",borderColor:"border.muted"},":target":U,":focus":U,pb:B?0:2},children:[$&&(0,l.jsx)(d.A,{sx:{display:"flex",pl:B?1:0},children:(0,l.jsx)(d.A,{sx:{ml:4,height:8,borderLeft:"1px solid",borderColor:"border.default"}})}),(0,l.jsx)(d.A,{sx:{px:3,pt:$?0:2,pb:0},children:(0,l.jsx)(H.v,{...P,actions:c?void 0:(0,l.jsx)(V.p,{...P})})}),(0,l.jsxs)(d.A,{sx:{display:"flex",pl:B?1:0},children:[B&&(0,l.jsx)(d.A,{sx:{ml:4,mr:1,pl:3,borderLeft:"1px solid",borderColor:"border.default",...n&&{borderImage:"linear-gradient(to bottom, var(--borderColor-default, var(--color-border-default)), rgba(0, 0, 0, 0)) 1 100%"}}}),(0,l.jsx)(d.A,{sx:B?{pb:2,pr:2,overflowX:"auto",width:"100%"}:{px:3,pb:2,width:"100%"},children:r.bodyHTML&&(0,l.jsx)(l.Fragment,{children:(0,l.jsx)(K.oG,{ref:I,className:"markdown-body","comment-testid":`Comment body html for comment ${r.id}`,html:r.bodyHTML,sx:{mt:1,fontSize:1}})})})]})]})}try{W.displayName||(W.displayName="ReviewThreadCommentWithoutReactions")}catch{}var q=n(84217);function Q({addCommentDialogTitle:e,isLeftSide:t,filePath:n,lineNumber:r,onAddComment:a,onClose:o,viewerData:s,threadsConnectionId:c,...u}){return(0,l.jsxs)(d.A,{sx:{px:2,pb:2,pt:1},children:[(0,l.jsxs)(d.A,{sx:{display:"flex",justifyContent:"space-between",alignItems:"center"},children:[(0,l.jsxs)(q.A,{as:"h4",sx:{fontSize:1,ml:2,py:2},children:[(0,l.jsx)(j.r,{alt:s.login,size:24,src:s.avatarUrl||"",sx:{mr:2}}),(0,l.jsx)("span",{children:e??"Add a comment"})]}),o&&(0,l.jsx)(p.K,{unsafeDisableTooltip:!0,variant:"invisible",icon:h.XIcon,onClick:o,"aria-label":"Cancel"})]}),(0,l.jsx)(i.U,{focusOnMount:!0,condensed:!1,fileLevelComment:!1,filePath:n,lineNumber:r,onAddComment:({commentText:e,onCompleted:t,onError:i,submitBatch:r})=>{a({text:e,onError:i,onCompleted:(e,n)=>{n&&(0,G.p)(n.toString()),t?.(e,n)},submitBatch:r,filePath:n,threadsConnectionId:c})},onCancelComment:o,side:t?"LEFT":"RIGHT",...u})]})}try{Q.displayName||(Q.displayName="StartThreadComment")}catch{}function X({align:e="end",anchorRef:t,isOpen:n,isDialog:i=!0,returnFocusRef:r,onCloseCommentDialog:a,suggestedChangesConfig:d,...c}){let{sendAnalyticsEvent:u}=(0,E.s)(),f=(0,m.useMemo)(()=>{if(n&&d?.configureSuggestedChangesFromLineRange)return d.configureSuggestedChangesFromLineRange(d?.selectedDiffRowRange,d?.shouldStartNewConversationWithSuggestedChange)},[n,d]);return n?i?(0,l.jsx)(s.T,{align:e,anchorRef:t,focusZoneSettings:{disabled:!0},open:n,renderAnchor:null,focusTrapSettings:{disabled:!0},overlayProps:{id:"conversation-dialog",role:"dialog",width:"xlarge",preventOverflow:!1,returnFocusRef:r,sx:{borderRadius:2},"aria-label":"Add a comment",onClickOutside:o.l,onKeyDown:e=>{"Escape"!==e.key&&e.stopPropagation()}},onClose:a,children:(0,l.jsx)(Q,{onClose:()=>{a(),u("comments.cancel_thread_reply","CANCEL_REVIEW_THREAD_BUTTON")},suggestedChangesConfig:f,...c})}):(0,l.jsx)("div",{className:"bgColor-default rounded-2",children:(0,l.jsx)(Q,{onClose:()=>{a(),u("comments.cancel_thread_reply","CANCEL_REVIEW_THREAD_BUTTON")},suggestedChangesConfig:f,...c})}):null}try{X.displayName||(X.displayName="StartConversation")}catch{}var Y=n(78869),J=n(38061),Z=n(61445);n(42389),o.l,o.l,o.l,o.l,o.l,o.l,o.l,o.l,o.l,o.l,o.l,o.l,o.l,o.l,o.l},93345:(e,t,n)=>{n.d(t,{p:()=>i});function i(e,t="r"){history.replaceState(null,"",`#${t}${e}`)}},61445:(e,t,n)=>{n.d(t,{L:()=>d});var i=n(80688),r=n(96540);let{getItem:a,removeItem:l,setItem:o}=(0,i.D)("localStorage"),s=(e,t)=>{let{diffSide:n,filePath:i,line:r,subjectId:a}=e;if(t)return`PullRequest:${a}-File:${i}`;if(void 0!==r&&void 0!==n)return`PullRequest:${a}-File:${i}-Line:${r}-DiffSide:${n}`;throw Error("Cannot build diff line comment cache key for a comment without a line number or diff side")};function d({diffSide:e,filePath:t,handlePersistedCommentExists:n,line:i,subjectId:d,threadId:c,fileLevelComment:u}){let m,f;let h=(0,r.useMemo)(()=>c||(c??s({diffSide:e,filePath:t,line:i,subjectId:d},u)),[e,t,i,d,c,u]),{hasPersistedComment:p,removePersistedCommentFromStorage:g}=(m=a(h),f=!!m?.text?.trim(),(0,r.useEffect)(()=>{f&&n?.(m)},[f]),{hasPersistedComment:f,removePersistedCommentFromStorage:()=>{l(h),f=!1,m=null}});return{hasPersistedComment:p,persistCommentToStorage:e=>{let t={text:e.text};e.startLine&&e.startSide&&(t={...t,startLine:e.startLine,startSide:e.startSide}),o(h,t)},removePersistedCommentFromStorage:g}}},70283:(e,t,n)=>{function i(e,t){return t.some(t=>r(t,e))}function r(e,t){return e.commentId===t.commentId&&e.path===t.path&&e.suggestion.length===t.suggestion.length&&a(e.suggestion,t.suggestion)}n.d(t,{EJ:()=>s,Lm:()=>d,c0:()=>i,o_:()=>o,yM:()=>r});let a=(e,t)=>e.length===t.length&&!e.some((e,n)=>e!==t[n]),l={USER_CANNOT_APPLY_SUGGESTION:"You do not have permission to apply this suggestion.",PULL_REQUEST_IS_CLOSED:"This suggestion cannot be applied because the pull request is closed.",PULL_REQUEST_IS_IN_MERGE_QUEUE:"This suggestion cannot be applied because the pull request is queued to merge.",IS_OUTDATED:"This suggestion is outdated and cannot be applied.",IS_PENDING:"This suggestion is part of a pending comment and cannot be applied.",IS_RESOLVED:"This suggestion is part of a resolved comment and cannot be applied.",UNCHANGED_CODE:"This suggestion is invalid because no changes were made to the code.",INVALID_RANGE:"Unable to commit due to other pending changes affecting this line.",BATCH_TOO_BIG:"Unable to commit due to too many changes in the batch.",DELETED_LINES:"Unable to apply suggestions on deleted lines.",RANGE_NOT_PROVIDED:"This suggestion does not have a valid line range.",UNABLE_TO_DETERMINE_VALIDITY:"Unable to determine the validity of this suggestion."};function o({suggestedChange:e,isOutdated:t,isPending:n,isResolved:i,pullRequestIsClosed:r,pullRequestIsInMergeQueue:a,userCanApplySuggestion:o,applySuggestedChangesValidationData:s,suggestedChangesConfig:d}){let{lineRange:c}=s;if(t)return{isValid:!1,reason:l.IS_OUTDATED};if(n)return{isValid:!1,reason:l.IS_PENDING};if(i)return{isValid:!1,reason:l.IS_RESOLVED};if(r)return{isValid:!1,reason:l.PULL_REQUEST_IS_CLOSED};if(a)return{isValid:!1,reason:l.PULL_REQUEST_IS_IN_MERGE_QUEUE};if(!o)return{isValid:!1,reason:l.USER_CANNOT_APPLY_SUGGESTION};if(!c)return{isValid:!1,reason:l.RANGE_NOT_PROVIDED};if(!d)return{isValid:!1,reason:l.UNABLE_TO_DETERMINE_VALIDITY};if(!d?.isValidSuggestionRange)return{isValid:!1,reason:l.DELETED_LINES};let u=d?.sourceContentFromDiffLines,m=e.suggestion.join("\n");return 0!==e.suggestion.length&&m===u?{isValid:!1,reason:l.UNCHANGED_CODE}:{isValid:!0}}function s(e,t){let n={isValid:!1,reason:l.INVALID_RANGE},i={isValid:!1,reason:l.BATCH_TOO_BIG};return t.length>=50?i:t.find(t=>t.threadId===e.threadId)||function(e,t){for(let r of t)if(e.path===r.path){var n,i;return n=e.lineRange,i=r.lineRange,n.endLineNumber>=i.startLineNumber&&n.startLineNumber<=i.endLineNumber}return!1}(e,t)?n:{isValid:!0}}function d(e){if(!e||"LINE"!==e.subjectType||!e.subject)return;let t=e.subject.startDiffSide??e.subject.endDiffSide;if(!t)return;if(e.isOutdated&&e.subject.originalStartLine&&e.subject.originalEndLine)return{endLineNumber:e.subject.originalEndLine,endOrientation:e.subject.endDiffSide||"RIGHT",startLineNumber:e.subject.originalStartLine,startOrientation:t};if(!e.subject.endLine||!e.subject.endDiffSide)return;let n=e.subject.startLine??e?.subject.endLine;return{endLineNumber:e.subject.endLine,endOrientation:e.subject.endDiffSide,startLineNumber:n,startOrientation:t||"RIGHT"}}},42389:(e,t,n)=>{n.d(t,{U:()=>i});let i={Failure:"FAILURE",Notice:"NOTICE",Warning:"WARNING"}},57259:(e,t,n)=>{n.d(t,{e:()=>i});function i(e){let t=document.querySelector('#__primerPortalRoot__ div[role="dialog"]'),n=document.querySelector(`#${e} div[role="dialog"]`);(t||n)&&document.dispatchEvent(new KeyboardEvent("keydown",{key:"Escape",code:"Escape",ctrlKey:!0}))}},14614:(e,t,n)=>{function i(e,t){for(let n of function e(t,n=[]){if(""===t)return n;let i=t.match(r());if(!i)return n;let a=i.groups.fence;if(!a)return n;let l=a.includes("~")?"~":"`",o=t.match(function(e,t){let n=r([e],t);return RegExp(`${n.source}(?:\r?
)(?<suggestion>.*?)(?:\r?
)^ {0,3}${e}{${t},}[ 	]*$`,"ms")}(l,a.length));if(!o)return n;let s=0,d=i.groups.indent;""!==d&&(s=d.length);let c=o.groups.suggestion;if(s>0){let e=RegExp(`^ {0,${s}}`,"m");c=c.replace(e,"")}return n.push(c),e(t.slice(o.index+o[0].length),n)}(e))if(n===t)return{isValid:!1,errorMessage:"Suggested change cannot be the same as the original line"};return{isValid:!0,errorMessage:""}}function r(e=["`","~"],t){let n=t?`{${t}}`:"{3,}",i=e.map(e=>`${e}${n}`);return RegExp(`^(?<indent> {0,3})(?<fence>${i.join("|")})suggestion[ 	]*$`,"m")}n.d(t,{u:()=>i})},91618:(e,t,n)=>{n.d(t,{HS:()=>a,Oc:()=>r,Tv:()=>s,Xr:()=>SymbolChangedEvent,f7:()=>l,fD:()=>o,qR:()=>i});let OpenCopilotChatEvent=class OpenCopilotChatEvent extends Event{constructor(e){super("open-copilot-chat",{bubbles:!1,cancelable:!0}),this.payload=e}};let AddCopilotChatReferenceEvent=class AddCopilotChatReferenceEvent extends Event{constructor(e,t=!1,n){super("add-copilot-chat-reference",{bubbles:!1,cancelable:!0}),this.reference=e,this.openPanel=t,this.id=n}};let SymbolChangedEvent=class SymbolChangedEvent extends Event{constructor(e){super("symbol-changed",{bubbles:!1,cancelable:!0}),this.context=e}};function i(e){window.dispatchEvent(new OpenCopilotChatEvent(e))}function r(e,t=!1,n){window.dispatchEvent(new AddCopilotChatReferenceEvent(e,t,n))}function a(e){return window.addEventListener("open-copilot-chat",e),()=>{window.removeEventListener("open-copilot-chat",e)}}function l(e){return window.addEventListener("add-copilot-chat-reference",e),()=>{window.removeEventListener("add-copilot-chat-reference",e)}}function o(e){return window.addEventListener("search-copilot-chat",e),()=>{window.removeEventListener("search-copilot-chat",e)}}function s(e){return window.addEventListener("symbol-changed",e),()=>{window.removeEventListener("symbol-changed",e)}}},77342:(e,t,n)=>{n.d(t,{C6:()=>r,Wp:()=>s,hs:()=>l,mF:()=>o,wh:()=>i,xP:()=>a});let i={explain:"explain",conversation:"conversation",suggest:"suggest",discussFileDiff:"discuss-file-diff",explainFileDiff:"explain-file-diff",reviewPr:"review-pull-request",actionsAgent:"actions-agent"},r=["exception","filtered","publicCode","contentTooLarge","rateLimit","agentUnauthorized","agentRequest","networkError","multipleAgentsAttempt"],a=["bing-search","codesearch","semanticsearch","lexicalsearch","kb-search","pathsearch","show-symbol-definition","getissue","getprcommits","getcommit","getrelease","getrepo","getdiff","get-diff-by-range","getfile","getfilechanges","getdiscussion","get-actions-job-logs","getpullrequest","getalert","planskill","get-github-data","support-search","get-figma"],l={Experiments:"experiements",Prompt:"prompt",None:"none"},o={Unlicensed:"unlicensed",LicensedFull:"licensed_full",LicensedLimited:"licensed_limited"},s="NULL_MESSAGE"},26920:(e,t,n)=>{n.d(t,{QC:()=>f,hr:()=>h,sK:()=>m,wH:()=>l,xY:()=>u});var i=n(3240);function r(e,t){var n=function(e,t,n){if(!t.has(e))throw TypeError("attempted to get private field on non-instance");return t.get(e)}(e,t,0);return n.get?n.get.call(e):n.value}function a(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function l(e,t){return e<t?-1:e>t?1:0}function o(e,t){return l(e.name,t.name)}function s(e,t){return l(e.fileName,t.fileName)}function d(e){return e.diff}let FileNode=class FileNode{constructor(e){this.diff=e,this.filePath=e.path;let t=this.filePath.split("/");this.fileName=t[t.length-1],this.directoryParts=t.slice(0,t.length-1)}};var c=new WeakMap;let DirectoryNode=class DirectoryNode{getOrCreateDirectory(e){let t=r(this,c).get(e);if(!t){let n=this.path?`${this.path}/`:"";t=new DirectoryNode(e,`${n}${e}`),this.directories.push(t),r(this,c).set(e,t)}return t}sort(){for(let e of(this.directories.sort(o),this.files.sort(s),this.directories))e.sort()}getOrderedDiffs(){let e=this.files.map(d);for(let t of this.directories)e.push(...t.getOrderedDiffs());return e}constructor(e,t){a(this,"directories",[]),a(this,"files",[]),function(e,t,n){(function(e,t){if(t.has(e))throw TypeError("Cannot initialize the same private elements twice on an object")})(e,t),t.set(e,n)}(this,c,{writable:!0,value:new Map}),this.name=e,this.path=t}};function u(e){let t=new DirectoryNode("","");for(let n of e.map(e=>new FileNode(e))){let e=t;for(let t of n.directoryParts)e=e.getOrCreateDirectory(t);e.files.push(n)}return t.sort(),t}function m(e){return u(e.filter(e=>!!e)).getOrderedDiffs()}function f(e){let t;t="string"==typeof e?e:e?.newPath||e?.oldPath;let n=t?.lastIndexOf(".");return t?!n||n<0?i.F7:`.${t.substring(n+1)}`:""}function h(e){return new Set(e.map(e=>f(e.path)))}},56471:(e,t,n)=>{n.d(t,{oO:()=>tJ,n$:()=>t4,cP:()=>t8,T5:()=>tM,Uz:()=>d,Yj:()=>h.Y,Wb:()=>tP,N0:()=>tT.N0,Dd:()=>tT.Dd,xB:()=>nn});var i=n(74848),r=n(1977),a=n(96540),l=n(8877),o=n(44968),s=n(63867);function d({dependencyDiffPath:e,fileRendererInfo:t,proseDiffHtml:n,loading:r}){return r?(0,i.jsx)("div",{className:"d-flex flex-justify-center p-4",children:(0,i.jsx)(s.A,{size:"large"})}):n?(0,i.jsx)("div",{className:"prose-diff position-relative",children:(0,i.jsx)(o.oG,{html:n})}):t?(0,i.jsx)(l.default,{...t}):e?(0,i.jsx)("include-fragment",{src:e,children:(0,i.jsxs)("div",{className:"text-center py-3",children:[(0,i.jsx)(s.A,{size:"medium"}),(0,i.jsx)("p",{className:"color-fg-muted my-2",children:"Loading Dependency Review..."})]})}):(0,i.jsx)("div",{className:"d-flex flex-justify-center p-4",children:"This rich diff is not supported at the moment."})}try{d.displayName||(d.displayName="RichDiff")}catch{}var c=n(84),u=n(73974),m=n(67220),f=n(34614),h=n(13253),p=n(37109),g=n(20053),x=n(55847);let y={gridColumnTemplate:"HiddenDiffPatch-module__gridColumnTemplate--3bEGq"};var b=n(38621);function C({children:e,helpText:t,helpUrl:n,onLoadDiff:r,diffAnchor:l}){let o=n&&t,[d,c]=(0,a.useState)("initial"),u=(0,a.useCallback)(async()=>{try{c("loading"),await r()}catch{c("error")}},[r,c]);return(0,i.jsx)("div",{className:"px-3 py-4 fgColor-muted","data-diff-anchor":l,children:(0,i.jsxs)("div",{className:(0,g.$)(y.gridColumnTemplate),children:[(0,i.jsx)("svg",{"aria-hidden":!0,height:"84",style:{maxWidth:"340px"},viewBox:"0 0 340 84",xmlns:"http://www.w3.org/2000/svg",children:(0,i.jsx)("path",{clipPath:"url(#diff-placeholder)",d:"M0 0h340v84H0z",fillRule:"evenodd",style:{fill:"var(--bgColor-muted, var(--color-canvas-subtle))"}})})," ",(0,i.jsxs)("div",{className:"d-flex flex-justify-center flex-column flex-column text-center flex-items-center",children:["loading"===d&&(0,i.jsx)(s.A,{size:"medium"}),"error"===d&&(0,i.jsx)(b.AlertIcon,{size:24}),"initial"===d&&(0,i.jsx)(x.Q,{className:"h4 mx-auto fgColor-accent",variant:"invisible",onClick:()=>{u(),c("loading")},children:"Load Diff"}),"error"===d?(0,i.jsxs)("span",{className:"fgColor-muted mt-1",children:["The contents of the file couldn't be loaded."," ",(0,i.jsx)(f.A,{inline:!0,as:"button",onClick:()=>{u(),c("loading")},children:"Retry"})]}):(0,i.jsxs)("span",{className:"fgColor-muted mt-1",children:[e,o&&(0,i.jsx)(f.A,{inline:!0,href:n,children:t})]})]})]})})}try{C.displayName||(C.displayName="HiddenDiffPatch")}catch{}let v={finalLineId:"final-hunk-header-line"};function j(e,t){return e.startBlobLineNumber-t.startBlobLineNumber}function w(e,t){if("HUNK"===e.type&&e.__id===v.finalLineId)return{currentHunk:t[t.length-1],previousHunk:t[t.length-2]};let n=t.sort(j).findIndex(t=>t.startBlobLineNumber<=e.blobLineNumber&&t.endBlobLineNumber>=e.blobLineNumber);return{currentHunk:t[n],nextHunk:t[n+1],previousHunk:t[n-1]}}function N(e){let t=[],n=0;for(let i=1;i<e.length;i++){let r=e[i],a=i===e.length-1;if(r&&!(0,p.Po)(r)){if("HUNK"===r.type){let a;let l=e[n];if(!l||(0,p.Po)(l))continue;let o=i-1;for(;(!a||(0,p.Po)(a))&&(a=e[o],-1!=--o););a&&!(0,p.Po)(a)&&t.push({startBlobLineNumber:l.blobLineNumber,endBlobLineNumber:a.blobLineNumber}),r.__id===v.finalLineId&&t.push({startBlobLineNumber:r.blobLineNumber,endBlobLineNumber:r.blobLineNumber+20}),n=i;continue}if(a){let i=e[n];i&&!(0,p.Po)(i)&&t.push({startBlobLineNumber:i.blobLineNumber,endBlobLineNumber:r.blobLineNumber})}}}return t}let k=(0,a.createContext)(null);function S({children:e,currentHunk:t,diffEntryId:n,diffLine:r,fileAnchor:l,fileLineCount:o,filePath:s,isLeftSide:d,isRowSelected:c=!1,isSplit:u,modifiedLineThreads:m,modifiedLineThreadsConnectionId:f,nextHunk:h,originalLineThreads:p,originalLineThreadsConnectionId:g,previousHunk:x,rowId:y,diffContext:b,setInGridMode:C}){let v=(0,a.useMemo)(()=>({currentHunk:t,diffEntryId:n,diffLine:r,fileAnchor:l,fileLineCount:o,filePath:s,isLeftSide:d,isRowSelected:c,isSplit:u,modifiedLineThreads:m,modifiedLineHasThreads:m&&m.length>0,modifiedLineThreadsConnectionId:f,nextHunk:h,originalLineThreads:p,originalLineHasThreads:p&&p.length>0,originalLineThreadsConnectionId:g,previousHunk:x,rowId:y,diffContext:b,setInGridMode:C}),[t,n,r,l,o,s,d,c,u,m,f,h,p,g,x,y,b,C]);return(0,i.jsx)(k.Provider,{value:v,children:e})}function L(){let e=(0,a.useContext)(k);if(!e)throw Error("useDiffLineContext must be used within a DiffLineContextProvider");return e}try{k.displayName||(k.displayName="DiffLineContext")}catch{}try{S.displayName||(S.displayName="DiffLineContextProvider")}catch{}function D(e,t){return e?.threads?.flatMap(e=>{let n=e?.id,i=e?.commentsData?.comments?.[0]?.author??t,r=e?.commentsData?.totalCount??0,a=e?.commentsData?.__id;return n&&i?[{id:n,author:i,commentCount:r,commentsConnectionId:a,diffSide:e.diffSide,isOutdated:e.isOutdated,line:e.line,startLine:e.startLine,startDiffSide:e.startDiffSide}]:[]})??[]}var E=n(90189),_=n(82678);function A(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}let GridNavigator=class GridNavigator{moveToNextItem(e,t){let n;let i=this.cellIdToGridLocation.get(this.focusedGridCell?.cellId??"");if(!i)return;let[r]=i,[,a]=i;switch(("ArrowDown"===e||"ArrowUp"===e)&&this.isHunkRow(r)&&this.savedColumnIndex&&(a=this.savedColumnIndex,this.savedColumnIndex=void 0),!0){case t&&"Home"===e:this.focusFirstGridCell();break;case t&&"End"===e:{let e=this.grid.length-1,t=this.grid[e]?.length;t&&(n=this.grid[e]?.[t-1]);break}case"ArrowUp"===e:this.isHunkRow(r-1)?(this.saveColumnIndex(a),n=this.grid[r-1]?.[0]):n=this.grid[r-1]?.[a];break;case"ArrowDown"===e:this.isHunkRow(r+1)?(this.saveColumnIndex(a),n=this.grid[r+1]?.[0]):n=this.grid[r+1]?.[a];break;case"ArrowLeft"===e:n=this.grid[r]?.[a-1];break;case"ArrowRight"===e:n=this.grid[r]?.[a+1];break;case"PageUp"===e:{this.saveColumnIndex(a);let e=this.getPreviousHunkRowIndex(r);n=this.grid[e]?.[0];break}case"PageDown"===e:{this.saveColumnIndex(a);let e=this.getNextHunkRowIndex(r),t=0;e||(e=this.grid.length-1,t=a),n=this.grid[e]?.[t];break}case"Home"===e:n=this.grid[r]?.[0];break;case"End"===e:{let e=this.grid[r];if(e&&!this.isHunkRow(r)){let t=e.length-1;n=this.grid[r]?.[t]}}}return n&&(this.focusedGridCell=n),this.focusedGridCell}reinitializeGrid(e,t){this.initializeGrid(e,t)}focusFirstGridCell(e){e&&this.cellIdToGridLocation.get(e)?this.focusGridCell(e):this.focusedGridCell=this.grid[0]?.[0]}focusGridCell(e){if(this.focusedGridCell?.cellId===e)return;let t=this.cellIdToGridLocation.get(e);if(!t)return;let[n,i]=t;this.focusedGridCell=this.grid[n]?.[i]}getNextSelectableCell(e){let t;let n=this.lastSelectedGridCell||this.focusedGridCell,i=this.cellIdToGridLocation.get(n?.cellId??"");if(!i)return;let[r,a]=i;if(("ArrowUp"!==e||!(r<=1))&&("ArrowDown"!==e||r!==this.grid.length-1)){if("ArrowUp"===e){let e=r-1;for(;!t;)t=this.getNextSelectableCellFromRow({rowIndex:e,columnIndex:a}),e--}if("ArrowDown"===e){let e=r+1;for(;!t;)t=this.getNextSelectableCellFromRow({rowIndex:e,columnIndex:a}),e++}return t&&(this.lastSelectedGridCell=t),t}}getValidSelectableRowCell(){if(this.focusedGridCell?.isHunk)return;if(!this.focusedGridCell?.isEmpty)return this.focusedGridCell;let e=this.cellIdToGridLocation.get(this.focusedGridCell.cellId)?.[0];if(e)return this.focusedGridCell.columnIndex<2?this.grid[e]?.[this.focusedGridCell.columnIndex+2]:this.grid[e]?.[this.focusedGridCell.columnIndex-2]}clearLastSelectedCell(){this.lastSelectedGridCell=void 0}getFirstCodeCell(){let e=this.grid.find(e=>e[0]&&!e[0].isHunk);return e?.find(e=>!e.isEmpty)}getLastCodeCell(){let e=this.grid.slice().reverse().find(e=>e[0]&&!e[0].isHunk);return e?.slice().reverse().find(e=>!e.isEmpty)}hasLine(e,t,n){let i=(0,p.qX)(this.fileAnchor,e,t),r=(0,p.u6)(i,0),a=this.cellIdToGridLocation.get(r);if(!a)return!1;let[l]=a;return!!n===this.isHunkRow(l)}getNextSelectableCellFromRow({rowIndex:e,columnIndex:t}){let n=this.grid[e],i=n?.[t];switch(!0){case i?.isHunk:return;case i?.orientation==="left"&&i.isEmpty:return n?.[t+2];case i?.orientation==="right"&&i.isEmpty:return n?.[t-2];default:return n?.[t]}}getNextHunkRowIndex(e){return Array.from(this.hunkRowIndexes).sort((e,t)=>e-t).find(t=>t>e)}getPreviousHunkRowIndex(e){return Array.from(this.hunkRowIndexes).sort((e,t)=>e-t).reverse().find(t=>t<e)??0}initializeGrid(e,t){this.grid=[],this.cellIdToGridLocation=new Map,this.hunkRowIndexes=new Set;for(let n=0;n<e.length;n++){let i=[],r=e[n];if(void 0!==r){if(this.isSplitDiff){let e=(t||[])[n],a=(0,p.qX)(this.fileAnchor,r,e);(0,p.Po)(r)||"HUNK"!==r.type?this.initializeSplitDiffCodeRow({leftLine:r,rightLine:e,row:i,rowIdentifier:a,rowIndex:n}):this.initializeHunkRow(i,a,n)}else{let e=(0,p.qX)(this.fileAnchor,r,r);(0,p.Po)(r)||"HUNK"!==r.type?this.initializeUnifiedDiffCodeRow({diffLine:r,row:i,rowIdentifier:e,rowIndex:n}):this.initializeHunkRow(i,e,n)}this.grid.push(i)}}}initializeContentCell({cellIndex:e,diffLine:t,orientation:n,row:i,rowIdentifier:r,rowIndex:a}){let l;let o=(0,p.u6)(r,e);(0,p.Po)(t)||"left"!==n||(l=t?.left),(0,p.Po)(t)||"right"!==n||(l=t?.right),i.push({lineNumber:l,orientation:n,isHunk:!1,isEmpty:(0,p.Po)(t),cellId:(0,p.u6)(r,e),columnIndex:e}),this.cellIdToGridLocation.set(o,[a,e])}initializeHunkRow(e,t,n){let i=(0,p.u6)(t,0);e.push({isHunk:!0,isEmpty:!1,cellId:i,columnIndex:0}),this.cellIdToGridLocation.set(i,[n,0]),this.hunkRowIndexes.add(n)}isHunkRow(e){return this.hunkRowIndexes.has(e)}initializeSplitDiffCodeRow({leftLine:e,rightLine:t,row:n,rowIdentifier:i,rowIndex:r}){this.initializeContentCell({cellIndex:0,diffLine:e,orientation:"left",row:n,rowIdentifier:i,rowIndex:r}),this.initializeContentCell({cellIndex:1,diffLine:e,orientation:"left",row:n,rowIdentifier:i,rowIndex:r}),this.initializeContentCell({cellIndex:2,diffLine:t,orientation:"right",row:n,rowIdentifier:i,rowIndex:r}),this.initializeContentCell({cellIndex:3,diffLine:t,orientation:"right",row:n,rowIdentifier:i,rowIndex:r})}initializeUnifiedDiffCodeRow({diffLine:e,row:t,rowIdentifier:n,rowIndex:i}){let r=(0,p.Po)(e)||"DELETION"!==e.type?"right":"left";this.initializeContentCell({cellIndex:0,diffLine:e,orientation:"left",row:t,rowIdentifier:n,rowIndex:i}),this.initializeContentCell({cellIndex:1,diffLine:e,orientation:"right",row:t,rowIdentifier:n,rowIndex:i}),this.initializeContentCell({cellIndex:2,diffLine:e,orientation:r,row:t,rowIdentifier:n,rowIndex:i})}saveColumnIndex(e){this.isHunkRow(e)||(this.savedColumnIndex=e)}constructor(e,t,n,i,r){A(this,"grid",[]),A(this,"cellIdToGridLocation",new Map),A(this,"hunkRowIndexes",new Set),A(this,"focusedGridCell",void 0),A(this,"lastSelectedGridCell",void 0),A(this,"savedColumnIndex",void 0),this.fileAnchor=e,this.isSplitDiff=t,this.initializeGrid(n,i),this.focusFirstGridCell(r)}};function I(e){e&&setTimeout(()=>{0!==e.tabIndex&&(e.tabIndex=0)})}var R=n(69676);let T={ArrowLeft:R.z0.ArrowHorizontal,ArrowDown:R.z0.ArrowVertical,ArrowUp:R.z0.ArrowVertical,ArrowRight:R.z0.ArrowHorizontal,h:R.z0.HL,j:R.z0.JK,k:R.z0.JK,l:R.z0.HL,a:R.z0.AD,s:R.z0.WS,w:R.z0.WS,d:R.z0.AD,Tab:R.z0.Tab,Home:R.z0.HomeAndEnd,End:R.z0.HomeAndEnd,PageUp:R.z0.PageUpDown,PageDown:R.z0.PageUpDown,Backspace:R.z0.Backspace},F=R.z0.ArrowAll|R.z0.PageUpDown|R.z0.HomeAndEnd|R.z0.AD,O={ghostUser:{displayName:"Ghost",login:"ghost",avatarUrl:"https://avatars.githubusercontent.com/ghost",path:"/ghost",url:"/ghost"}};function M(e){return e in T&&(T[e]&F)>0}function U({clearSelectedDiffRowRange:e,containerRef:t,fileAnchor:n,isSplitDiff:i,leftLines:r,replaceSelectedDiffRowRangeFromGridCells:l,rightLines:o,selectedDiffRowRange:s,updateSelectedDiffRowRange:d,disabled:c}){var u;let m=(0,a.useRef)(void 0),f=(0,a.useMemo)(()=>new GridNavigator(n,i,r,o,m.current?.focusedGridCell?.cellId),[n,i,r,o]);(0,a.useEffect)(()=>{m.current=f},[f]),u=m.current,(0,a.useEffect)(()=>{if(u&&document.activeElement){let e=function(e,t,n){let i=[];for(let r=0;r<t.length;r++){let a=t[r],l=n?.[r]??a,o=!(0,p.Po)(a)&&a?.type==="HUNK";a&&l&&!e.hasLine(a,l,o)&&i.push(a)}return i}(u,r,o);if(0!==e.length){if(document.activeElement===document.body){let t,i,a;let l=r.indexOf(e[e.length-1]),o=r[l+1],s=e[0];o&&!(0,p.Po)(o)&&"HUNK"===o.type&&(t=(0,p.u6)((0,p.qX)(n,o,o),0),i=document.querySelector(`[data-grid-cell-id=${t}]`),a=i?.querySelector("button[data-direction=down], button[data-direction=all]")),a||(t=(0,p.u6)((0,p.qX)(n,s,s),0),i=document.querySelector(`[data-grid-cell-id=${t}]`),a=i?.querySelector("button[data-direction=up], button[data-direction=all]")),t&&i&&(a?a.focus():i.focus(),f.focusGridCell(t),I(i))}else if("BUTTON"===document.activeElement.tagName)I(document.activeElement.closest("td"));else if("TD"===document.activeElement.tagName){let e=document.activeElement.getAttribute("data-grid-cell-id"),n=f.focusedGridCell?.cellId;if(e!==n){let e=t.current?.querySelector(`[data-grid-cell-id=${n}]`);e?.focus()}}}}},[n,r,f,o,u,t]),function(e,t){let n=(0,a.useCallback)(e=>{let n=e.target.getAttribute("data-grid-cell-id");n&&t.focusGridCell(n)},[t]);(0,a.useEffect)(()=>{let t=e.current;return t?.addEventListener("focusin",n),()=>t?.removeEventListener("focusin",n)},[e,n])}(t,f);let h=(0,a.useCallback)((t,i,r)=>{let a=f.getValidSelectableRowCell();switch(!0){case(r.metaKey||r.ctrlKey)&&"KeyA"===r.code:{let e=f.getFirstCodeCell(),t=f.getLastCodeCell();if(!e||!t)return i;return l({diffAnchor:n,focusedGridCell:e,startGridCell:e,endGridCell:t}),i}case r.shiftKey&&"ArrowDown"===r.key:{let e=f.getNextSelectableCell("ArrowDown");if(!e||!a)return i;return s?.firstSelectedLineNumber?d(n,e.lineNumber,e.orientation,!0):l({diffAnchor:n,focusedGridCell:a,startGridCell:a,endGridCell:e}),i}case r.shiftKey&&"ArrowUp"===r.key:{let e=f.getNextSelectableCell("ArrowUp");if(!e||!a)return i;return s?.firstSelectedLineNumber?d(n,e.lineNumber,e.orientation,!0):l({diffAnchor:n,focusedGridCell:a,startGridCell:e,endGridCell:a}),i}case"ArrowLeft"===r.key&&r.metaKey&&r.shiftKey:return;default:{let t=f.moveToNextItem(r.key,r.ctrlKey),n=t&&document.querySelector(`[data-grid-cell-id=${t.cellId}]`);return e(),f.clearLastSelectedCell(),n??void 0}}},[f,s,d,n,l,e]);return(0,_.G)({containerRef:t,bindKeys:F,getNextFocusable:h,focusableElementFilter:e=>"BUTTON"!==e.tagName,focusInStrategy:"previous",disabled:c},[h]),{gridNavigator:f}}var B=n(54332),$=n(42242),P=n(82431),H=n(56126),V=n(67136),K=n(70404),z=n(52464),G=n(75177),W=n(47139),q=n(87330),Q=n(42522);let X="a, audio, button, details, embed, iframe, img, input, keygen, label, object, select, textarea, video";var Y=n(94493);function J({children:e}){return(0,i.jsx)(z.A,{sx:{fontWeight:500,color:"fg.default"},children:e})}function Z({thread:e}){return void 0!==e&&e?.diffSide&&e.line?e.startLine&&e.startDiffSide?et({thread:e}):ee({thread:e}):null}function ee({thread:e}){let t="LEFT"===e.startDiffSide?"L":"R";return(0,i.jsxs)(z.A,{sx:{color:"fg.muted",pl:2},children:["Comment on line"," ",(0,i.jsxs)(J,{children:[t,e.line]})]})}function et({thread:e}){let t="LEFT"===e.startDiffSide?"L":"R",n="LEFT"===e.diffSide?"L":"R";return(0,i.jsxs)(z.A,{sx:{color:"fg.muted",pl:2},children:["Comment on lines"," ",(0,i.jsxs)(J,{children:[t,e.startLine]})," ","to"," ",(0,i.jsxs)(J,{children:[n,e.line]})]})}function en({commentingImplementation:e,fileAnchor:t,filePath:n,threadId:r,isOutdated:l,threads:o,threadsConnectionId:d,enterDialogMode:c,ghostUser:u,manuallyUpdateCommentsWithThisThreadId:m,suggestedChangesConfig:f,...h}){let[p,g]=(0,a.useState)(void 0),{fetchThread:x}=e,y=(0,a.useRef)(null),{isInDialogMode:C}=(0,$.q)(),v=(0,a.useCallback)(async(e,t=!0)=>{g(await x(e,t))},[x]);(0,a.useEffect)(()=>{v(r,!1)},[v,m,r]),(0,a.useEffect)(()=>{var e,t;C&&(C||!p)?(e=y.current,setTimeout(()=>{for(let t of(e?.setAttribute("aria-hidden","false"),Array.from(e?.querySelectorAll("*")??[])))t?.setAttribute("aria-hidden","false");for(let t of Array.from(e?.querySelectorAll(X)??[]))t.setAttribute("tabindex","0")},100)):(t=y.current,t?.setAttribute("aria-hidden","true"),function e(n=0){setTimeout(()=>{let n=Array.from(t?.querySelectorAll("*")??[]),i=Array.from(t?.querySelectorAll(X)??[]);if(0===i.length)return e(200);for(let e of n)e?.setAttribute("aria-hidden","true");for(let e of i)e.setAttribute("tabindex","-1")},n)}())},[C,p]),(0,a.useEffect)(()=>{p||v(r,!1)},[r,p,x,v]);let j=(0,a.useMemo)(()=>{if(t&&p&&p.subject?.startDiffSide&&p.subject?.endDiffSide&&p.subject?.startLine&&p.subject?.endLine&&f?.configureSuggestedChangesFromLineRange){let e=p.subject?.startLine??p?.subject?.endLine,n=p.subject?.startDiffSide??p?.subject?.endDiffSide,i={diffAnchor:t,endLineNumber:p?.subject?.endLine,endOrientation:p.subject?.endDiffSide==="LEFT"?"left":"right",startLineNumber:e,firstSelectedLineNumber:e,firstSelectedOrientation:"LEFT"===n?"left":"right",startOrientation:"LEFT"===n?"left":"right"};return f?.configureSuggestedChangesFromLineRange(i)}},[t,p,f]),{sendAnalyticsEvent:w}=(0,K.s)(),{resolveThread:N,unresolveThread:k,resolvingEnabled:S}=e,L=o.find(e=>e.id===r),{addToast:D}=(0,V.Y6)();if(!p||!(p.commentsData.comments.length>0))return null;let E=!!p.isResolved,_=L?.commentsConnectionId;return(0,i.jsxs)(G.A,{sx:{mb:1,mt:1},className:"bgColor-default rounded-2",ref:y,children:[(0,i.jsxs)(G.A,{sx:{display:"flex",flexDirection:"row",width:"100%",alignItems:"center",borderBottom:"1px solid",borderColor:"border.muted"},children:[(0,i.jsx)(Z,{thread:L}),(0,i.jsxs)(G.A,{sx:{display:"flex",flexDirection:"row",gap:1,alignItems:"center",justifyContent:"right",flexGrow:1},children:[E&&(0,i.jsx)(W.A,{variant:"done",size:"large",children:"Resolved"}),S&&(0,i.jsx)(Q.m,{text:E?"Unresolve conversation":"Resolve conversation",type:"label",direction:"w",id:"resolve-conversation",children:(0,i.jsx)(q.K,{"aria-labelledby":"resolve-conversation",icon:E?b.CheckCircleFillIcon:b.CheckCircleIcon,sx:{color:E?"var(--fgColor-done, var(--color-done-fg)) !important":void 0},variant:"invisible",onClick:E?()=>{p&&(k({thread:p,onCompleted:()=>v(p.id),onError:()=>{D({type:"error",message:"Failed to unresolve thread"})}}),w("comments.unresolve_thread","RESOLVE_CONVERSATION_BUTTON"))}:()=>{p&&(N({thread:p,onCompleted:()=>v(p.id),onError:()=>{D({type:"error",message:"Failed to resolve thread"})}}),w("comments.resolve_thread","RESOLVE_CONVERSATION_BUTTON"))}})})]})]}),(0,i.jsx)(a.Suspense,{fallback:(0,i.jsxs)(G.A,{sx:{height:"90px",alignItems:"center",display:"flex",flexDirection:"column",justifyContent:"center",color:"fg.muted",fontSize:0},children:[(0,i.jsx)(s.A,{}),(0,i.jsx)("p",{children:"Loading comments"})]}),children:(0,i.jsx)(Y.H,{enterDialogMode:c,commentingImplementation:e,commentsConnectionId:_,filePath:n,onRefreshThread:v,thread:p,threadsConnectionId:d,suggestedChangesConfig:j,shouldLimitHeight:!1,...h,ghostUser:u})})]})}try{J.displayName||(J.displayName="Emphasis")}catch{}try{Z.displayName||(Z.displayName="ThreadBanner")}catch{}try{ee.displayName||(ee.displayName="SingleLineThreadBanner")}catch{}try{et.displayName||(et.displayName="MultineLineThreadBanner")}catch{}try{en.displayName||(en.displayName="InlineReviewThread")}catch{}function ei(e){return(0,i.jsx)(H.j,{children:(0,i.jsx)(er,{...e})})}function er({annotations:e,commentingImplementation:t,conversationListThreads:n,isMarkerListOpen:r,fileAnchor:l,filePath:o,onAnnotationSelected:s,onCloseConversationDialog:d,onCloseConversationList:c,onCloseFocusMode:u,onThreadSelected:m,returnFocusRef:f,selectedAnnotationId:h,startConversationElementJSX:p,selectedThreadId:g,threadsConnectionId:y,suggestedChangesConfig:b,manuallyUpdateCommentsWithThisThreadId:C,ghostUser:v,enterDialogMode:j,...w}){let N=(0,a.useCallback)(async e=>{let i=await t.fetchThread(e,!1);i&&n.push(i),S({})},[t,n]),[k,S]=(0,a.useState)({});(0,a.useEffect)(()=>{0===n.length&&C&&""!==C&&N(C)},[t,n.length,N,C]);let{isInDialogMode:L,enableInlineCommentDialogMode:D}=(0,$.q)();return(0,i.jsxs)("div",{style:{marginLeft:"-20px",marginRight:"-94px",maxWidth:"633px",width:"100%"},onClick:()=>{L||D()},children:[L&&(0,i.jsx)(x.Q,{variant:"default",size:"small",onMouseUp:u,onKeyUp:e=>{("Enter"===e.key||"Space"===e.code)&&u()},style:{position:"absolute",left:"-40px",top:"-1px"},children:"Exit"}),n.map(e=>(0,i.jsx)(en,{manuallyUpdateCommentsWithThisThreadId:C,enterDialogMode:j,commentingImplementation:t,filePath:o,fileAnchor:l,threadId:e.id,isOutdated:e.isOutdated,threads:n,threadsConnectionId:y,onThreadSelected:m,suggestedChangesConfig:b,ghostUser:v,...w},`review-thread-${e.id}`)),p]})}try{ei.displayName||(ei.displayName="InlineMarkers")}catch{}try{er.displayName||(er.displayName="InlineMarkersInternal")}catch{}var ea=n(11499),el=n(84100),eo=n(86617),es=n(90495),ed=n(77393),ec=n(89323),eu=n(8338);let em=(0,a.createContext)(null);function ef({children:e,...t}){let n=!!t.commentingImplementation,r=!!t.markerNavigationImplementation;if(t.commentingEnabled!==n&&t.commentingEnabled!==r)throw Error("commentingEnabled, commentingImplementation, and markerNavigationImplementation must be passed together");let l=t?.ghostUser??O.ghostUser,o=(0,a.useMemo)(()=>({ghostUser:l,...t}),[...Object.values(t),l]);return(0,i.jsx)(em.Provider,{value:o,children:e})}function eh(){let e=(0,a.useContext)(em);if(!e)throw Error("useDiffContext must be used within a DiffContextProvider");return e}try{em.displayName||(em.displayName="DiffContext")}catch{}try{ef.displayName||(ef.displayName="DiffContextProvider")}catch{}var ep=n(57259);function eg(e){return null!=e}let ex="thread",ey="annotation",eb=(0,a.createContext)(null);function eC({children:e,line:t}){let[n,r]=(0,a.useState)(!1),[l,o]=(0,a.useState)(),[s,d]=(0,a.useState)(),[c,u]=(0,a.useState)(),[m,f]=(0,a.useState)(),[h,p]=(0,a.useState)(),{ghostUser:g,markerNavigationImplementation:x}=eh(),{originalLineThreads:y,modifiedLineThreads:b,originalLineThreadsConnectionId:C,modifiedLineThreadsConnectionId:v}=L(),[j,w]=(0,a.useState)(),{threads:N,threadConnectionId:k}=ej({line:t,side:j,originalLineThreads:y,modifiedLineThreads:b,originalLineThreadsConnectionId:C,modifiedLineThreadsConnectionId:v,ghostUser:g}),S=(0,a.useMemo)(()=>!!l||!!s||!!c||!!m,[l,c,s,m]),D=(0,a.useCallback)(()=>{r(!0)},[]),E=(0,a.useCallback)(()=>{r(!1)},[]),_=(0,a.useCallback)(e=>{e?p({id:e,kind:ex}):p(void 0)},[]),A=h?.kind===ex?h.id:void 0,I=h?.kind===ey?h.id:void 0,R=(0,a.useCallback)(e=>{e?p({id:e,kind:ey}):p(void 0)},[]),T=(0,a.useCallback)((e,t,n)=>{switch((0,ep.e)(x?.overlayPortalContainerName),e){case"context-menu":o(t),f(void 0),u(void 0),d(void 0);break;case"new-conversation":f({cellId:t,withSuggestedChange:n?.withSuggestedChange}),o(void 0),u(void 0),d(void 0);break;case"marker-details":u(t),o(void 0),d(void 0),f(void 0);break;case"marker-list":d(t),o(void 0),f(void 0),u(void 0)}},[x?.overlayPortalContainerName]),F=(0,a.useCallback)(e=>{switch(e){case"context-menu":o(void 0);break;case"new-conversation":f(void 0);break;case"marker-details":u(void 0);break;case"marker-list":d(void 0)}},[]),O=(0,a.useCallback)(e=>(w(e),ej({line:t,side:e,modifiedLineThreads:b,modifiedLineThreadsConnectionId:v,originalLineThreads:y,originalLineThreadsConnectionId:C,ghostUser:g}).threads),[t,b,v,y,C,g]),M=(0,a.useMemo)(()=>t.annotationsData?.annotations?.filter(eg)??[],[t.annotationsData?.annotations]),U=(0,a.useMemo)(()=>({annotations:M,isActionBarVisible:n,showActionBar:D,hideActionBar:E,selectThreadId:_,selectAnnotationId:R,closeDialog:F,openDialog:T,anyMenuOpen:S,selectedThreadId:A,selectedAnnotationId:I,openContextMenuCell:l,openMarkersListCell:s,openMarkerDetailsCell:c,openNewConversationCell:m,threads:N,updateVisibleThreads:O,threadConnectionId:k}),[M,n,D,E,_,R,F,T,S,A,I,l,s,c,m,N,k,O]);return(0,i.jsx)(eb.Provider,{value:U,children:e})}function ev(){let e=(0,a.useContext)(eb);if(!e)throw Error("useMarkersDialogContext must be used within a MarkersDialogContextProvider");return e}function ej({line:e,side:t,originalLineThreads:n,modifiedLineThreads:i,originalLineThreadsConnectionId:r,modifiedLineThreadsConnectionId:a,ghostUser:l}){switch(t){case"LEFT":return{threads:n||[],threadConnectionId:r};case"RIGHT":return{threads:i||[],threadConnectionId:a};case void 0:return{threads:D(e.threadsData,l),threadConnectionId:e.threadsData?.__id};default:return{threads:[],threadConnectionId:void 0}}}try{eb.displayName||(eb.displayName="MarkersDialogContext")}catch{}try{eC.displayName||(eC.displayName="MarkersDialogContextProvider")}catch{}var ew=n(45725),eN=n(46584);function ek({cellId:e,actionBarRef:t,onOpenInLineThread:n}){let{replaceSelectedDiffRowRange:i}=(0,h.o)(),{fileAnchor:r}=L(),[l,o]=(0,a.useState)(t),{annotations:s,openDialog:d,closeDialog:c,selectedAnnotationId:u,selectAnnotationId:m,selectedThreadId:f,selectThreadId:p,openContextMenuCell:g,openNewConversationCell:x,openMarkerDetailsCell:y,openMarkersListCell:b,updateVisibleThreads:C,threads:v,threadConnectionId:j,anyMenuOpen:w}=ev(),{sendAnalyticsEvent:N}=(0,K.s)(),k=(0,a.useMemo)(()=>x?.cellId===e,[e,x]),S=(0,a.useMemo)(()=>x?.withSuggestedChange,[x]),D=(0,a.useCallback)(t=>{d("new-conversation",e,t)},[e,d]),E=(0,a.useCallback)(()=>{D()},[D]),_=(0,a.useCallback)(()=>{o(t),D(),N("diff.start_new_conversation","PLUS_ICON")},[t,D,N]),A=(0,a.useCallback)(()=>{D({withSuggestedChange:!0}),N("diff.start_new_conversation_with_suggested_change","CELL_CONTEXT_MENU")},[D,N]),I=(0,a.useCallback)(()=>{o(t),D({withSuggestedChange:!0}),N("diff.start_new_conversation_with_suggested_change","ACTION_BAR_CONTEXT_MENU")},[t,D,N]),R=(0,a.useCallback)(()=>{c("new-conversation")},[c]),{diff_inline_comments:T}=(0,eN.h)(),F=(0,a.useMemo)(()=>g===e,[e,g]),O=(0,a.useCallback)(()=>{d("context-menu",e)},[e,d]),M=(0,a.useCallback)(()=>{o(t),O()},[t,O]),U=(0,a.useCallback)(()=>{c("context-menu")},[c]),B=(0,a.useCallback)(()=>{F?U():O()},[U,F,O]),$=(0,a.useCallback)(()=>{o(t),B()},[t,B]),P=(0,a.useMemo)(()=>y===e?f:void 0,[e,y,f]),H=(0,a.useMemo)(()=>y===e?u:void 0,[e,y,u]),V=(0,a.useCallback)(()=>{T?n?.():d("marker-details",e)},[e,T,n,d]),z=(0,a.useCallback)(()=>{c("marker-details")},[c]),G=(0,ew.K)((e,t={skipLineSelection:!1})=>{if(p(e),V(),t.skipLineSelection)return;let n=v.find(t=>t.id===e);if(n&&n.diffSide&&n.line){let e=n.startLine??n.line,t=n.startDiffSide??n.diffSide;i({diffAnchor:r,endLineNumber:n.line,endOrientation:"LEFT"===n.diffSide?"left":"right",startLineNumber:e,startOrientation:"LEFT"===t?"left":"right",firstSelectedLineNumber:e,firstSelectedOrientation:"LEFT"===t?"left":"right"})}}),W=(0,ew.K)((e,t={skipLineSelection:!1})=>{if(m(e),V(),t.skipLineSelection)return;let n=s.find(t=>t.id===e);n&&i({diffAnchor:r,endLineNumber:n.endLine,endOrientation:"right",startLineNumber:n.startLine,startOrientation:"right",firstSelectedLineNumber:n.startLine,firstSelectedOrientation:"right"})}),q=(0,a.useCallback)(()=>{d("marker-list",e)},[e,d]),Q=(0,a.useCallback)(()=>{c("marker-list")},[c]),X=(0,a.useCallback)(e=>{let t=C(e);if(!t?.length&&!s.length)return;let n=t&&t[0],i=t&&1===t.length&&n&&!s.length,r=s[0],a=1===s.length&&r&&!t?.length;i?G(n.id):a?W(r.id):q()},[s,q,W,G,C]);return{isNewConversationDialogOpen:k,startNewConversation:E,startNewConversationFromActionBar:_,closeNewConversationDialog:R,startNewConversationWithSuggestedChange:A,startNewConversationFromActionBarWithSuggestedChange:I,shouldStartNewConversationWithSuggestedChange:S,isContextMenuOpen:F,openContextMenu:O,openContextMenuFromActionBar:M,closeContextMenu:U,toggleContextMenu:B,toggleContextMenuFromActionBar:$,optimizedSelectedThreadId:P,optimizedSelectedAnnotationId:H,selectThread:G,selectAnnotation:W,openMarkerDetailsDialog:V,closeConversationDetailsDialog:z,isMarkerListDialogOpen:b===e,openMarkerListDialog:q,closeMarkerListDialog:Q,openMarkerOrListDialogFromActionBar:(0,a.useCallback)(e=>{X(e),o(t)},[t,X]),openMarkerOrListDialog:(0,a.useCallback)(e=>{X(e)},[X]),annotations:s,returnFocusRef:l,threadConnectionId:j,threads:v,anyMenuOpen:w}}function eS({cellRef:e}){let{showActionBar:t,hideActionBar:n,anyMenuOpen:i}=ev(),[r,l]=(0,a.useState)(!1),o=(0,a.useCallback)(()=>{t()},[t]),s=(0,a.useCallback)(t=>{!i&&(e.current&&e.current.contains(t.relatedTarget)||n())},[i,e,n]),d=(0,a.useCallback)(()=>{t()},[t]),c=(0,a.useCallback)(()=>{!i&&(e.current===document.activeElement||e.current?.contains(document.activeElement)||n())},[i,e,n]);return{isActionBarFocused:r,handleCellBlur:s,handleCellFocus:o,handleCellMouseEnter:d,handleCellMouseLeave:c,handleActionBarBlur:(0,a.useCallback)(t=>{e.current&&!i&&(e.current.contains(t.relatedTarget)?e.current===t.relatedTarget&&l(!1):(n(),l(!1)))},[i,e,n]),handleActionBarFocusCapture:(0,a.useCallback)(e=>{i||(e.stopPropagation(),l(!0))},[i]),handleActionBarKeydownCapture:(0,a.useCallback)(e=>{!i&&M(e.key)&&e.stopPropagation()},[i])}}var eL=n(26335),eD=n(64515),eE=n(91321),e_=n(62456),eA=n(46008),eI=n(82126);let eR={commentIndicatorContainer:"CommentIndicator-module__commentIndicatorContainer--L8lU3",AvatarStack:"CommentIndicator-module__AvatarStack--jMN2F",Compact:"CommentIndicator-module__Compact--SQwGN",Relaxed:"CommentIndicator-module__Relaxed--DWkA5",textStyles:"CommentIndicator-module__textStyles--ahQJa"},eT={compact:{avatarSize:18},relaxed:{avatarSize:20}};function eF({shouldAnimateRef:e,lineSpacingPreference:t="relaxed"}){let{diffLine:n}=L(),{ghostUser:r}=eh();(0,a.useEffect)(()=>{e?.current&&(e.current=!1)},[e]);let{avatarSize:l}=eT[t],o=(n.threadsData?.totalCommentsCount||0)+(n.annotationsData?.totalCount||0);if(0===o)return null;let s={},d=[];n.annotationsData?.annotations?.map(e=>{e?.annotationLevel&&d.push({id:e.id,level:e.annotationLevel})}),n.threadsData?.threads?.map(e=>e?.commentsData?.comments?.map(e=>{e?.author?s[e?.author.login]=e.author:r?.login&&(s[r.login]=r)}));let c=[...d.sort((e,t)=>(eI.GF[e.level]?.priority||0)<(eI.GF[t.level]?.priority||0)?-1:1).map(t=>e?.current?(0,i.jsx)(eI.S,{annotationLevel:t.level},t.id):(0,i.jsx)(eI.Xh,{annotationLevel:t.level},t.id)),...Object.keys(s).map(e=>{let t=s[e]?.login,n=s[e]?.avatarUrl??(r?.avatarUrl||" ");return(0,i.jsx)(e_.r,{alt:t,size:20,src:n},t)})].slice(0,3),u=o>9?"9+":`${o}`;return(0,i.jsxs)("div",{className:(0,g.$)("d-flex","flex-justify-between","flex-items-center",eR.commentIndicatorContainer),children:[(0,i.jsx)(eA.A,{disableExpand:!0,size:l,className:(0,g.$)(eR.AvatarStack,"relaxed"===t?eR.Relaxed:eR.Compact),children:c}),(0,i.jsx)("span",{className:(0,g.$)("fgColor-default","ml-1",eR.textStyles),children:u})]})}try{eF.displayName||(eF.displayName="CommentIndicator")}catch{}var eO=n(35149),eM=n(39298),eU=n(5993);let eB=({fileDiffReference:e,selectedRange:t,showDivider:n})=>{let r=(0,a.useMemo)(()=>{let n={...e};return t&&(n.selectedRange={start:`${t?.startOrientation[0]?.toUpperCase()??""}${t?.startLineNumber}`,end:`${t?.endOrientation[0]?.toUpperCase()??""}${t?.endLineNumber}`}),n},[e,t]);return(0,i.jsxs)(i.Fragment,{children:[(0,i.jsxs)(ec.W,{children:[(0,i.jsx)(ec.W.Anchor,{children:(0,i.jsxs)(eu.l.Item,{children:[(0,i.jsx)(eu.l.LeadingVisual,{children:(0,i.jsx)(b.CopilotIcon,{})}),"Copilot"]})}),(0,i.jsx)(ec.W.Overlay,{children:(0,i.jsxs)(eu.l,{children:[(0,i.jsx)(eM.t,{fileDiffReference:r,eventContext:{prx:!0}}),(0,i.jsx)(eU.e,{fileDiffReference:r,eventContext:{prx:!0}}),(0,i.jsx)(eO.i,{fileDiffReference:r,eventContext:{prx:!0}})]})})]}),n&&(0,i.jsx)(eu.l.Divider,{})]})};try{eB.displayName||(eB.displayName="CopilotDiffChatContextMenu")}catch{}function e$(){let{nextHunk:e,currentHunk:t,previousHunk:n}=L(),{addInjectedContextLines:i}=eh();return eP(i,e,t,n)}function eP(e,t,n,i){let r=!!n&&0!==n.startBlobLineNumber,a=!!n&&!!t;return{expandStartOfHunk:()=>{r&&n&&e({start:Math.max(0,n.startBlobLineNumber-20),end:n.startBlobLineNumber})},expandEndOfHunk:()=>{a&&n&&e({start:n.endBlobLineNumber+1,end:n.endBlobLineNumber+1+20})},expandEndOfPreviousHunk:()=>{i&&e({start:i.endBlobLineNumber+1,end:i.endBlobLineNumber+1+20})},canExpandEndOfHunk:a,canExpandStartOfHunk:r}}var eH=n(30871);let eV={left:"L",right:"R"},eK="Start conversation",ez="Suggest change";function eG(e,t,n){let i=n&&!(0,p.Ji)(t)?eV.left:eV.right;return`${e} on line ${i}${t.blobLineNumber}`}function eW({handleStartConversationWithSuggestedChange:e,handleStartConversation:t}){let n,r,l;let{selectedDiffRowRange:o,selectedDiffLines:s,replaceSelectedDiffRowRange:d}=(0,h.o)(),{commentingEnabled:c}=eh(),{diffLine:u,isLeftSide:m,isSplit:f,diffContext:g}=L(),x=(0,a.useMemo)(()=>s.leftLines[0],[s.leftLines]),y=(0,a.useMemo)(()=>s.leftLines[s.leftLines.length-1],[s.leftLines]),C=(0,a.useMemo)(()=>s.leftLines.every(e=>!(0,p.Po)(e)&&"DELETION"!==e.type),[s.leftLines]),v=(0,a.useMemo)(()=>s.rightLines[0],[s.rightLines]),j=(0,a.useMemo)(()=>s.rightLines[s.rightLines.length-1],[s.rightLines]),w=(0,a.useMemo)(()=>0===s.rightLines.length,[s.rightLines]),N=(0,a.useMemo)(()=>0===s.leftLines.length,[s.leftLines]),k=(0,a.useMemo)(()=>!(s.leftLines.find(e=>!(0,p.Po)(e)&&!(0,p.Ji)(e)&&"INJECTED_CONTEXT"!==e.type)||s.rightLines.find(e=>!(0,p.Po)(e)&&!(0,p.Ji)(e)&&"INJECTED_CONTEXT"!==e.type)),[s.leftLines,s.rightLines]),S=(0,a.useCallback)((n,i)=>{!(!o||!y||!x||(0,p.Po)(y)||(0,p.Po)(x))&&x.left&&y.left&&(d({diffAnchor:o.diffAnchor,endLineNumber:y.left,endOrientation:"left",startLineNumber:x.left,startOrientation:"left",firstSelectedLineNumber:x.left,firstSelectedOrientation:"left"}),i?.withSuggestedChange?e():t())},[o,y,x,d,e,t]),D=(0,a.useCallback)((n,i)=>{!(!o||!j||!v||(0,p.Po)(j)||(0,p.Po)(v))&&v.right&&j.right&&(d({diffAnchor:o.diffAnchor,endLineNumber:j.right,endOrientation:"right",startLineNumber:v.right,startOrientation:"right",firstSelectedLineNumber:v.right,firstSelectedOrientation:"right"}),i?.withSuggestedChange?e():t())},[o,j,v,d,e,t]),E="DELETION"!==u.type&&("pr"===g||void 0===g),_=(0,a.useMemo)(()=>!!o&&(o.startOrientation!==o.endOrientation||o.startLineNumber!==o.endLineNumber),[o]);if(!c)return null;let A=!1,I=!1;if(o&&_){let t=eV[o.startOrientation],a=eV[o.endOrientation];return l=` on lines ${t}${o.startLineNumber}-${a}${o.endLineNumber}`,!(0,p.Po)(x)&&!(0,p.Po)(y)&&x&&y&&(A=!0,n=x.left===y.left?w?` on line L${x.left}`:`, original line L${x.left}`:w?` on lines L${x.left}-L${y.right}`:`, original lines L${x.left}-L${y.left}`),!(0,p.Po)(v)&&!(0,p.Po)(j)&&v&&j&&(I=!0,r=v.right===j.right?N||f&&k?` on line R${v.right}`:`, modified line R${j.right}`:N||f&&k?` on lines R${v.right}-R${j.right}`:`, modified lines R${v.right}-R${j.right}`),(0,i.jsx)(i.Fragment,{children:f?(0,i.jsx)(i.Fragment,{children:k?(0,i.jsxs)(i.Fragment,{children:[(0,i.jsxs)(eu.l.Item,{onSelect:D,children:[(0,i.jsx)(eu.l.LeadingVisual,{children:(0,i.jsx)(b.PlusIcon,{})}),eK+r,(0,i.jsx)(eu.l.TrailingVisual,{children:(0,i.jsx)(eH.U,{keys:"Alt+n"})})]}),(0,i.jsxs)(eu.l.Item,{onSelect:e=>D(e,{withSuggestedChange:!0}),children:[(0,i.jsx)(eu.l.LeadingVisual,{children:(0,i.jsx)(b.PlusCircleIcon,{})}),ez+r]})]}):(0,i.jsxs)(i.Fragment,{children:[A?(0,i.jsxs)(i.Fragment,{children:[(0,i.jsxs)(eu.l.Item,{onSelect:S,children:[(0,i.jsx)(eu.l.LeadingVisual,{children:(0,i.jsx)(b.PlusIcon,{})}),eK+n,(0,i.jsx)(eu.l.TrailingVisual,{children:(0,i.jsx)(eH.U,{keys:w?"Alt+n":"Alt+Shift+N"})})]}),C&&(0,i.jsxs)(eu.l.Item,{onSelect:e=>S(e,{withSuggestedChange:!0}),children:[(0,i.jsx)(eu.l.LeadingVisual,{children:(0,i.jsx)(b.PlusCircleIcon,{})}),ez+n]})]}):null,I?(0,i.jsxs)(i.Fragment,{children:[(0,i.jsxs)(eu.l.Item,{onSelect:D,children:[(0,i.jsx)(eu.l.LeadingVisual,{children:(0,i.jsx)(b.PlusIcon,{})}),eK+r,(0,i.jsx)(eu.l.TrailingVisual,{children:(0,i.jsx)(eH.U,{keys:"Alt+n"})})]}),(0,i.jsxs)(eu.l.Item,{onSelect:e=>D(e,{withSuggestedChange:!0}),children:[(0,i.jsx)(eu.l.LeadingVisual,{children:(0,i.jsx)(b.PlusCircleIcon,{})}),ez+r]})]}):null]})}):(0,i.jsxs)(i.Fragment,{children:[(0,i.jsx)(ea.Vr,{commandId:"pull-requests-diff-view:start-conversation-current",leadingVisual:(0,i.jsx)(b.PlusIcon,{}),children:eK+l}),E&&C&&(0,i.jsxs)(eu.l.Item,{onSelect:e,children:[(0,i.jsx)(eu.l.LeadingVisual,{children:(0,i.jsx)(b.PlusCircleIcon,{})}),ez+l]})]})})}return(0,i.jsxs)(i.Fragment,{children:[(0,i.jsx)(ea.Vr,{commandId:"pull-requests-diff-view:start-conversation-current",leadingVisual:(0,i.jsx)(b.PlusIcon,{}),children:eG(eK,u,m)}),E&&(0,i.jsxs)(eu.l.Item,{onSelect:e,children:[(0,i.jsx)(eu.l.LeadingVisual,{children:(0,i.jsx)(b.PlusCircleIcon,{})}),eG(ez,u,m)]})]})}try{eW.displayName||(eW.displayName="StartConversationContextMenuItems")}catch{}function eq(e){return(0,i.jsxs)(i.Fragment,{children:[(0,i.jsx)(eJ,{...e}),(0,i.jsx)(eX,{fileDiffReference:e.copilotChatReference}),(0,i.jsx)(e4,{}),(0,i.jsx)(eY,{}),(0,i.jsx)(ea.Vr,{commandId:"pull-requests-diff-view:copy-anchor-link",leadingVisual:(0,i.jsx)(b.LinkIcon,{})}),(0,i.jsx)(e3,{})]})}function eQ(){return(0,i.jsxs)(i.Fragment,{children:[(0,i.jsx)(e8,{}),(0,i.jsx)(eY,{})]})}let eX=e=>{let{selectedDiffRowRange:t}=(0,h.o)();return e.fileDiffReference?(0,i.jsx)(eB,{showDivider:!0,selectedRange:t,fileDiffReference:e.fileDiffReference}):null};function eY(){let{fileAnchor:e}=L();return(0,i.jsxs)(eu.l.Item,{onSelect:()=>{setTimeout(()=>{document.querySelector(`table[data-diff-anchor="${e}"]`)?.dispatchEvent(new KeyboardEvent("keydown",{key:"a",code:"KeyA",ctrlKey:!0}))})},children:[(0,i.jsx)(eu.l.LeadingVisual,{children:(0,i.jsx)(b.MultiSelectIcon,{})}),"Select all",(0,i.jsx)(eu.l.TrailingVisual,{children:(0,i.jsx)(eH.U,{keys:"Mod+a"})})]})}function eJ({handleViewMarkersSelection:e,shouldDisplayCollapseComments:t,showStartConversation:n,startConversationCurrentLine:r,startConversationWithSuggestedChange:a}){let{commentingEnabled:l}=eh(),{originalLineHasThreads:o,modifiedLineHasThreads:s}=L(),{annotations:d}=ev(),c=d.length>0;return l&&(n||o||s||c)?(0,i.jsxs)(i.Fragment,{children:[n&&(0,i.jsx)(eW,{handleStartConversation:r,handleStartConversationWithSuggestedChange:a}),(0,i.jsx)(eZ,{handleViewMarkersSelection:e,shouldDisplayCollapseComments:t}),(0,i.jsx)(eu.l.Divider,{})]}):null}function eZ({handleViewMarkersSelection:e,shouldDisplayCollapseComments:t}){let{diff_inline_comments:n}=(0,eN.h)(),{data:r}=(0,eo.Pe)(),{commentingEnabled:a}=eh(),{isSplit:l}=L();return r&&a&&(!n||r.commentsPreference!==eo.sI.Visible)?l?(0,i.jsx)(e0,{handleViewMarkersSelection:e,shouldDisplayCollapseComments:t}):(0,i.jsx)(e1,{onSelect:()=>e(),shouldDisplayCollapseComments:t}):null}function e0({handleViewMarkersSelection:e,shouldDisplayCollapseComments:t}){let{originalLineHasThreads:n,modifiedLineHasThreads:r,isLeftSide:a}=L(),{annotations:l}=ev(),o=l.length>0;return a?(0,i.jsxs)(i.Fragment,{children:[n&&(0,i.jsx)(e2,{text:t?"Collapse comments":"Expand comments",onSelect:()=>e("LEFT")}),(r||o)&&(0,i.jsx)(e2,{text:t?"Collapse comments, modified line":"Expand comments, modified line",onSelect:()=>e("RIGHT")})]}):(0,i.jsxs)(i.Fragment,{children:[(r||o)&&(0,i.jsx)(e2,{text:t?"Collapse comments":"Expand comments",onSelect:()=>e("RIGHT")}),n&&(0,i.jsx)(e2,{text:t?"Collapse comments, original line":"Expand comments, original line",onSelect:()=>e("LEFT")})]})}function e1({onSelect:e,shouldDisplayCollapseComments:t}){let{ghostUser:n}=eh(),{diffLine:r}=L(),{annotations:a}=ev();return r&&D(r.threadsData,n).length>0||a.length>0?(0,i.jsx)(e2,{text:t?"Collapse comments":"Expand comments",onSelect:()=>e()}):null}function e2({onSelect:e,text:t}){return(0,i.jsxs)(eu.l.Item,{onSelect:e,children:[(0,i.jsx)(eu.l.LeadingVisual,{children:(0,i.jsx)(b.CommentDiscussionIcon,{})}),t]})}function e4(){return(0,i.jsx)("div",{onMouseDown:e=>{window.getSelection()?.toString()!==""&&e.preventDefault()},children:(0,i.jsx)(ea.Vr,{commandId:"pull-requests-diff-view:copy-code",leadingVisual:(0,i.jsx)(b.CopyIcon,{})})})}function e3(){let{canExpandStartOfHunk:e,canExpandEndOfHunk:t}=e$(),{previousHunk:n,nextHunk:r}=L();return e||t||n||r?(0,i.jsxs)(i.Fragment,{children:[(0,i.jsx)(eu.l.Divider,{}),(0,i.jsx)(e8,{}),(0,i.jsx)(e7,{})]}):null}function e8(){let{canExpandStartOfHunk:e,canExpandEndOfHunk:t}=e$();return(0,i.jsxs)(i.Fragment,{children:[e&&(0,i.jsx)(ea.Vr,{commandId:"pull-requests-diff-view:expand-hunk-up",leadingVisual:(0,i.jsx)(b.FoldUpIcon,{})}),t&&(0,i.jsx)(ea.Vr,{commandId:"pull-requests-diff-view:expand-hunk-down",leadingVisual:(0,i.jsx)(b.FoldDownIcon,{})})]})}function e7(){let{previousHunk:e,nextHunk:t}=L(),{fileAnchor:n}=L();return(0,i.jsxs)(i.Fragment,{children:[t?(0,i.jsxs)(eu.l.Item,{"aria-keyshortcuts":"PageDown",onSelect:()=>{setTimeout(()=>{document.querySelector(`table[data-diff-anchor="${n}"]`)?.dispatchEvent(new KeyboardEvent("keydown",{key:"PageDown"}))})},children:[(0,i.jsx)(eu.l.LeadingVisual,{children:(0,i.jsx)(b.MoveToBottomIcon,{})}),"Go to next hunk",(0,i.jsx)(eu.l.TrailingVisual,{children:"Page Down"})]}):null,e?(0,i.jsxs)(eu.l.Item,{"aria-keyshortcuts":"PageUp",onSelect:()=>{setTimeout(()=>{document.querySelector(`table[data-diff-anchor="${n}"]`)?.dispatchEvent(new KeyboardEvent("keydown",{key:"PageUp"}))})},children:[(0,i.jsx)(eu.l.LeadingVisual,{children:(0,i.jsx)(b.MoveToTopIcon,{})}),"Go to previous hunk",(0,i.jsx)(eu.l.TrailingVisual,{children:"Page Up"})]}):null]})}try{eq.displayName||(eq.displayName="CellContextMenu")}catch{}try{eQ.displayName||(eQ.displayName="EmptyCellContextMenu")}catch{}try{eY.displayName||(eY.displayName="SelectAllListItem")}catch{}try{eJ.displayName||(eJ.displayName="MarkerListItems")}catch{}try{eZ.displayName||(eZ.displayName="ViewMarkerListItems")}catch{}try{e0.displayName||(e0.displayName="SplitDiffMarkersListItems")}catch{}try{e1.displayName||(e1.displayName="UnifiedDiffMarkerListItem")}catch{}try{e2.displayName||(e2.displayName="MarkerListItem")}catch{}try{e4.displayName||(e4.displayName="CopyContentListItems")}catch{}try{e3.displayName||(e3.displayName="HunkListItems")}catch{}try{e8.displayName||(e8.displayName="ExpandHunksListItems")}catch{}try{e7.displayName||(e7.displayName="JumpToHunkListItems")}catch{}var e6=n(86836);function e5({authorAvatarUrl:e,authorLogin:t,lineSpacingPreference:n,sx:r}){return(0,i.jsx)(e6.k,{altText:`${t}'s avatar image with pending indicator`,icon:b.DotFillIcon,iconColor:"var(--fgColor-attention, var(--color-attention-fg))",square:!1,size:"compact"===n?18:20,src:e,backgroundSx:{backgroundColor:"var(--bgColor-default, var(--color-canvas-default))",boxShadow:"0 0 0 .1px var(--bgColor-default, var(--color-canvas-default))"},sx:{alignItems:"center",display:"flex",height:"var(--diff-line-minimum-height)",...r}})}try{e5.displayName||(e5.displayName="InProgressCommentIndicator")}catch{}let e9={"action-bar-position":"ActionBar-module__action-bar-position--q5zYS","left-action-bar":"ActionBar-module__left-action-bar--EJ7Y6","left-action-bar-draft-compact":"ActionBar-module__left-action-bar-draft-compact--BA7vx","left-action-bar-draft-relaxed":"ActionBar-module__left-action-bar-draft-relaxed--yz9iI","left-action-bar-new":"ActionBar-module__left-action-bar-new--NXupU",actionBarArrowSizing:"ActionBar-module__actionBarArrowSizing--VJyrJ",actionBarHeight:"ActionBar-module__actionBarHeight--BT8aR",actionBarStartCommentWidth:"ActionBar-module__actionBarStartCommentWidth--NZ_pB","action-bar-button-group":"ActionBar-module__action-bar-button-group--eolOy"},te=(0,a.forwardRef)(function({authorAvatarUrl:e,authorLogin:t,cellId:n,cellRef:r,showStartConversation:l,hasDraftComment:o,copilotChatReference:s,onOpenInLineThread:d,shouldDisplayCollapseComments:c},u){let m=(0,a.useRef)(null),f=(0,a.useRef)(null),{commentingEnabled:h,viewerData:{lineSpacingPreference:p,commentsPreference:y}}=eh(),{diffLine:C,isRowSelected:v}=L(),j=(0,a.useRef)(null),w=m.current?m:f;(0,eD.T)(u,w);let{diff_inline_comments:N}=(0,eN.h)(),k=C.threadsData?.totalCommentsCount||0,S=C.annotationsData?.totalCount||0,{isActionBarFocused:D,handleActionBarBlur:E,handleActionBarFocusCapture:_,handleActionBarKeydownCapture:A}=eS({cellRef:r}),{annotations:I,isContextMenuOpen:R,openMarkerOrListDialogFromActionBar:T,startNewConversationFromActionBar:F,startNewConversationFromActionBarWithSuggestedChange:O,anyMenuOpen:M,threads:U,toggleContextMenu:B,toggleContextMenuFromActionBar:$}=ek({cellId:n,actionBarRef:j,onOpenInLineThread:d}),P=(0,a.useCallback)(e=>{v&&e.preventDefault()},[v]),H=h&&k+S>0&&(!N||y===eo.sI.Collapsed),V=h&&l,K={onBlur:E,onFocusCapture:_,onKeyDownCapture:A},z=(0,a.useCallback)(e=>{F(),P(e)},[F,P]);return(0,i.jsxs)(i.Fragment,{children:[V&&(0,i.jsx)("div",{"aria-hidden":!D,className:(0,g.$)("d-flex","flex-row",e9["left-action-bar"]),children:(0,i.jsx)(i.Fragment,{children:o?(0,i.jsx)(x.Q,{"aria-label":"Start conversation (comment in progress)",size:"small",className:(0,g.$)("py-0","compact"===p?e9["left-action-bar-draft-compact"]:e9["left-action-bar-draft-relaxed"],e9.actionBarHeight),onClick:z,...K,children:(0,i.jsx)(e5,{lineSpacingPreference:p,authorAvatarUrl:e,authorLogin:t})}):(0,i.jsx)(q.K,{unsafeDisableTooltip:!0,"aria-label":"Start conversation",ref:f,icon:b.PlusIcon,size:"small",className:(0,g.$)("fgColor-muted","bgColor-accent-emphasis","fgColor-onEmphasis","px-0",e9["left-action-bar-new"],e9.actionBarHeight,e9.actionBarStartCommentWidth),onClick:z,...K})})}),(0,i.jsx)("div",{"aria-hidden":!D,className:(0,g.$)("d-flex","flex-row",e9["action-bar-position"]),children:(0,i.jsxs)(eE.A,{onClick:P,className:e9["action-bar-button-group"],...K,children:[H&&(0,i.jsx)(x.Q,{ref:m,"aria-expanded":M,"aria-label":"View conversations",size:"small",className:(0,g.$)("py-0","px-1",e9.actionBarHeight),onClick:e=>{(1===U.length||1===I.length)&&e.preventDefault(),T()},children:(0,i.jsx)(eF,{lineSpacingPreference:p})}),(0,i.jsxs)(ec.W,{anchorRef:j,open:R,onOpenChange:B,children:[(0,i.jsx)(ec.W.Anchor,{children:(0,i.jsx)(q.K,{unsafeDisableTooltip:!0,ref:j,"aria-haspopup":"true","aria-label":"More actions",icon:b.TriangleDownIcon,size:"small",className:(0,g.$)("fgColor-muted",e9.actionBarArrowSizing),onClick:$})}),(0,i.jsx)(ec.W.Overlay,{width:"medium",children:(0,i.jsx)(eu.l,{children:(0,i.jsx)(eq,{shouldDisplayCollapseComments:c,copilotChatReference:s,showStartConversation:l,handleViewMarkersSelection:T,startConversationCurrentLine:F,startConversationWithSuggestedChange:O})})})]})]})})]})});te.displayName="ActionBar";let tt={visibilityHidden:"DiffHighlightedOverlay-module__visibilityHidden--v59uf",userSelectNone:"DiffHighlightedOverlay-module__userSelectNone--i39lB",focusedResultStyles:"DiffHighlightedOverlay-module__focusedResultStyles--QZMIm",nonFocusedResultStyles:"DiffHighlightedOverlay-module__nonFocusedResultStyles--x2N7d",nonHunkStyles:"DiffHighlightedOverlay-module__nonHunkStyles--_dJlQ"};function tn({searchResults:e,focusedSearchResult:t,className:n,styleObject:r}){let a=0,l=e[0]?.text??"",o=e[0]?.diffLineNumIndex??-1,s=`overlay-${o}-${l}`;return(0,i.jsxs)("span",{className:(0,g.$)(n,"position-absolute",tt.userSelectNone,!e[0].isHunk&&tt.nonHunkStyles),style:{...r},children:[e.map(e=>{var n,r;let o=e.indexWithinPathDigest===t,s=(0,i.jsxs)("span",{children:[(0,i.jsx)("span",{className:(0,g.$)(tt.visibilityHidden,tt.userSelectNone),children:l.substring(a,e.column)}),(0,i.jsx)("span",{className:(0,g.$)(tt.userSelectNone,o&&tt.focusedResultStyles,!o&&tt.nonFocusedResultStyles),children:(0,i.jsx)("span",{className:(0,g.$)(!o&&tt.visibilityHidden),id:(n=e.indexWithinPathDigest,r=e.pathDigest,`match-${r}-${n}`),children:l.substring(e.column,e.columnEnd)})})]},`find-match-${e.diffLineNumIndex}-${e.column}`);return a=e.columnEnd,s}),(0,i.jsx)("span",{className:(0,g.$)(tt.visibilityHidden,tt.userSelectNone),children:l.substring(a)})]},s)}try{tn.displayName||(tn.displayName="DiffHighlightedOverlay")}catch{}function ti(e,t,n){let i=e.threadsData?.totalCount||0,r=t.threadsData?.totalCount||0;if(0===i&&0===r)return;let a="";1===i?a="has a conversation.":i>1&&(a="has conversations.");let l="";1===r?l="has a conversation.":r>1&&(l="has conversations.");let o="";if("LEFT"===n){let e=`${a.charAt(0).toUpperCase()}${a.slice(1)}`,t=`${l.length>1?"Modified line":""} ${l}`;o=`${e} ${t}`}else{let e=`${l.charAt(0).toUpperCase()}${l.slice(1)}`,t=`${a.length>1?"Original line":""} ${a}`;o=`${e} ${t}`}return o}function tr({summary:e}){let{diff_inline_comments:t}=(0,eN.h)();return""===e?null:(t&&(e+=" Press Enter to view."),(0,i.jsx)("span",{className:"sr-only user-select-none",children:e.trimStart().trimEnd()}))}try{tr.displayName||(tr.displayName="DiffLineScreenReaderSummary")}catch{}var ta=n(47584),tl=n(76797);let to={"comment-indicator":"DiffLineTableCellParts-module__comment-indicator--eI0hb","in-progress-comment-indicator":"DiffLineTableCellParts-module__in-progress-comment-indicator--hx3m3"},ts=["CONTEXT","INJECTED_CONTEXT"];function td(e){let{rowId:t}=L();if(t)return(0,p.u6)(t,e)}function tc(e,t){let{selectedDiffRowRange:n}=(0,h.o)();return(0,a.useMemo)(()=>{let i="Add a comment on",r=!!n&&n.startLineNumber!==n.endLineNumber;if(n&&r){let e={left:"L",right:"R"},t=e[n.startOrientation],r=e[n.endOrientation];i+=n.startLineNumber!==n.endLineNumber?` lines ${t}${n.startLineNumber} to ${r}${n.endLineNumber}`:` line ${t}${n.startLineNumber}`}else{let n=t&&!(0,p.Ji)(e)?"L":"R";i+=` line ${n}${e.blobLineNumber}`}return i},[e,t,n])}let tu=(0,a.forwardRef)(function({children:e,ContextMenu:t,className:n,columnIndex:r,handleDiffCellClick:l,handleDiffCellMouseDown:o,handleHideMarkersFromFocus:s,handleDiffSideCellSelectionBlocking:d,lineAnchor:c,firstLineNumberSelection:u,commentDialogOpen:m,startConversation:f,enterDialogMode:g,...x},y){let{diffLine:b,fileAnchor:C,isRowSelected:v,isLeftSide:j,isSplit:w,setInGridMode:N}=L(),k=(0,a.useRef)(null);(0,a.useImperativeHandle)(y,()=>k.current,[]);let[S,D]=(0,a.useState)(!1),{selectedDiffRowRange:E}=(0,h.o)(),{disableInlineCommentDialogMode:_,isInDialogMode:A}=(0,$.q)(),{getUnifiedDiffLineCode:I,getSplitDiffSingleLineCode:R,getSplitDiffMultiLineCode:T}=function(e){let{selectedDiffRowRange:t,selectedDiffLines:n,getDiffLinesByDiffAnchor:i}=(0,h.o)();return{getUnifiedDiffLineCode:()=>{let n=i(e);if(!n||!t)return"";let{startOrientation:r,endOrientation:a,startLineNumber:l,endLineNumber:o}=t,s=0,d=0;return n.length>1&&(s=n.findIndex(e=>"left"===r?e.left===l:e.right===l),d=n.findIndex(e=>"left"===a?e.left===o:e.right===o)),(0,p.Ls)(n.slice(s,d+1))},getSplitDiffSingleLineCode:(t,n)=>{if(!t||!n)return"";let r=i(e)?.find(e=>"left"===t?e.left===n:e.right===n);return r?(0,p.Ls)([r]):""},getSplitDiffMultiLineCode:e=>void 0===e?"":"left"===e?(0,p.Ls)(n.leftLines):(0,p.Ls)(n.rightLines)}}(C),F=(0,a.useRef)(null),O=(0,el.U)(e=>{if(!e.target)return;let t=e.target;!S||F.current?.contains(t)||k.current?.contains(t)||2!==e.button?k.current?.contains(t)&&e.target.closest("button")?.contains(t)&&D(!1):D(!1),k.current?.contains(t)||(_(),N?.(!0))});(0,a.useEffect)(()=>(ta.XC?.addEventListener("mousedown",O),()=>ta.XC?.removeEventListener("mousedown",O)),[O]),(0,a.useEffect)(()=>()=>ta.XC?.removeEventListener("mousedown",O),[]);let M=(0,a.useCallback)(()=>{u?.current&&(u.current=null)},[u]),U=(0,a.useCallback)(e=>{let t=e.target?.closest("td"),n=t?.classList.contains("diff-line-number");e.shiftKey?e.preventDefault():n?o?.():u&&(u.current=null),u&&n&&(u.current=j?b.left:b.right),d?.(e)},[d]);(0,es.r)({restoreFocusOnCleanUp:!0,containerRef:k,disabled:!A});let B=(0,a.useCallback)(()=>{k.current?.focus(),_(),N?.(!0)},[_,N]),{diff_inline_comments:P}=(0,eN.h)(),H=(0,a.useCallback)(e=>{P&&e.target===k.current&&"Enter"===e.key&&g?.()},[g,P]);return(0,ed.P)(()=>{B()},[B]),(0,i.jsxs)(ea.tL,{as:"td",commands:{"pull-requests-diff-view:copy-code":()=>{let e=window.getSelection();if(e&&""!==e.toString()){document.execCommand("copy");return}if(w){void 0===E||E?.startOrientation===E?.endOrientation&&E?.startLineNumber===E?.endLineNumber?(0,tl.D)(R(j?"left":"right",j?b?.left:b?.right)):(0,tl.D)(T(j?"left":"right"));return}(0,tl.D)(I())},"pull-requests-diff-view:copy-anchor-link":()=>{let e=(0,p.j2)({line:b,range:E,fileAnchor:C});e&&(0,tl.D)(e)},"pull-requests-diff-view:start-conversation-current":f},ref:k,"data-grid-cell-id":td(r),"data-line-anchor":c,"data-selected":v,role:A?"dialog":"gridcell",style:{userSelect:"none",position:"relative"},tabIndex:-1,valign:"top",className:n?`focusable-grid-cell ${n} ${r<3?"left-side":""}`:"focusable-grid-cell",onKeyUp:H,onBlur:e=>e.target.ariaSelected="false",onClick:l,onFocus:e=>e.target.ariaSelected="true",onMouseDown:U,onMouseUp:M,title:A?"Title":"",...x,children:[e,t&&S&&(0,i.jsx)(ec.W,{anchorRef:k,open:!0,onOpenChange:D,children:(0,i.jsx)(ec.W.Overlay,{width:e?"medium":"small",children:(0,i.jsx)(eu.l,{children:t})})})]})});function tm(){let{isSplit:e}=L();return(0,i.jsx)("div",{className:(0,g.$)("hunk-kebab-icon pr-2 pb-1",!e&&"hunk-kebab-icon-unified"),children:(0,i.jsx)(b.KebabHorizontalIcon,{})})}let tf=(0,a.forwardRef)(function({summary:e,searchResultsForLine:t,focusedSearchResult:n,columnIndex:r,lineAnchor:l,firstLineNumberSelection:s,handleDiffCellClick:d,handleDiffSideCellSelectionBlocking:c,filePath:u,copilotChatReference:m},f){let{diffLine:x,fileAnchor:y,isLeftSide:C,setInGridMode:v}=L(),[j,w]=(0,p._S)(x.html,x.type),[N,k]=(0,a.useState)(""),S=w&&["+","-"].includes(w),{isActionBarVisible:D}=ev(),{selectedDiffRowRange:E,selectedDiffLines:_}=(0,h.o)(),{commentBatchPending:A,commentingEnabled:I,commentingImplementation:R,initialExpandedThreadId:T,markerNavigationImplementation:F,repositoryId:O,subjectId:M,subject:U,viewerData:B}=eh(),{hasPersistedComment:H}=(0,P.L4)({diffSide:C?"LEFT":"RIGHT",filePath:u,line:x.blobLineNumber,subjectId:M,fileLevelComment:!1}),{isInDialogMode:V,enableInlineCommentDialogMode:K,disableInlineCommentDialogMode:z}=(0,$.q)(),G=(0,a.useMemo)(()=>{var e;return e=B.viewerCanComment,I&&e&&(0,p.a1)(x,_)},[I,B,x,_]),W=(0,a.useRef)(null),q=(0,a.useRef)(null);(0,a.useImperativeHandle)(f,()=>q.current,[]);let{diff_inline_comments:Q}=(0,eN.h)(),X=!!x.threadsData?.threads?.length||!!x.annotationsData?.annotations?.length,Y=(0,p.S4)({hasThreads:X&&!Q}),J=tc(x,!!C),Z=td(r),{handleCellBlur:ee,handleCellFocus:et,handleCellMouseEnter:en,handleCellMouseLeave:er}=eS({cellRef:q}),[ea,el]=(0,a.useState)(!1),es=(0,a.useCallback)(()=>{ea?(z(),v?.(!0)):(K(),v?.(!1)),el(!ea)},[z,K,v,ea]),{annotations:ed,isNewConversationDialogOpen:ec,shouldStartNewConversationWithSuggestedChange:eu,startNewConversation:em,startNewConversationWithSuggestedChange:ef,openMarkerOrListDialog:ep,selectAnnotation:eg,selectThread:ex,isMarkerListDialogOpen:ey,closeNewConversationDialog:eb,closeMarkerListDialog:eC,closeConversationDetailsDialog:ej,returnFocusRef:ew,optimizedSelectedAnnotationId:eD,optimizedSelectedThreadId:eE,threadConnectionId:e_,threads:eA}=ek({cellId:Z,actionBarRef:W,onOpenInLineThread:es}),eI=(0,a.useCallback)((e=!0)=>{q.current?.classList.contains("diff-text-cell")&&(K(),v?.(!1),e&&setTimeout(()=>{q.current?.querySelector('[aria-label="Start conversation"]')?.focus()},0))},[K,v]);(0,a.useEffect)(()=>{R&&T&&eE!==T&&eA.map(e=>e.id).includes(T)&&ex(T,{skipLineSelection:!0})},[T]),(0,a.useEffect)(()=>{if(!F)return;let{activeGlobalMarkerID:e,onActivateGlobalMarkerNavigation:t}=F;if(e){let n=eA.map(e=>e.id),i=ed.map(e=>e.id);n.includes(e)?(ex(e,{skipLineSelection:!0}),t()):i.includes(e)&&(eg(e,{skipLineSelection:!0}),t())}},[ex,eA,F,ed,eg]);let eR=({onCompleted:e,threadsConnectionId:t,...n})=>{if(!R||!x)return;let{leftLines:i,rightLines:r}=_;if(E){let e="left"===E.endOrientation?i:r,n=e[e.length-1];n&&(0,p.qK)(n)&&n.threadsData?.__id&&(t=n.threadsData?.__id)}R.addThread({...n,diffLine:x,isLeftSide:C,selectedDiffRowRange:E,threadsConnectionId:t,onCompleted:(t,n)=>{e?.(t,n),ex(t),Q&&k(t)}})},eT=({onCompleted:e,...t})=>{R&&x&&R.deleteComment({...t,onCompleted:()=>{e?.(),eA.length<=1&&(ej(),setTimeout(()=>q.current?.focus()))},filePath:u})},eO=(0,eL.S)(R?.suggestedChangesEnabled,x,eu),eM=(0,a.useCallback)(()=>{z(),v?.(!0)},[z,v]),eU=(0,a.useCallback)(()=>{V||0!==(q.current?.querySelectorAll(":focus")??[]).length||(z(),v?.(!0))},[z,V,v]),eB=(0,a.useRef)(!0),{ghostUser:e$}=eh(),eP=ec&&R?(0,i.jsx)(P.cT,{isDialog:!1,addCommentDialogTitle:J,anchorRef:q,batchPending:A,batchingEnabled:R.batchingEnabled,commentBoxConfig:R.commentBoxConfig,filePath:u,isLeftSide:!!C,isOpen:ec,lineNumber:x.blobLineNumber,repositoryId:O,returnFocusRef:ew,subjectId:M,suggestedChangesConfig:eO,threadsConnectionId:e_,viewerData:B,onAddComment:eR,onCloseCommentDialog:eb}):null;return(0,i.jsxs)(tu,{ref:q,columnIndex:r,commentDialogOpen:ec,handleDiffCellClick:d,enterDialogMode:eI,handleDiffSideCellSelectionBlocking:c,lineAnchor:l,firstLineNumberSelection:s,startConversation:em,ContextMenu:(0,i.jsx)(eq,{copilotChatReference:m,showStartConversation:G,handleViewMarkersSelection:ep,startConversationCurrentLine:em,startConversationWithSuggestedChange:ef}),className:(0,g.$)(`diff-text-cell ${C?"left-side-diff-cell":"right-side-diff-cell"}`,{"border-right":C&&"HUNK"!==x.type}),style:{backgroundColor:tb(x.type,!1),paddingRight:Y},onBlur:e=>{ee(e),eU()},onFocus:et,onMouseEnter:en,onMouseLeave:er,children:[(0,i.jsxs)("code",{className:(0,g.$)("diff-text syntax-highlighted-line",{addition:"ADDITION"===x.type,deletion:"DELETION"===x.type}),children:[S&&(0,i.jsx)("span",{className:"diff-text-marker",children:w}),t&&t.length>0&&(0,i.jsx)(tn,{searchResults:t,focusedSearchResult:n,className:(0,g.$)("diff-text-inner",{"color-fg-muted":"HUNK"===x.type})}),(0,i.jsx)(o.mo,{html:j,className:(0,g.$)("diff-text-inner",{"color-fg-muted":"HUNK"===x.type})})]}),x.displayNoNewLineWarning&&(0,i.jsx)(b.NoEntryIcon,{size:16,className:"fgColor-danger"}),D&&(0,i.jsx)(te,{shouldDisplayCollapseComments:!!Q&&ea,copilotChatReference:m,authorAvatarUrl:B.avatarUrl,authorLogin:B.login,ref:W,cellId:Z,cellRef:q,hasDraftComment:H,showStartConversation:G,onOpenInLineThread:es}),R&&F&&(0,i.jsx)(i.Fragment,{children:Q&&X&&(B.commentsPreference===eo.sI.Visible||ea)?(0,i.jsx)(ei,{manuallyUpdateCommentsWithThisThreadId:N,annotations:ed,enterDialogMode:eI,batchPending:A,batchingEnabled:R.batchingEnabled,commentingImplementation:{...R,deleteComment:eT},conversationListThreads:eA,fileAnchor:y,filePath:u,onCloseFocusMode:eM,isMarkerListOpen:!!q.current?.classList.contains("diff-text-cell")&&eA.length>0,repositoryId:O,returnFocusRef:ew,selectedAnnotationId:eD,selectedThreadId:eE||(q.current?.classList.contains("diff-text-cell")&&eA.length>0?eA[0]?.id:null),subjectId:M,subject:U,suggestedChangesConfig:eO,threadsConnectionId:e_,onCloseConversationDialog:ej,onCloseConversationList:eC,onAnnotationSelected:eg,onThreadSelected:ex,viewerData:B,ghostUser:e$,startConversationElementJSX:eP}):(0,i.jsxs)(i.Fragment,{children:[(0,i.jsx)(P.c7,{annotations:ed,batchPending:A,batchingEnabled:R.batchingEnabled,commentingImplementation:{...R,deleteComment:eT},conversationAnchorRef:q,conversationListAnchorRef:ew,conversationListThreads:eA,fileAnchor:y,filePath:u,isMarkerListOpen:ey,repositoryId:O,returnFocusRef:ew,selectedAnnotationId:eD,selectedThreadId:eE,subjectId:M,subject:U,suggestedChangesConfig:eO,threadsConnectionId:e_,onCloseConversationDialog:ej,onCloseConversationList:eC,onAnnotationSelected:eg,onThreadSelected:ex,markerNavigationImplementation:F,viewerData:B,ghostUser:e$}),(0,i.jsx)(P.cT,{addCommentDialogTitle:J,anchorRef:q,batchPending:A,batchingEnabled:R.batchingEnabled,commentBoxConfig:R.commentBoxConfig,filePath:u,isLeftSide:!!C,isOpen:ec,lineNumber:x.blobLineNumber,repositoryId:O,returnFocusRef:ew,subjectId:M,suggestedChangesConfig:eO,threadsConnectionId:e_,viewerData:B,onAddComment:eR,onCloseCommentDialog:eb})]})}),!D&&(!Q||B.commentsPreference===eo.sI.Collapsed)&&(0,i.jsxs)(i.Fragment,{children:[(0,i.jsx)("div",{"aria-hidden":"true",style:{left:"compact"===B.lineSpacingPreference?"-1px":"-2px"},className:(0,g.$)("position-absolute top-0 d-flex user-select-none",to["in-progress-comment-indicator"]),children:H&&(0,i.jsx)(e5,{lineSpacingPreference:B.lineSpacingPreference,authorAvatarUrl:B.avatarUrl,authorLogin:B.login})}),(0,i.jsx)("div",{"aria-hidden":"true",className:(0,g.$)("position-absolute top-0 d-flex user-select-none",to["comment-indicator"]),children:(0,i.jsx)(eF,{shouldAnimateRef:eB,lineSpacingPreference:B.lineSpacingPreference})})]}),e&&(0,i.jsx)(tr,{summary:e})]})}),th=(0,a.memo)(tf),tp=(0,a.memo)(tg);function tg({children:e,columnIndex:t,handleDiffCellClick:n,handleDiffSideCellSelectionBlocking:r,firstLineNumberSelection:l,filePath:o,copilotChatReference:s,contentRef:d,...c}){let u=(0,a.useRef)(null),m=td(t),{commentBatchPending:f,commentingEnabled:x,commentingImplementation:y,repositoryId:b,subject:C,subjectId:v,markerNavigationImplementation:j,viewerData:w}=eh(),{diffLine:N,fileAnchor:k,isLeftSide:S}=L(),{selectedDiffRowRange:D,selectedDiffLines:E,updateSelectedDiffRowRange:_}=(0,h.o)(),A=tc(N,!!S),I=(0,a.useMemo)(()=>{var e;return e=w.viewerCanComment,x&&e&&(0,p.a1)(N,E)},[x,w,N,E]),{handleCellBlur:R,handleCellFocus:T,handleCellMouseEnter:F,handleCellMouseLeave:O}=eS({cellRef:d}),M=(0,a.useCallback)(()=>{l&&null!==l.current&&_(k,S?N.left:N.right,S?"left":"right",!0,!0),F()},[k,F,S,N.left,N.right,l,_]),U=(0,a.useCallback)(()=>{_(k,S?N.left:N.right,S?"left":"right",!1,!0)},[]),{ghostUser:B}=eh(),{annotations:$,isNewConversationDialogOpen:H,shouldStartNewConversationWithSuggestedChange:V,startNewConversation:K,startNewConversationWithSuggestedChange:z,openMarkerOrListDialog:G,isMarkerListDialogOpen:W,closeConversationDetailsDialog:q,closeMarkerListDialog:Q,selectAnnotation:X,selectThread:Y,closeNewConversationDialog:J,returnFocusRef:Z,optimizedSelectedThreadId:ee,optimizedSelectedAnnotationId:et,threadConnectionId:en,threads:ei}=ek({cellId:m,actionBarRef:u}),er=(0,eL.S)(y?.suggestedChangesEnabled,N,V);return(0,i.jsxs)(i.Fragment,{children:[(0,i.jsx)(tu,{ref:u,className:(0,g.$)("diff-line-number",ts.includes(N.type)&&"diff-line-number-neutral"),columnIndex:t,commentDialogOpen:H,handleDiffCellClick:n,handleDiffSideCellSelectionBlocking:r,firstLineNumberSelection:l,startConversation:K,style:{backgroundColor:tb(N.type,!0),textAlign:"center"},ContextMenu:(0,i.jsx)(eq,{copilotChatReference:s,showStartConversation:I,handleViewMarkersSelection:G,startConversationCurrentLine:K,startConversationWithSuggestedChange:z}),onBlur:R,onFocus:T,handleDiffCellMouseDown:U,onMouseEnter:M,onMouseLeave:O,...c,children:(0,i.jsx)("code",{children:e})}),y&&j&&(0,i.jsxs)(i.Fragment,{children:[(0,i.jsx)(P.c7,{annotations:$,batchPending:f,batchingEnabled:y.batchingEnabled,commentingImplementation:{...y,deleteComment:({onCompleted:e,...t})=>{y&&N&&y.deleteComment({...t,onCompleted:()=>{e?.(),ei.length<=1&&(q(),setTimeout(()=>u.current?.focus()))},filePath:o})}},conversationAnchorRef:u,conversationListAnchorRef:Z,conversationListThreads:ei,fileAnchor:k,filePath:o,isMarkerListOpen:W,repositoryId:b,returnFocusRef:Z,selectedAnnotationId:et,selectedThreadId:ee,subjectId:v,subject:C,suggestedChangesConfig:er,threadsConnectionId:en,markerNavigationImplementation:j,onCloseConversationDialog:q,onCloseConversationList:Q,onThreadSelected:Y,onAnnotationSelected:X,viewerData:w,ghostUser:B}),(0,i.jsx)(P.cT,{addCommentDialogTitle:A,align:"start",anchorRef:u,batchPending:f,batchingEnabled:y.batchingEnabled,commentBoxConfig:y.commentBoxConfig,filePath:o,isLeftSide:!!S,isOpen:H,lineNumber:N.blobLineNumber,repositoryId:b,returnFocusRef:Z,subjectId:v,suggestedChangesConfig:er,threadsConnectionId:en,viewerData:w,onAddComment:({onCompleted:e,threadsConnectionId:t,...n})=>{if(!y||!N)return;let{leftLines:i,rightLines:r}=E;if(D){let e="left"===D.endOrientation?i:r,n=e[e.length-1];n&&(0,p.qK)(n)&&n.threadsData?.__id&&(t=n.threadsData?.__id)}y.addThread({...n,diffLine:N,selectedDiffRowRange:D,threadsConnectionId:t,onCompleted:(t,n)=>{e?.(t,n),Y(t)}})},onCloseCommentDialog:J})]})]})}function tx({ContextMenu:e,renderHunkButton:t,searchResultsForLine:n,focusedSearchResult:r}){let l=(0,a.useRef)(null),[s,d]=function(e){let[t,n]=(0,a.useState)(!1),[i,r]=(0,a.useState)(!1),l=(0,a.useCallback)(t=>{e.current&&e.current.contains(t.relatedTarget)||n(!1)},[e]),o=(0,a.useCallback)(()=>{e.current===document.activeElement&&n(!0)},[e]),s=(0,a.useCallback)(t=>{e.current&&!e.current.contains(t.relatedTarget)&&n(!1),r(!1)},[e]);return[{onFocus:o,onBlur:l},{"aria-hidden":!i,tabIndex:t?0:-1,onBlur:s,onFocusCapture:(0,a.useCallback)(e=>{e.stopPropagation(),r(!0)},[]),onKeyDownCapture:(0,a.useCallback)(e=>{M(e.key)&&e.stopPropagation()},[])}]}(l),{diffLine:c}=L();return(0,i.jsx)(tu,{ref:l,ContextMenu:e,colSpan:4,columnIndex:0,style:{backgroundColor:"var(--bgColor-accent-muted, var(--color-accent-subtle))",flexGrow:1},...s,children:(0,i.jsxs)("div",{className:"d-flex flex-row",children:[t?.(d)??(0,i.jsx)(tm,{}),(0,i.jsxs)("code",{className:"diff-text-cell hunk",children:[n&&n.length>0&&(0,i.jsx)(tn,{searchResults:n,focusedSearchResult:r,className:(0,g.$)("diff-text-inner",{"color-fg-muted":"HUNK"===c.type})}),(0,i.jsx)(o.mo,{className:"diff-text-inner color-fg-muted",html:c.html})]})]})})}function ty({columnIndex:e,showRightBorder:t}){return(0,i.jsx)(tu,{ContextMenu:(0,i.jsx)(eQ,{}),className:(0,g.$)("empty-diff-line",{"border-right":t}),columnIndex:e})}function tb(e,t=!1){switch(e){case"ADDITION":return t?"var(--diffBlob-additionNum-bgColor, var(--diffBlob-addition-bgColor-num))":"var(--diffBlob-additionLine-bgColor, var(--diffBlob-addition-bgColor-line))";case"DELETION":return t?"var(--diffBlob-deletionNum-bgColor, var(--diffBlob-deletion-bgColor-num))":"var(--diffBlob-deletionLine-bgColor, var(--diffBlob-deletion-bgColor-line))";case"HUNK":return t?"var(--diffBlob-hunkNum-bgColor-rest, var(--diffBlob-hunk-bgColor-num))":"var(--diffBlob-hunkLine-bgColor, var(--bgColor-accent-muted))";case"EMPTY":return t?"var(--diffBlob-emptyNum-bgColor, var(--diffBlob-hunk-bgColor-num))":"var(--diffBlob-emptyLine-bgColor, var(--bgColor-accent-muted))";default:return}}try{tu.displayName||(tu.displayName="Cell")}catch{}try{tm.displayName||(tm.displayName="HunkKebabIcon")}catch{}try{tf.displayName||(tf.displayName="ContentCellUnmemoized")}catch{}try{th.displayName||(th.displayName="ContentCell")}catch{}try{tp.displayName||(tp.displayName="LineNumberCell")}catch{}try{tg.displayName||(tg.displayName="LineNumberCellUnmemoized")}catch{}try{tx.displayName||(tx.displayName="HunkCell")}catch{}try{ty.displayName||(ty.displayName="EmptyCell")}catch{}let tC=({summary:e,resultsForLine:t,focusedSearchResult:n,handleDiffSideCellSelectionBlocking:r,handleDiffRowClick:l,lineAnchor:o,filePath:s,copilotChatReference:d,firstLineNumberSelection:c})=>{let{diffLine:u,isLeftSide:m,isSplit:f}=L(),h=(0,a.useRef)(null),p="ADDITION"!==u.type,g=!f||m,x=g&&!p,y="DELETION"!==u.type,b=!f||!m,C=b&&!y,v=(0,a.useCallback)(e=>{u.left&&l(e,u.left,"left",e.shiftKey,!0)},[l,u.left]),j=(0,a.useCallback)(e=>{u.left&&l(e,u.left,"left",e.shiftKey,!1)},[l,u.left]),w=(0,a.useCallback)(e=>{u.right&&l(e,u.right,"right",e.shiftKey,!0)},[l,u.right]),N=(0,a.useCallback)(e=>{u.right&&l(e,u.right,"right",e.shiftKey,!1)},[l,u.right]),k=(0,a.useCallback)(()=>{r&&r("left")},[r]),S=(0,a.useCallback)(()=>{r&&r("right")},[r]);return(0,i.jsxs)(eC,{line:u,children:[g&&(0,i.jsx)(tp,{copilotChatReference:d,columnIndex:0,filePath:s,handleDiffCellClick:x?w:v,handleDiffSideCellSelectionBlocking:S,firstLineNumberSelection:c,contentRef:h,children:p&&u.left}),b&&(0,i.jsx)(tp,{copilotChatReference:d,columnIndex:f?2:1,filePath:s,handleDiffCellClick:C?v:w,handleDiffSideCellSelectionBlocking:k,firstLineNumberSelection:c,contentRef:h,children:y&&u.right}),(0,i.jsx)($.k,{children:(0,i.jsx)(th,{copilotChatReference:d,columnIndex:f?m?1:3:2,filePath:s,handleDiffCellClick:m?j:N,lineAnchor:o,handleDiffSideCellSelectionBlocking:m?S:k,searchResultsForLine:t,focusedSearchResult:n,summary:e,firstLineNumberSelection:c,ref:h})})]})},tv=({summary:e,resultsForLine:t,focusedSearchResult:n,fileAnchor:r,filePath:a,handleDiffRowClick:l,handleDiffSideCellSelectionBlocking:o,copilotChatReference:s,firstLineNumberSelection:d})=>{let{diffLine:c,isLeftSide:u}=L();if((0,p.Po)(c))return(0,i.jsxs)(i.Fragment,{children:[(0,i.jsx)(ty,{columnIndex:u?0:2}),(0,i.jsx)(ty,{columnIndex:u?1:3,showRightBorder:u})]});let f=u?"left":(0,m.XU)(c.type),h="left"===f?c.left:c.right,g=(0,m.IQ)(r,f,h??0);switch(c.type){case"HUNK":return null;case"ADDITION":case"DELETION":case"CONTEXT":case"INJECTED_CONTEXT":return(0,i.jsx)(tw,{copilotChatReference:s,filePath:a,handleDiffRowClick:l,handleDiffSideCellSelectionBlocking:o,lineAnchor:g,resultsForLine:t,focusedSearchResult:n,summary:e,firstLineNumberSelection:d});default:throw Error(`cannot handle type ${c.type}`)}},tj=a.memo(tv),tw=a.memo(tC);try{tC.displayName||(tC.displayName="CodeDiffLineUnmemoized")}catch{}try{tv.displayName||(tv.displayName="DiffLineSideUnmemoized")}catch{}try{tj.displayName||(tj.displayName="DiffLineSide")}catch{}try{tw.displayName||(tw.displayName="CodeDiffLine")}catch{}let tN={"expand-button-line":"ExpandableHunkHeaderDiffLine-module__expand-button-line--rnQN5","expand-up-and-down":"ExpandableHunkHeaderDiffLine-module__expand-up-and-down--hCan_","expand-button-unified":"ExpandableHunkHeaderDiffLine-module__expand-button-unified--j86KQ"};function tk({direction:e,icon:t,label:n,onClick:r,ariaLabel:a,className:l,...o}){let{sendAnalyticsEvent:s}=(0,K.s)(),{isSplit:d}=L();return(0,i.jsx)("button",{onClick:()=>{r(),s("file_entry.expand_hunk","FILE_EXPANDER_BUTTON")},className:(0,g.$)("Button Button--iconOnly Button--invisible",tN["expand-button-line"],!d&&tN["expand-button-unified"],l),"aria-label":a??n,"data-direction":e,...o,children:(0,i.jsx)(t,{})})}function tS({nextLine:e,prevLine:t,resultsForLine:n,focusedSearchResult:r}){let{fileLineCount:l,diffLine:o}=L(),{expandStartOfHunk:s,expandEndOfPreviousHunk:d}=e$(),c=!t,u=!e,m=0===o.blobLineNumber,f=c||u,h=u&&o.blobLineNumber===l,g=(0,a.useMemo)(()=>!f&&!(o.blobLineNumber<=0)&&(o.blobLineNumber-t.blobLineNumber<=20||e.blobLineNumber-o.blobLineNumber>=20),[f,o,e,t]),x=(0,a.useMemo)(()=>!f&&!h&&o.blobLineNumber-t.blobLineNumber>20,[f,h,o,t]),y=(0,a.useMemo)(()=>!(o.blobLineNumber<=0)&&!m&&!!c,[c,m,o]),C=(0,a.useMemo)(()=>!c&&!h&&!!u,[c,u,h]),v=(0,a.useMemo)(()=>{switch(!0){case g:return"expand-all";case x:return"expand-up-and-down";case y:return"expand-up";case C:return"expand-down"}},[g,x,y,C]),j=()=>s(),w=()=>d(),N=()=>s();return(0,i.jsx)(tx,{searchResultsForLine:n,focusedSearchResult:r,renderHunkButton:n=>{switch(v){case"expand-all":return(0,i.jsx)(tk,{...n,direction:"all",icon:b.UnfoldIcon,label:`Expand file from line ${t?.blobLineNumber||""} to line ${e?.blobLineNumber||""}`,onClick:N});case"expand-up-and-down":return(0,i.jsxs)("div",{className:"d-flex flex-column",children:[(0,i.jsx)(tk,{...n,direction:"down",icon:b.FoldDownIcon,label:`Expand file down from line ${t?.blobLineNumber||""}`,className:tN["expand-up-and-down"],onClick:w}),(0,i.jsx)(tk,{...n,direction:"up",icon:b.FoldUpIcon,label:`Expand file up from line ${e?.blobLineNumber||""}`,className:tN["expand-up-and-down"],onClick:j})]});case"expand-up":return(0,i.jsx)(tk,{...n,direction:"up",icon:b.FoldUpIcon,label:`Expand file up from line ${e?.blobLineNumber||""}`,onClick:j});case"expand-down":return(0,i.jsx)(tk,{...n,direction:"down",icon:b.FoldDownIcon,label:`Expand file down from line ${t?.blobLineNumber||""}`,onClick:w});default:return null}},ContextMenu:(0,i.jsx)(tL,{handleCopyContent:()=>{let[e]=(0,p._S)((0,p.ZC)(o.html),o.type);(0,tl.D)(e)},handleExpandAbove:j,handleExpandAll:N,handleExpandBelow:w,shouldCopyContent:!!o.html,shouldExpandAbove:x||y,shouldExpandBelow:x||C})})}function tL({shouldExpandBelow:e,shouldExpandAbove:t,shouldCopyContent:n,handleExpandAll:r,handleExpandBelow:a,handleExpandAbove:l,handleCopyContent:o}){let s={includeShiftKey:!0,key:"["},d={key:"]"},c={key:"["},u={key:"C"};return(0,i.jsx)(ec.W.Overlay,{width:"medium",children:(0,i.jsxs)(eu.l,{children:[(0,i.jsxs)(eu.l.Item,{"aria-keyshortcuts":(0,p.oE)(s),onSelect:r,children:[(0,i.jsx)(eu.l.LeadingVisual,{children:(0,i.jsx)(b.UnfoldIcon,{})}),"Expand all",(0,i.jsx)(eu.l.TrailingVisual,{children:(0,i.jsx)("span",{children:`${(0,p.pI)(s)}`})})]}),t?(0,i.jsxs)(eu.l.Item,{"aria-keyshortcuts":(0,p.oE)(d),onSelect:l,children:[(0,i.jsx)(eu.l.LeadingVisual,{children:(0,i.jsx)(b.FoldUpIcon,{})}),"Expand above",(0,i.jsx)(eu.l.TrailingVisual,{children:(0,i.jsx)("span",{children:`${(0,p.pI)(d)}`})})]}):null,e?(0,i.jsxs)(eu.l.Item,{"aria-keyshortcuts":(0,p.oE)(c),onSelect:a,children:[(0,i.jsx)(eu.l.LeadingVisual,{children:(0,i.jsx)(b.FoldDownIcon,{})}),"Expand below",(0,i.jsx)(eu.l.TrailingVisual,{children:(0,i.jsx)("span",{children:`${(0,p.pI)(c)}`})})]}):null,(0,i.jsx)(e7,{}),n?(0,i.jsxs)(eu.l.Item,{"aria-keyshortcuts":(0,p.oE)(u),onSelect:o,children:[(0,i.jsx)(eu.l.LeadingVisual,{children:(0,i.jsx)(b.CopyIcon,{})}),"Copy",(0,i.jsx)(eu.l.TrailingVisual,{children:(0,i.jsx)("span",{children:`${(0,p.pI)(u)}`})})]}):null]})})}try{tk.displayName||(tk.displayName="ExpandButtonLine")}catch{}try{tS.displayName||(tS.displayName="ExpandableHunkHeaderDiffLine")}catch{}try{tL.displayName||(tL.displayName="HunkContextMenu")}catch{}let tD=(0,a.memo)(function({searchResults:e,diffContext:t="pr",focusedSearchResult:n,clearSelectedDiffRowRange:r,diffEntryId:l,diffLines:o,fileAnchor:s,fileLineCount:d,filePath:c,handleDiffRowClick:u,handleDiffSideCellSelectionBlocking:m,replaceSelectedDiffRowRangeFromGridCells:f,selectedDiffRowRange:h,setInGridMode:g,tableRef:x,updateDiffLines:y,updateSelectedDiffRowRange:b,copilotChatReference:C,inGridMode:v,firstLineNumberSelection:j}){let{leftLines:k,rightLines:L}=function(e){let t=e.reduce((e,t)=>e+(t.threadsData?.totalCount??0),0)??0,{leftLines:n,rightLines:i}=(0,a.useMemo)(()=>(function(e){let t=[],n=[],i=()=>{for(;t.length<n.length;)t.push(B.V);for(;n.length<t.length;)n.push(B.V)};for(let r of e)switch(r.type){case"ADDITION":n.push(r);break;case"DELETION":t.push(r);break;case"CONTEXT":case"INJECTED_CONTEXT":i();let[e,a]=[{...r,threadsData:void 0,annotationsData:void 0},{...r,threadsData:r.threadsData?{...r.threadsData,threads:r.threadsData.threads,totalCommentsCount:r.threadsData.totalCommentsCount,totalCount:r.threadsData.totalCount}:void 0}];t.push(e),n.push(a);break;case"HUNK":i(),t.push(r),n.push(r)}return i(),{leftLines:t,rightLines:n}})(e),[e,t]);return{leftLines:n,rightLines:i}}(o),{addInjectedContextLines:_,ghostUser:A}=eh();U({clearSelectedDiffRowRange:r,containerRef:x,fileAnchor:s,isSplitDiff:!0,leftLines:k,replaceSelectedDiffRowRangeFromGridCells:f,rightLines:L,selectedDiffRowRange:h,updateSelectedDiffRowRange:b,disabled:!v});let I=(0,a.useMemo)(()=>{if(h)return(0,E.A)({selectedDiffRowRange:h,leftLines:k,rightLines:L,isNumberCell:!0})},[h,k,L]);(0,a.useEffect)(()=>{y(s,o)},[o,s,y]);let R=(0,a.useMemo)(()=>N(k),[k]),T=new Map,F=new Map,O=new Map;for(let t=0;t<(e?.length??0);t++){let n=e?.[t];n&&(T.has(n.leftLineNumber)?T.get(n.leftLineNumber)?.push(n):-1!==n.leftLineNumber&&T.set(n.leftLineNumber,[n]),O.has(n.hunkLineNumber)?O.get(n.hunkLineNumber)?.push(n):n.isHunk&&O.set(n.hunkLineNumber,[n]),F.has(n.rightLineNumber)?F.get(n.rightLineNumber)?.push(n):-1!==n.rightLineNumber&&F.set(n.rightLineNumber,[n]))}let M=[];for(let e=0;e<k.length;e++){let r=k[e],o=L[e],f=k[e-1],h=(0,p.Po)(k[e+1])?L[e+1]:k[e+1],x=(0,p.qK)(r)&&"HUNK"===r.type,y=(0,p.qX)(s,r,o),b=(0,p.Po)(r)?(0,p.Po)(o)?void 0:o:r;if(!b)continue;let v=(0,p.Po)(r)?void 0:r.threadsData,N=(0,p.Po)(o)?void 0:o.threadsData,{currentHunk:E,nextHunk:U,previousHunk:B}=w(b,R),$=T.get((0,p.Po)(r)?-2:r.left??-2),P=F.get((0,p.Po)(o)?-2:o.right??-2),H=O.get(b.blobLineNumber),V=H?.[0]?.rightLineNumber===o?.right?n:void 0,K=$?.[0]?.leftLineNumber===r?.left?n:void 0,z=P?.[0]?.rightLineNumber===o?.right?n:void 0,G=ti(r,o,"LEFT"),W=ti(r,o,"RIGHT"),q=D(N,A),Q=D(v,A),X={currentHunk:E,diffEntryId:l,fileAnchor:s,fileLineCount:d,filePath:c,isRowSelected:(I?.isRowSelected(r)||I?.isRowSelected(o))??!1,modifiedLineThreadsConnectionId:N?.__id,nextHunk:U,originalLineThreadsConnectionId:v?.__id,previousHunk:B,rowId:y,isSplit:!0,diffContext:t,setInGridMode:g},{expandEndOfHunk:Y,expandEndOfPreviousHunk:J,expandStartOfHunk:Z}=eP(_,U,E,B),ee=()=>{if(!(0,p.Po)(r)&&r?.type==="HUNK"){J();return}Y()};M.push((0,i.jsx)(a.Fragment,{children:(0,i.jsx)(ea.tL,{as:"tr",className:"diff-line-row",commands:{"pull-requests-diff-view:expand-hunk-up":Z,"pull-requests-diff-view:expand-hunk-down":ee},children:x?(0,i.jsx)(S,{...X,diffLine:b,modifiedLineThreads:q,originalLineThreads:Q,children:(0,i.jsx)(tS,{nextLine:h,prevLine:f,focusedSearchResult:V,resultsForLine:H})}):(0,i.jsxs)(i.Fragment,{children:[(0,i.jsx)(S,{...X,diffLine:r,isLeftSide:!0,modifiedLineThreads:q,originalLineThreads:Q,children:(0,i.jsx)(tj,{summary:G,copilotChatReference:C,fileAnchor:s,filePath:c,handleDiffRowClick:u,handleDiffSideCellSelectionBlocking:m,resultsForLine:$,focusedSearchResult:K,firstLineNumberSelection:j})}),(0,i.jsx)(S,{...X,diffLine:o,modifiedLineThreads:q,originalLineThreads:Q,children:(0,i.jsx)(tj,{summary:W,copilotChatReference:C,fileAnchor:s,filePath:c,handleDiffRowClick:u,handleDiffSideCellSelectionBlocking:m,resultsForLine:P,focusedSearchResult:z,firstLineNumberSelection:j})})]})})},y))}return(0,i.jsx)(i.Fragment,{children:M})});try{tD.displayName||(tD.displayName="SplitDiffLines")}catch{}let tE=(0,a.memo)(function({searchResults:e,diffContext:t="pr",focusedSearchResult:n,clearSelectedDiffRowRange:r,diffEntryId:l,diffLines:o,fileLineCount:s,fileAnchor:d,filePath:c,tableRef:u,selectedDiffRowRange:f,handleDiffRowClick:h,updateDiffLines:g,updateSelectedDiffRowRange:x,replaceSelectedDiffRowRangeFromGridCells:y,copilotChatReference:b,setInGridMode:C,inGridMode:v,firstLineNumberSelection:j}){U({clearSelectedDiffRowRange:r,containerRef:u,fileAnchor:d,isSplitDiff:!1,leftLines:o,replaceSelectedDiffRowRangeFromGridCells:y,selectedDiffRowRange:f,updateSelectedDiffRowRange:x,disabled:!v});let{addInjectedContextLines:k}=eh(),L=(0,a.useMemo)(()=>{if(f)return(0,E.A)({selectedDiffRowRange:f,leftLines:o,isNumberCell:!0})},[f,o]),D=(0,a.useMemo)(()=>N(o.map(e=>e)),[o]);(0,a.useEffect)(()=>{g(d,o)},[o,d,g]);let _=new Map;for(let t=0;t<(e?.length??0);t++){let n=e?.[t];n&&(e&&_.has(n.diffLineNumIndex)?_.get(n.diffLineNumIndex)?.push(n):e&&_.set(n.diffLineNumIndex,[n]))}let A=o.map((e,r)=>{let u=o[r+1],f=o[r-1],g="HUNK"===e.type,x=(0,m.IQ)(d,(0,m.XU)(e.type),e.blobLineNumber),{currentHunk:y,nextHunk:v,previousHunk:N}=w(e,D),E=_.get(r),A=r===E?.[0]?.diffLineNumIndex?n:void 0,I=ti(e,e,"RIGHT"),R=L?.isRowSelected(e)??!1,T=(0,p.qX)(d,e,e),F={diffEntryId:l,diffLine:e,currentHunk:y,fileAnchor:d,fileLineCount:s,filePath:c,isLeftSide:"DELETION"===e.type,isRowSelected:R,isSplit:!1,nextHunk:v,previousHunk:N,diffContext:t,rowId:T,setInGridMode:C},{expandEndOfHunk:O,expandEndOfPreviousHunk:M,expandStartOfHunk:U}=eP(k,v,y,N);return(0,i.jsx)(a.Fragment,{children:(0,i.jsxs)(ea.tL,{as:"tr",className:"diff-line-row",commands:{"pull-requests-diff-view:expand-hunk-up":U,"pull-requests-diff-view:expand-hunk-down":()=>{if(!(0,p.Po)(e)&&e?.type==="HUNK"){M();return}O()}},children:[" ",(0,i.jsx)(S,{...F,children:g?(0,i.jsx)(tS,{nextLine:u,prevLine:f,focusedSearchResult:A,resultsForLine:E},r):(0,i.jsx)(tw,{filePath:c,copilotChatReference:b,handleDiffRowClick:h,firstLineNumberSelection:j,lineAnchor:x,resultsForLine:E,focusedSearchResult:A,summary:I},r)})]})},r)});return(0,i.jsx)(i.Fragment,{children:A})});try{tE.displayName||(tE.displayName="UnifiedDiffLines")}catch{}let t_={tableLayoutFixed:"DiffLines-module__tableLayoutFixed--YZcIJ",compact:"DiffLines-module__compact--wEEom"};var tA=n(38568),tI=n(58748);let tR={overlay:"SelectedDiffLinesOverlay-module__overlay--mWvvK",overlayOpacity:"SelectedDiffLinesOverlay-module__overlayOpacity--B9iKM"};var tT=n(29063);function tF({tableRef:e}){let[t,n]=(0,a.useState)(null),{selectedDiffRowRange:r}=(0,h.o)(),l=(0,a.useCallback)(()=>{if(!e.current)return;let t=r?e.current.querySelectorAll('td[data-selected="true"]'):[],i=e.current.getAttribute("data-diff-anchor"),a=ta.fV.hash.substring(1),l=(0,tT.ZD)(a);if(0===t.length||i!==l?.diffAnchor){n(null);return}let o=(function(e){let t=e.parentNode;for(;null!==t;){if(t instanceof HTMLElement&&"static"!==getComputedStyle(t).position)return t;t=t.parentNode}return document.body})(e.current).getBoundingClientRect(),s=0,d=Number.MAX_SAFE_INTEGER,c=0,u=Number.MAX_SAFE_INTEGER;for(let e of t){let t=e.getBoundingClientRect();s=Math.max(s,t.bottom-o.top),d=Math.min(d,t.left-o.left),c=Math.max(c,t.right-o.left),u=Math.min(u,t.top-o.top)}n({left:d-1,height:s-u,top:u-1,width:c-d+2})},[r,e]);return((0,tA.N)(()=>{ta.cg?.requestAnimationFrame(()=>{l()})},[e,l]),(0,tA.N)(()=>{let e=()=>{ta.cg?.requestAnimationFrame(()=>{l()})};return window.addEventListener("hashchange",e),()=>{window.removeEventListener("hashchange",e)}},[l,e]),(0,tI.w)(l,e),t)?(0,i.jsx)("div",{className:(0,g.$)("position-absolute","borderColor-accent-emphasis",tR.overlay),style:t,children:(0,i.jsx)("div",{className:(0,g.$)("width-full","height-full","bgColor-accent-emphasis",tR.overlayOpacity)})}):null}try{tF.displayName||(tF.displayName="SelectedDiffLinesOverlay")}catch{}function tO({diffAnchor:e,children:t}){return(0,i.jsx)("div",{className:"fgColor-muted p-2","data-diff-anchor":e,children:t})}let tM=(0,a.memo)(function({searchResults:e,diffContext:t="pr",focusedSearchResult:n,diffEntryData:r,diffLinesManuallyUnhidden:a,baseHelpUrl:l,onHandleLoadDiff:o,copilotChatReference:s,...d}){let u=`diff-${r.pathDigest}`;if(r.isBinary)return(0,i.jsx)(tO,{diffAnchor:u,children:"Binary file not shown."});if((0,c.dK)(r))return(0,i.jsx)(tO,{diffAnchor:u,children:"File renamed without changes."});if((0,c.Jc)(r))return(0,i.jsx)(tO,{diffAnchor:u,children:"File copied without changes."});if((0,c.Sn)(r,r.status,r.oldTreeEntry?.mode,r.newTreeEntry?.mode))return(0,i.jsx)(tO,{diffAnchor:u,children:"File mode changed."});if((0,c.HI)(r))return(0,i.jsx)(tO,{diffAnchor:u,children:(0,c.l_)(r.truncatedReason)});if((0,c.s8)(r))return(0,i.jsx)(tO,{diffAnchor:u,children:"Whitespace-only changes."});if(!a&&(0,c.lO)(r))return(0,i.jsx)(C,{diffAnchor:u,onLoadDiff:o,children:"This file was deleted."});if(!a&&(0,c.xW)(r))return(0,i.jsxs)(C,{diffAnchor:u,helpText:"customizing how changed files appear on GitHub.",helpUrl:`${l}/github/administering-a-repository/customizing-how-changed-files-appear-on-github`,onLoadDiff:o,children:["Some generated files are not rendered by default. Learn more about"," "]});if(r.isTooBig){if("commit"===t&&0===r.diffLines.length)return a?(0,i.jsxs)(tO,{diffAnchor:u,children:["Diff is too big to render. To view,"," ",(0,i.jsx)(f.A,{inline:!0,href:`${l}/pull-requests/collaborating-with-pull-requests/reviewing-changes-in-pull-requests/checking-out-pull-requests-locally`,children:"check out this pull request locally."})]}):(0,i.jsx)(C,{diffAnchor:u,onLoadDiff:o,children:"Large diffs are not rendered by default."});if("pr"===t)return r.diffLines.length>0?(0,i.jsx)(C,{diffAnchor:u,onLoadDiff:o,children:"Large diffs are not rendered by default."}):(0,i.jsxs)(tO,{diffAnchor:u,children:["Diff is too big to render. To view,"," ",(0,i.jsx)(f.A,{inline:!0,href:`${l}/pull-requests/collaborating-with-pull-requests/reviewing-changes-in-pull-requests/checking-out-pull-requests-locally`,children:"check out this pull request locally."})]})}return r.diffLines?(0,i.jsx)(ef,{...d,children:(0,i.jsx)(h.Y,{children:(0,i.jsx)(tU,{diffAnchor:u,diffContext:t,diffEntryData:r,viewerData:d.viewerData,focusedSearchResult:n,searchResults:e,copilotChatReference:s})})}):null});function tU({diffAnchor:e,viewerData:t,diffEntryData:n,searchResults:r,focusedSearchResult:l,copilotChatReference:o,diffContext:s}){let d=(0,a.useRef)(null),[c,f]=(0,a.useState)(!0),[x,y]=(0,a.useState)(null),b=n.newTreeEntry?.lineCount??n.oldTreeEntry?.lineCount??0,C=(0,a.useMemo)(()=>{let e=n.diffLines[n.diffLines.length-1];return e?.blobLineNumber&&e.blobLineNumber<b?n.diffLines.concat({__id:v.finalLineId,blobLineNumber:e.blobLineNumber+1,left:null,right:null,type:"HUNK",html:"",text:""}):n.diffLines},[n.diffLines,b]),{diffViewPreference:j,lineSpacingPreference:w,tabSizePreference:N}=t,{selectedDiffRowRange:k,replaceSelectedDiffRowRange:S,replaceSelectedDiffRowRangeFromGridCells:L,clearSelectedDiffRowRange:D,updateDiffLines:E,updateSelectedDiffRowRange:_}=(0,h.o)(),A=(0,a.useCallback)(e=>{if(!d.current||!e.target)return;let t=e.target,n=t.closest("td.diff-line-number"),i=d.current.contains(t);n&&!i&&(D(),M.current=null)},[D,d]);(0,a.useEffect)(()=>(ta.XC?.addEventListener("mousedown",A),()=>{ta.XC?.removeEventListener("mousedown",A)}),[A]);let I=e===k?.diffAnchor;(0,a.useEffect)(()=>{if(!I)return;let e=(0,p.On)(k,C);e&&e!==k&&S(e)},[C,k,I,S]);let R=ta.cg?.location.search,T=(0,a.useMemo)(()=>"split"===new URLSearchParams(R).get("diff")||"split"===j,[R,j]),F=(0,m.c7)(C),O=(0,a.useCallback)(e=>{y(e)},[y]),M=(0,a.useRef)(null),U=(0,a.useCallback)((t,n,i,r,a)=>{!function(e){let t=document.getElementById("__primerPortalRoot__");return!!t&&!!e&&t.contains(e)}(t.target)&&!t.defaultPrevented&&a&&_(e,n,i,r,a)},[e,_]),B=(0,a.useCallback)(e=>{let t=document.getSelection();if(t){let n=[];for(let e=0;e<t.rangeCount;e++){let i=t.getRangeAt(e).cloneContents();if(i.querySelectorAll("td").length){let e=`td.diff-line-number, span.diff-text-marker${T?`, ${"left"===x?"td.left-side-diff-cell":"td.right-side-diff-cell"}`:""}`;for(let t of i.querySelectorAll(e))t.parentNode&&t.parentNode.removeChild(t);for(let e of i.children){let t=e.textContent;"\n"===t?n.push(""):n.push(t)}}else n.push(i.textContent)}e.clipboardData.setData("text/plain",n.join("\n")),e.preventDefault()}},[x,T]),$={searchResults:r,diffContext:s,focusedSearchResult:l,clearSelectedDiffRowRange:D,diffEntryId:n.objectId,diffLines:C,fileAnchor:e,fileLineCount:b,filePath:n.path,handleDiffRowClick:U,handleDiffSideCellSelectionBlocking:O,replaceSelectedDiffRowRangeFromGridCells:L,selectedDiffRowRange:I?k:null,tableRef:d,updateDiffLines:E,updateSelectedDiffRowRange:_,copilotChatReference:o,setInGridMode:f,inGridMode:c,firstLineNumberSelection:M};return(0,i.jsxs)(i.Fragment,{children:[(0,i.jsx)(tF,{tableRef:d}),(0,i.jsx)(ea.tL,{as:"table",triggerOnDefaultPrevented:!0,commands:{"pull-requests-diff-view:expand-all-hunks":()=>{let e=document.querySelector(`.js-expand-all-difflines-button[data-file-path="${n.path}"]`);e?.dispatchEvent(new MouseEvent("click",{bubbles:!0,cancelable:!0}))}},ref:d,className:(0,g.$)("tab-size","width-full",t_.tableLayoutFixed,{[t_.compact]:"compact"===w}),"data-block-diff-cell-selection":x,"data-diff-anchor":e,"data-tab-size":N,"data-paste-markdown-skip":!0,onCopy:B,role:"grid",style:{"--line-number-cell-width":`${F}px`,"--line-number-cell-width-unified":`${2*parseFloat(F)}px`},children:T?(0,i.jsx)(u.wj,{lineWidth:F,children:(0,i.jsx)(tD,{...$})}):(0,i.jsx)(u.Qe,{lineWidth:F,children:(0,i.jsx)(tE,{...$})})})]})}try{tO.displayName||(tO.displayName="PlainTextStatus")}catch{}try{tM.displayName||(tM.displayName="DiffLines")}catch{}try{tU.displayName||(tU.displayName="CodeDiffLines")}catch{}let tB={diffHeaderWrapper:"Diff-module__diffHeaderWrapper--J03RC"};var t$=n(58599);function tP({submodule:e}){let{basePath:t,changedFiles:n,contentsUrl:r,newCommitOid:l,oldCommitOid:o,status:s,submoduleUrl:d}=e,c=e.summary.length>0&&e.contentsUrl&&"MODIFIED"===s,u=(0,a.useMemo)(()=>{switch(s){case"ADDED":return(0,i.jsx)(tK,{commitOid:l,contentsUrl:r,type:"added"});case"DELETED":case"REMOVED":return(0,i.jsx)(tK,{commitOid:o,contentsUrl:r,type:"deleted"});default:return(0,i.jsx)(tz,{newCommitOid:l,oldCommitOid:o,changedFiles:n,contentsUrl:r})}},[l,o,s,n,r]);return(0,i.jsxs)("div",{children:[(0,i.jsxs)("div",{className:`px-3 py-2 ${c?"border-bottom bgColor-muted":""}`,children:[(0,i.jsx)(b.FileSubmoduleIcon,{className:"fgColor-muted mr-2",size:16}),(0,i.jsx)(tH,{basePath:t,submoduleUrl:d}),u]}),c&&(0,i.jsx)(eu.l,{className:"pt-0",showDividers:!0,variant:"full",sx:{"> li":{borderRadius:0}},children:e.summary.map(e=>(0,i.jsx)(tG,{compareUrl:`${r}/compare/${o}...${l}`,linesAdded:e.linesAdded,linesDeleted:e.linesDeleted,path:e.path,pathDigest:e.pathDigest,status:e.status},e.pathDigest))})]})}function tH({basePath:e,submoduleUrl:t}){return(0,i.jsxs)(i.Fragment,{children:["Submodule"," ",t?(0,i.jsx)(f.A,{inline:!0,href:t,children:e}):e," "]})}function tV(e){return e.slice(0,7)}function tK({commitOid:e="",contentsUrl:t,type:n}){let r="added"===n?"added at":"deleted from";return t?(0,i.jsxs)(i.Fragment,{children:[r," ",(0,i.jsx)(f.A,{inline:!0,href:`${t}/tree/${e}`,children:tV(e)})]}):(0,i.jsxs)(i.Fragment,{children:[r," ",tV(e)]})}function tz({newCommitOid:e="",oldCommitOid:t="",changedFiles:n=0,contentsUrl:r}){let a=n>0&&r?`${n} ${1===n?"file":"files"}`:`from ${tV(t)} to ${tV(e)}`;return(0,i.jsxs)(i.Fragment,{children:["updated"," ",r?(0,i.jsx)(f.A,{inline:!0,href:`${r}/compare/${t}...${e}`,children:a}):a]})}function tG({compareUrl:e,linesAdded:t,linesDeleted:n,path:a,pathDigest:l,status:o}){return(0,i.jsx)(eu.l.LinkItem,{href:`${e}#diff-${l}`,sx:{px:0,borderRadius:0,"&:hover .path, &:focus .path":{color:"accent.fg",textDecoration:"underline"}},children:(0,i.jsxs)("div",{className:"d-flex gap-2 flex-row flex-items-center pl-3",style:{maxWidth:"500px"},children:[(0,i.jsx)(t$.E,{status:o}),(0,i.jsxs)("div",{className:"d-flex gap-1 flex-justify-between width-full",children:[(0,i.jsx)("span",{className:"path",children:a}),(t>0||n>0)&&(0,i.jsxs)("div",{className:"d-flex flex-shrink-0 gap-1 flex-nowrap",children:[(0,i.jsx)("div",{style:{minWidth:"5ch",textAlign:"right"},children:t>0&&(0,i.jsxs)(r.C,{isAddition:!0,children:["+",tW(t)]})}),(0,i.jsx)("div",{style:{width:"5ch",textAlign:"left"},children:n>0&&(0,i.jsxs)(r.C,{isAddition:!1,children:["-",tW(n)]})})]})]})]})})}function tW(e){return e>999?`${(e/1e3).toFixed(1)}k`:e.toLocaleString()}try{tP.displayName||(tP.displayName="SubmoduleDiff")}catch{}try{tH.displayName||(tH.displayName="SubmodulePath")}catch{}try{tK.displayName||(tK.displayName="SubmoduleCommitChange")}catch{}try{tz.displayName||(tz.displayName="SubmoduleModified")}catch{}try{tG.displayName||(tG.displayName="SubmoduleFileRow")}catch{}var tq=n(5796);let tQ=({hasCopilotAccess:e,isBinary:t,isSubmodule:n,path:i,repository:r,status:a})=>!!e&&!t&&!n&&!!i&&"DELETED"!==a&&"REMOVED"!==a&&!!r.id&&!!r.name&&!!r.ownerLogin,tX=({newCommitOid:e,newTreeEntry:t,oldCommitOid:n,oldTreeEntry:i,path:r,pathDigest:a,repository:l})=>{let o=n&&e?(0,tq.IO9)({repo:l,commitish:n,action:"raw",path:r}):"";return{baseFile:tY({path:i?.path,oid:n,repository:l}),headFile:tY({path:t?.path,oid:e,repository:l}),id:`#diff-${a}`,type:"file-diff",url:o}},tY=({path:e,oid:t,repository:n})=>e&&t?{type:"file",url:(0,tq.IO9)({repo:n,commitish:t,action:"raw",path:e}),path:e,repoID:n.id,repoName:n.name,repoOwner:n.ownerLogin,ref:t,commitOID:t}:null,tJ=(0,a.memo)(tZ);function tZ({collapsed:e,commentingEnabled:t,commentingImplementation:n,currentUser:l,diffContext:o,diffLines:s,diffManuallyExpanded:c,diffMatches:u,diffSize:m,focusedSearchResult:f,helpUrl:h,isBinary:p,isSubmodule:g,isTooBig:x,leftSideContent:y,linesAdded:b,linesChanged:C,linesDeleted:v,markerNavigationImplementation:j,newTreeEntry:w,newCommitOid:N,objectId:k,oldTreeEntry:S,oldCommitOid:L,onOptionCollapseToggle:D,path:E,pathDigest:_,pullRequest:A,repository:I,richDiff:R,rightSideContent:T,hasExpandedAllRanges:F,expandAllContextLines:O,canExpandOrCollapseLines:M,status:U,submodule:B,truncatedReason:$,addInjectedContextLines:P}){let[H,V]=(0,a.useState)(R?.defaultToRichDiff),K=g&&!!B,[z,G]=(0,a.useState)(e),[W]=(0,a.useState)(c),q=function({isBinary:e,isSubmodule:t,path:n,status:i,repository:r,newCommitOid:l,newTreeEntry:o,oldCommitOid:s,oldTreeEntry:d,pathDigest:c,hasCopilotAccess:u}){return(0,a.useMemo)(()=>{if(tQ({isBinary:e,isSubmodule:t,path:n,status:i,repository:r,hasCopilotAccess:u}))return tX({newCommitOid:l,newTreeEntry:o,oldCommitOid:s,oldTreeEntry:d,path:n,pathDigest:c,repository:r})},[l,o,s,d,c,r,u,e,t,n,i])}({isBinary:p,isSubmodule:g,path:E,status:U,repository:I,newCommitOid:N,newTreeEntry:w,oldCommitOid:L,oldTreeEntry:S,pathDigest:_,hasCopilotAccess:l.hasCopilotAccess});(0,a.useEffect)(()=>{G(e)},[e]);let Q=async()=>{},X=(0,a.useMemo)(()=>({avatarUrl:l?.avatarURL??"",diffViewPreference:l?.splitPreference,isSiteAdmin:!1,login:l?.login??"",lineSpacingPreference:l?.lineSpacing,tabSizePreference:l?.tabSize??8,viewerCanComment:l?.canComment,viewerCanApplySuggestion:!1,commentsPreference:l?.commentsPreference}),[l]);return(0,i.jsxs)("div",{className:"position-relative",style:{contain:"layout"},children:[(0,i.jsx)("div",{className:tB.diffHeaderWrapper,children:(0,i.jsx)(r.B,{areLinesExpanded:F,canExpandOrCollapseLines:M,defaultToRichDiff:R?.defaultToRichDiff,fileLinkHref:`#diff-${_}`,isCollapsed:z,isBinary:p,size:m,canToggleRichDiff:R?.canToggleRichDiff,linesAdded:b,linesChanged:C,linesDeleted:v,newMode:w?.mode,newPath:w?.path,oldMode:S?.mode,oldPath:S?.path,patchStatus:U,path:E,onToggleExpandAllLines:O,onToggleFileCollapsed:t=>{t.altKey?D(!z):(e=!z,G(!z))},onToggleDiffDisplay:e=>V(e),additionalLeftSideContent:y,rightSideContent:T})}),z?null:(0,i.jsxs)("div",{className:"border position-relative rounded-bottom-2",children:[K&&(0,i.jsx)(tP,{submodule:B}),H&&(0,i.jsx)(d,{loading:!1,proseDiffHtml:R?.proseDiffHtml,fileRendererInfo:R?.renderInfo,dependencyDiffPath:R?.dependencyDiffPath}),!K&&!H&&(0,i.jsx)(tM,{diffContext:o,copilotChatReference:q,searchResults:u,focusedSearchResult:f,diffEntryData:{diffLines:s,isBinary:p,isTooBig:x,linesChanged:C,newTreeEntry:w,newCommitOid:N,objectId:k,oldTreeEntry:S,oldCommitOid:L,path:E,pathDigest:_,status:U,truncatedReason:$},baseHelpUrl:h,commentBatchPending:!1,repositoryId:I.id.toString(),subject:A?.subject||{},subjectId:A?.globalRelayId||"",viewerData:X,newCommitOid:N,oldCommitOid:L,addInjectedContextLines:P,commentingEnabled:t||!1,commentingImplementation:n,markerNavigationImplementation:j,diffLinesManuallyUnhidden:W,onHandleLoadDiff:Q})]})]},`${_}_${s.length}`)}try{tJ.displayName||(tJ.displayName="Diff")}catch{}try{tZ.displayName||(tZ.displayName="DiffUnmemoized")}catch{}var t0=n(67138),t1=n(30729);let t2={defaultStyles:"DiffFind-module__defaultStyles--gxyWR"},t4=(0,a.memo)(function({currentPathDigestIndex:e,searchTerm:t,searchResults:n,setSearchTerm:r,focusedSearchResult:l,currentIndex:o,setCurrentIndex:s,setFocusedSearchResult:d,scrollDiffCellIntoView:c}){let u=(0,a.useRef)([]),m=(0,a.useRef)(0),f=()=>{r(""),d(void 0),e.current=0},h=(0,i.jsxs)("div",{className:"d-flex flex-row flex-justify-center flex-items-center",children:[t&&(0,i.jsxs)("span",{className:"text-small fgColor-subtle mx-2 text-center",children:[0===n.size||void 0===l?0:o+1,"/",m.current]}),!t&&(0,i.jsx)("span",{className:"text-small fgColor-subtle mx-2 text-center pr-4",children:"\xa0"}),t&&(0,i.jsxs)(i.Fragment,{children:[(0,i.jsx)(q.K,{size:"small",variant:"invisible",onClick:()=>{p(-1)},icon:b.ChevronUpIcon,"aria-label":"Up","data-testid":"up-search"}),(0,i.jsx)(q.K,{size:"small",variant:"invisible",onClick:()=>{p(1)},icon:b.ChevronDownIcon,"aria-label":"Down","data-testid":"down-search"})]})]}),p=t=>{if(void 0===l||""===l.pathDigest){e.current=0,d({pathDigest:u.current[0]??"",indexWithinDigest:0});return}1===t?(s(o===m.current-1?0:o+1),l.indexWithinDigest===n.get(l.pathDigest).length-1?(e.current=e.current+1,e.current===u.current.length&&(e.current=0),l.pathDigest=u.current[e.current]??"",l.indexWithinDigest=0):l.indexWithinDigest=l.indexWithinDigest+1):(s(0===o?m.current-1:o-1),0===l.indexWithinDigest?(e.current=e.current-1,-1===e.current&&(e.current=u.current.length-1),l.pathDigest=u.current[e.current]??"",l.indexWithinDigest=n.get(l.pathDigest).length-1):l.indexWithinDigest=l.indexWithinDigest-1),d(l)};return(0,a.useEffect)(()=>{u.current=Array.from(n.keys()),e.current=0,d({pathDigest:u.current[0]??"",indexWithinDigest:0});let t=0;for(let e of n.values())t+=e.length;m.current=t},[e,n,n.size,d]),(0,a.useEffect)(()=>{n.size>0&&void 0!==l&&c(l)},[n,l,o]),(0,i.jsxs)("div",{className:t2.defaultStyles,children:[(0,i.jsx)(ea.ak,{commands:{"pull-requests-diff-view:jump-to-next-result-alternate":()=>p(1),"pull-requests-diff-view:jump-to-previous-result-alternate":()=>p(-1)}}),(0,i.jsx)(ea.tL,{commands:{"pull-requests-diff-view:jump-to-next-result":()=>p(1),"pull-requests-diff-view:jump-to-previous-result":()=>p(-1)},children:(0,i.jsx)(t0.A,{className:"border-0 box-shadow-none",style:{width:"100%"},validationStatus:m.current>1e3?"error":void 0,type:"text",leadingVisual:()=>(0,i.jsx)(t1.A,{icon:b.SearchIcon,"aria-hidden":"true"}),autoComplete:"off",name:"Find in commit input","aria-label":"Search within code",placeholder:"Search within code",value:t,onChange:e=>{e.target.value?(r(e.target.value),s(0)):f()},block:!0,trailingAction:h})})]})});try{t4.displayName||(t4.displayName="DiffFind")}catch{}let t3=(0,a.createContext)({diffFindOpen:!1,setDiffFindOpen:()=>void 0});function t8({children:e,searchTerm:t,setSearchTerm:n}){let r=(0,a.useRef)(""),[l,o]=(0,a.useState)(!1),s=(0,a.useCallback)(e=>{e&&""===t&&""!==r.current?n(r.current):e||""===t||(r.current=t,n("")),o(e)},[t,n]),d=(0,a.useMemo)(()=>({diffFindOpen:l,setDiffFindOpen:s}),[l,s]);return(0,i.jsx)(t3.Provider,{value:d,children:e})}try{t3.displayName||(t3.displayName="DiffFindOpenContext")}catch{}try{t8.displayName||(t8.displayName="DiffFindOpenProvider")}catch{}var t7=n(73412),t6=n(93307);function t5({data:e}){let{query:t,diffEntryInfo:n,currentDiffEntryData:i}=e;return{matchingDiffs:i?function(e,t,n){if(0===n.size)return new Map;let i=n.size>=200,r={},a=e.reduce((n,i,a)=>{if(r[a])return n;r[a]=!0;let l=nt(t,[e[a]]),o=l.next();for(;!o.done&&n.size<200;){let{resultsWithinDiff:t}=o.value;n.set(e[a]?.pathDigest??"",t),o=l.next()}return n},new Map);if(a.size<200&&i){let n=nt(t,e,a.size),i=n.next();for(;!i.done&&a.size<200;){let{resultsWithinDiff:t,diff:r}=i.value;a.set(e[r]?.pathDigest??"",t),i=n.next()}}return a}(n,ne(t),i):function(e,t){let n=new Map,i=nt(t,e),r=i.next();for(;!r.done&&n.size<200;){let{resultsWithinDiff:t,diff:a}=r.value;n.set(e[a]?.pathDigest??"",t),r=i.next()}return n}(n,ne(t)),query:t}}let t9={Text:"Text"};function ne(e){let t=e.replace(/[.*+?^${}()|[\]\\]/g,"\\$&");return{kind:t9.Text,regexp:RegExp(t,"gi")}}function*nt(e,t,n=0){for(let i=n;i<t.length;i++){let n=t[i],r=[],a=0;for(let l=0;l<n.diffLines.length;l++){let o,s;o=t[i]?.diffLines[l]?.type==="HUNK"?n.diffLines[l]?.text:n.diffLines[l]?.text?.substring(1);let d=n.diffLines[l];for(;o&&null!==(s=e.regexp.exec(o));){let e=s[0],t=s.index;r.push({pathDigest:n.pathDigest,indexWithinPathDigest:a,matchContent:e,column:t,diffLineNumIndex:l,isHunk:d?.type==="HUNK",hunkLineNumber:d?.blobLineNumber??-1,leftLineNumber:d?.type!=="ADDITION"?d?.left??-1:-1,rightLineNumber:d?.type!=="DELETION"?d?.right??-1:-1,columnEnd:t+e.length,text:o}),a++}}0!==r.length&&(yield{diff:i,resultsWithinDiff:r})}}function nn(e,t,n,i){let[r,l]=(0,a.useState)(new Map),[o,s]=(0,a.useState)(void 0),[d,c]=(0,a.useState)(0),u=a.useRef();!u.current&&t&&(u.current=new t6.N(new t7.z(n,t5),200,e=>1!==e.query.length));let m=(0,a.useRef)(t);m.current=t;let f=(0,a.useRef)("");(0,a.useEffect)(()=>function(){u.current?.terminate()},[]);let h=(0,a.useRef)([]);return u.current&&e!==h.current&&(u.current.onResponse=e=>{e.query===m.current&&(l(e.matchingDiffs),f.current=m.current)},h.current=e),(0,a.useEffect)(()=>{if(!e||!u.current||!f.current||""===f.current){l(new Map),s(void 0);return}l(new Map),s(void 0),u.current.post({query:f.current,diffEntryInfo:e,currentDiffEntryData:void 0})},[e?.length,e]),(0,a.useEffect)(()=>{if(e&&u.current){if(""===t)l(new Map),s(void 0),c(0),f.current="";else{if(!(t.length>0&&t.length<=1e3))return;let n=f.current.length>0&&t.startsWith(f.current);u.current.post({query:t,diffEntryInfo:e,currentDiffEntryData:n?r:void 0}),c(0)}}},[t,i]),{focusedSearchResult:o,setFocusedSearchResult:s,searchResults:r,currentIndex:d,setCurrentIndex:c}}},90189:(e,t,n)=>{n.d(t,{A:()=>a});var i=n(67220),r=n(37109);function a({selectedDiffRowRange:e,leftLines:t,rightLines:n,isNumberCell:a}){let l=!!n,{startOrientation:o,endOrientation:s}=e;if(e.startLineNumber===e.endLineNumber&&e.startOrientation===e.endOrientation&&!a)return{isRowSelected:()=>!1,selectedRightLines:[],selectedLeftLines:[]};let d=f(o).findIndex(t=>(0,r.a2)(t,e.startLineNumber,e.startOrientation)),c=f(s).findIndex(t=>(0,r.a2)(t,e.endLineNumber,e.endOrientation)),u=d>=0&&c>=0;function m(e){if(!u||(0,r.Po)(e))return!1;let t=f((0,i.XU)(e.type)).indexOf(e);return t>=d&&t<=c}function f(e){return l&&"left"!==("string"==typeof e?e:(0,i.XU)(e.type))?n:t}let h=f("left").filter(e=>m(e)),p=f("right").filter(e=>m(e));return{isRowSelected:m,selectedRightLines:p,selectedLeftLines:h}}},29063:(e,t,n)=>{function i(e,t){return`${"left"===t?"L":"R"}${e}`}function r(e){let t=e.match(/^#?(diff-[a-f0-9]+)/);return t?.[1]}function a(e){let t=e.match(/^#?(r\d+)/),n=t?.[1];return n?parseInt(n.slice(1)):void 0}function l(e){let t=e.match(/^#annotation_(\d+)/),n=t?.[1];return n?parseInt(n):void 0}function o(e){let t=function(e){let t=e.match(/^#?(diff-[a-f0-9]+)(L|R)(\d+)(?:-(L|R)(\d+))?$/i);if(null!=t&&6===t.length)return t;let n=e.match(/^#?(discussion-diff-[0-9]+)(L|R)(\d+)(?:-(L|R)(\d+))?$/i);return null!=n&&6===n.length?n:null}(e);if(t){let e=t[1],n=t[2]?"L"===t[2]?"left":"right":void 0,i=t[3]?parseInt(t[3]):void 0;if(!e||!n||void 0===i)return;return{diffAnchor:e,startOrientation:n,startLineNumber:i,endOrientation:(t[4]?"L"===t[4]?"left":"right":void 0)??n,endLineNumber:(t[5]?parseInt(t[5]):void 0)??i,firstSelectedLineNumber:i,firstSelectedOrientation:n}}}function s(e){!function(e){let t=`#${e}`;if(t===window.location.hash)return;let n=window.location.href;history.replaceState({...history.state},"",t),window.dispatchEvent(new HashChangeEvent("hashchange",{newURL:window.location.href,oldURL:n}))}(d(e))}function d(e){let t=i(e.startLineNumber,e.startOrientation),n=`${e.diffAnchor}${t}`;if(e.endLineNumber!==e.startLineNumber||e.endOrientation!==e.startOrientation){let t=i(e.endLineNumber,e.endOrientation);n+=`-${t}`}return n}n.d(t,{Dd:()=>a,N0:()=>l,ZD:()=>o,i8:()=>s,j$:()=>d,pd:()=>r})},37109:(e,t,n)=>{n.d(t,{Ji:()=>f,Ls:()=>w,Mk:()=>p,On:()=>s,Po:()=>u,S4:()=>b,ZC:()=>g,_S:()=>h,a1:()=>j,a2:()=>o,j2:()=>x,oE:()=>C,pI:()=>y,qK:()=>m,qX:()=>d,u6:()=>c});var i=n(67220),r=n(96884),a=n(54332),l=n(29063);function o(e,t,n){return"left"===n?!u(e)&&e.left===t:!u(e)&&(0,i.XU)(e.type)===n&&e.right===t}function s(e,t){if(!e)return;if(!t)return e;let n=!1,i=!1,r=!1;for(let a of t)if(a&&(i||(i=o(a,e.startLineNumber,e.startOrientation)),r||(r=o(a,e.endLineNumber,e.endOrientation)),(n=r&&!i)||i&&r))break;return n?{...e,startLineNumber:e.endLineNumber,startOrientation:e.endOrientation,endLineNumber:e.startLineNumber,endOrientation:e.startOrientation}:e}function d(e,t,n){let i=`-${u(t)||"number"!=typeof t.left?"empty":t.left}`,r=n?`-${u(n)||"number"!=typeof n.right?"empty":n.right}`:"";return`${e}${i}${r}`}function c(e,t){return`${e}-${t}`}function u(e){return!!e&&e===a.V}function m(e){return!!e&&e!==a.V}function f(e){return"CONTEXT"===e.type}function h(e,t){let n;switch(t){case"ADDITION":n="+";break;case"DELETION":n="-";break;case"CONTEXT":case"INJECTED_CONTEXT":n=" "}if(!n||!e.startsWith(n))return[e,void 0];let i=e[0];return[e.substring(1),i]}function p(e){let t=[],n=[],i=()=>{for(;t.length<n.length;)t.push(a.V);for(;n.length<t.length;)n.push(a.V)};for(let r of e)switch(r.type){case"ADDITION":n.push(r);break;case"DELETION":t.push(r);break;case"CONTEXT":case"INJECTED_CONTEXT":case"HUNK":i(),t.push(r),n.push(r)}return i(),{leftLines:t,rightLines:n}}function g(e){return new DOMParser().parseFromString(e,"text/html").documentElement.textContent||""}function x({line:e,range:t,fileAnchor:n}){let i;let{origin:r,pathname:a}=window.location;if(t?i=(0,l.j$)(t):e&&(i=function(e,t){let n=["HUNK","CONTEXT","INJECTED_CONTEXT","DELETION"].includes(e.type),i=n?e.left:e.right,r=n?"left":"right";if(null!==i)return(0,l.j$)({diffAnchor:t,endLineNumber:i,endOrientation:r,startLineNumber:i,startOrientation:r,firstSelectedLineNumber:i,firstSelectedOrientation:r})}(e,n)),i)return`${r}${a}#${i}`}function y({includeControlKey:e=!0,includeShiftKey:t,includeOptionKey:n,key:i}){let a=e?`${(0,r.U0)()?"\u2318":"Ctrl + "}`:"";return n&&(a+=`${(0,r.U0)()?"\u2325":"Alt + "}`),t&&(a+=`${(0,r.U0)()?"\u21E7":"Shift + "}`),a+=i}function b({hasThreads:e}){return e?"80px":"24px"}function C({includeControlKey:e=!0,includeShiftKey:t,includeOptionKey:n,key:i}){let a="";return e&&(a+=(0,r.U0)()?"Command+":"Control+"),n&&(a+=(0,r.U0)()?"Option+":"Alt+"),t&&(a+="Shift+"),a+=i}let v=["ADDITION","DELETION","CONTEXT"],j=(e,t)=>{if(!e)return!1;let n=t.leftLines.concat(t.rightLines);return n.length>0&&n.includes(e)?n.every(e=>!u(e)&&v.includes(e.type)):!u(e)&&v.includes(e.type)},w=e=>e?e.filter(e=>!u(e)).map(e=>{let[t]=h(g(e.html),e.type);return t}).join("\n"):""},45725:(e,t,n)=>{n.d(t,{K:()=>a});var i=n(38568),r=n(96540);let a=e=>{let t=(0,r.useRef)(e);return(0,i.N)(()=>(t.current=e,()=>t.current=null),[e]),(0,r.useCallback)((...e)=>t.current?.(...e),[])}},26335:(e,t,n)=>{n.d(t,{S:()=>c,n:()=>d});var i=n(96540),r=n(13253),a=n(37109),l=n(70404),o=n(45725),s=n(70283);function d(e){let t=(0,s.Lm)(e),n=(e.subject?.diffLines??[]).filter(e=>t?e.left&&e.left>=t.startLineNumber&&e.left<=t.endLineNumber||e.right&&e.right>=t.startLineNumber&&e.right<=t.endLineNumber:[]),i=n.every(e=>"DELETION"!==e.type),r=n?.map(e=>a._S(e.text,e.type)[0]).join("\n");return{isValidSuggestionRange:n.length>0&&!!i,showSuggestChangesButton:!1,sourceContentFromDiffLines:r,onInsertSuggestedChange:()=>{},shouldInsertSuggestedChange:!1}}function c(e,t,n){let{sendAnalyticsEvent:s}=(0,l.s)(),{getDiffLinesFromLineRange:d,selectedDiffRowRange:c}=(0,r.o)(),u=(0,o.K)(function(n,i){if(!e)return;let r=function(e){if(!e)return"DELETION"!==t.type;if("right"===e.startOrientation&&"right"===e.endOrientation)return!0;if(e.startLineNumber===e.endLineNumber&&e.startOrientation===e.endOrientation)return"DELETION"!==t.type;let n=d(e)?.selectedLeftLines;return!!n?.every(e=>"empty-diff-line"!==e&&"DELETION"!==e.type)}(n);return{isValidSuggestionRange:r,showSuggestChangesButton:r,sourceContentFromDiffLines:r?function(e){let n=d(e)?.selectedRightLines;if(e&&n&&n.length>1)return(0,a.Ls)(n);if(!t)return"";let[i]=(0,a._S)(t.text,t.type);return i}(n):void 0,onInsertSuggestedChange:()=>{s("diff.add_suggested_change","ADD_SUGGESTED_CHANGE_BUTTON")},shouldInsertSuggestedChange:i}});return(0,i.useMemo)(()=>({selectedDiffRowRange:c,configureSuggestedChangesFromLineRange:u,shouldStartNewConversationWithSuggestedChange:n}),[c,u,n])}},54332:(e,t,n)=>{n.d(t,{V:()=>i});let i="empty-diff-line"},86617:(e,t,n)=>{n.d(t,{C0:()=>m,Pe:()=>c,Qn:()=>f,bJ:()=>u,in:()=>s,nZ:()=>d,sI:()=>o});var i=n(21728),r=n(41281),a=n(97286),l=n(46928);let o={Visible:"visible",Collapsed:"collapsed"},s={hideWhitespace:!1,splitPreference:"split",lineSpacing:"relaxed",commentsPreference:o.Visible};function d(){return[r.u.diffViewUserSettings]}function c(e){let t,n,r;let l=(0,i.c)(6);l[0]===Symbol.for("react.memo_cache_sentinel")?(t=d(),l[0]=t):t=l[0];let o=t;return l[1]!==e?(n=async()=>e||s,l[1]=e,l[2]=n):n=l[2],l[3]!==e||l[4]!==n?(r={queryKey:o,queryFn:n,initialData:e,staleTime:1/0},l[3]=e,l[4]=n,l[5]=r):r=l[5],(0,a.I)(r)}function u(e,t){let n=new URL(window.location.href,window.location.origin);if(t){let i=encodeURIComponent(t);n.searchParams.set(e,i)}else n.searchParams.delete(e);window.history.replaceState({path:n.toString()},"",n.toString())}function m(e){let t;let n=(0,i.c)(2),r=e,[a]=(0,l.o)();n[0]!==a?(t=a.get("diff"),n[0]=a,n[1]=t):t=n[1];let o=t;return("split"===o||"unified"===o)&&(r=o),r}function f(e){let t=e,[n]=(0,l.o)(),i=n.get("w");return"1"===i?t=!0:"0"===i&&(t=!1),t}},79658:(e,t,n)=>{n.d(t,{s:()=>i});let i={Visible:"visible",Collapsed:"collapsed"}},2640:(e,t,n)=>{n.d(t,{D:()=>a,Y:()=>l});var i=n(13080),r=n(47584);function a(e){if(!r.XC)return;let t=r.XC.querySelector("title"),n=r.XC.createElement("title");n.textContent=e,t?t.textContent!==e&&(t.replaceWith(n),(0,i.i)(e)):(r.XC.head.appendChild(n),(0,i.i)(e))}function l(e){return document.body.classList.contains("logged-out")?`${e} \xb7 GitHub`:e}},11086:(e,t,n)=>{n.d(t,{t:()=>r});var i=n(5804);let r=({items:e,filter:t,key:n,secondaryKey:r})=>{let a=e.map(e=>[(0,i.dt)(t,n(e)),e]);return r&&(a=a.map(([e,n])=>[Math.max(e,(0,i.dt)(t,r(n))),n])),a.filter(([e])=>e>i.IP).sort(([e,t],[i,r])=>i===e?n(t).localeCompare(n(r)):i-e).map(([,e])=>e)}},5804:(e,t,n)=>{n.d(t,{Dx:()=>l,IP:()=>a,M4:()=>r,dt:()=>o});var i=n(91385);let r=1/0,a=-1/0,l=1,o=(e,t,n=l)=>{let o=e.trim().toLowerCase(),s=t.trim().toLowerCase();if(o===s)return r;if(0===s.length||0===o.length)return a;let d=(0,i.fN)(o,s);return d===1/0&&o!==s?a:s.startsWith(o)||s.endsWith(o)?d+n:d}},46988:(e,t,n)=>{let i;n.d(t,{BI:()=>f,Ti:()=>h,lA:()=>m});var r=n(70837),a=n(18679),l=n(80688),o=n(57516);let{getItem:s}=(0,l.A)("localStorage"),d="dimension_",c=["utm_source","utm_medium","utm_campaign","utm_term","utm_content","scid"];try{let e=(0,r.O)("octolytics");delete e.baseContext,i=new a.s(e)}catch{}function u(e){let t=(0,r.O)("octolytics").baseContext||{};if(t)for(let[e,n]of(delete t.app_id,delete t.event_url,delete t.host,Object.entries(t)))e.startsWith(d)&&(t[e.replace(d,"")]=n,delete t[e]);let n=document.querySelector("meta[name=visitor-payload]");for(let[e,i]of(n&&Object.assign(t,JSON.parse(atob(n.content))),new URLSearchParams(window.location.search)))c.includes(e.toLowerCase())&&(t[e]=i);return t.staff=(0,o.X)().toString(),Object.assign(t,e)}function m(e){i?.sendPageView(u(e))}function f(e,t={}){let n=document.head?.querySelector('meta[name="current-catalog-service"]')?.content,r=n?{service:n}:{};for(let[e,n]of Object.entries(t))null!=n&&(r[e]=`${n}`);i&&(u(r),i.sendEvent(e||"unknown",u(r)))}function h(e){return Object.fromEntries(Object.entries(e).map(([e,t])=>[e,JSON.stringify(t)]))}},91669:(e,t,n)=>{n.d(t,{k:()=>i});let i={confirmations:{deleteEditHistoryTitle:"Are you sure you want to delete this revision from the history?",deleteEditHistoryContent:"This edit\u2019s content will no longer be visible. This action can not be undone.",deleteEditHistoryConfirmButtonContent:"Remove"},editHistory:{viewingEditTitle:"Viewing edit",deleted:"Deleted",mostRecent:"Most recent",emptyEdit:"This revision does not contain any content.",deletedThisRevision:"deleted this revision",created:"created",edited:"edited",deleteRevisionAriaLabel:"Delete this edit revision",ariaLabel:"Open edits",openEditsButton:"Edits",editedBy:"edited by"}}},15819:(e,t,n)=>{n.d(t,{f:()=>a});let i=function(){var e=[{defaultValue:null,kind:"LocalArgument",name:"id"}],t=[{kind:"Variable",name:"id",variableName:"id"}],n={alias:null,args:null,kind:"ScalarField",name:"__typename",storageKey:null},i={alias:null,args:null,kind:"ScalarField",name:"id",storageKey:null};return{fragment:{argumentDefinitions:e,kind:"Fragment",metadata:null,name:"useMarkdownEditHistoryViewerQueryQuery",selections:[{alias:null,args:t,concreteType:null,kind:"LinkedField",name:"node",plural:!1,selections:[{kind:"InlineFragment",selections:[{args:null,kind:"FragmentSpread",name:"MarkdownEditHistoryViewer_comment"},{args:null,kind:"FragmentSpread",name:"MarkdownLastEditedBy"}],type:"Comment",abstractKey:"__isComment"}],storageKey:null}],type:"Query",abstractKey:null},kind:"Request",operation:{argumentDefinitions:e,kind:"Operation",name:"useMarkdownEditHistoryViewerQueryQuery",selections:[{alias:null,args:t,concreteType:null,kind:"LinkedField",name:"node",plural:!1,selections:[n,i,{kind:"InlineFragment",selections:[{alias:null,args:null,kind:"ScalarField",name:"viewerCanReadUserContentEdits",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"lastEditedAt",storageKey:null},{alias:null,args:null,concreteType:"UserContentEdit",kind:"LinkedField",name:"lastUserContentEdit",plural:!1,selections:[{alias:null,args:null,concreteType:null,kind:"LinkedField",name:"editor",plural:!1,selections:[n,{alias:null,args:null,kind:"ScalarField",name:"url",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"login",storageKey:null},i],storageKey:null},i],storageKey:null}],type:"Comment",abstractKey:"__isComment"}],storageKey:null}]},params:{id:"d72649dd9392589f64dd4570b992b900",metadata:{},name:"useMarkdownEditHistoryViewerQueryQuery",operationKind:"query",text:null}}}();i.hash="2ce76c06d4f0c7fc93f5c5de49964950";var r=n(18312);function a({id:e}){let t=(0,r.useLazyLoadQuery)(i,{id:e});return t.node?t.node:null}},41281:(e,t,n)=>{n.d(t,{u:()=>i});let i={codeButton:"code_button",commits:"commits",diffstat:"diffstat",fileTree:"file_tree",header:"header",mergeBox:"merge_box",mergeInstructions:"merge_instructions",pendingReview:"pending_review",statusChecks:"status_checks",tabCounts:"tab_counts",threadPreviews:"thread_previews",viewedFilesCount:"viewed_files_count",viewedFilesCount2:"viewed_files_count2",diffSummaries:"diff_summaries",diffViewUserSettings:"user_diff_view_settings",tableOfContents:"table_of_contents",markers:"markers",diffCollapsedStatus:"diff_collapsed_status",diffContextLines:"diff_context_lines",abandonReview:"abandon_review",changeBase:"change_base",cleanupCodespaces:"cleanup_codespaces",deleteHeadRef:"delete_head_ref",dequeuePullRequest:"dequeue_pull_request",disableAutoMerge:"disable_auto_merge",enableAutoMerge:"enable_auto_merge",dismissReview:"dismiss_review",markReadyForReview:"mark_ready_for_review",merge:"merge",reRequestReviewFromUser:"re_request_review_from_user",restoreHeadRef:"restore_head_ref",runActionRequiredWorkflows:"run_action_required_workflows",submitReview:"submit_review",updatePullRequestBranch:"update_pull_request_branch",updateTitle:"update_title",updateDiffViewUserSettings:"update_diff_view_user_settings",updateViewedFiles:"update_viewed_files"}},86911:(e,t,n)=>{n.d(t,{Js:()=>r,fj:()=>a,qG:()=>i});let i={CONFUSED:"\u{1F615}",EYES:"\u{1F440}",HEART:"\u2764\uFE0F",HOORAY:"\u{1F389}",LAUGH:"\u{1F604}",THUMBS_DOWN:"\u{1F44E}",THUMBS_UP:"\u{1F44D}",ROCKET:"\u{1F680}"};function r(e,t){if(0===e.length||0===t)return"";let n=e.slice(0);if(1===n.length)return n[0];if(2===n.length)return n.join(" and ");t>e.length&&n.push(`${t-e.length} more`);let i=n.pop();return n.push(`${n.pop()} and ${i}`),n.join(", ")}function a(e,t,n,a){return 0===n.length||0===a?"":`${t?"React":"Unreact"} with ${i[e]} (${n.length} ${i[e]} reaction${1===n.length?"":"s"} so far, including ${r(n,a)})`}},70404:(e,t,n)=>{n.d(t,{S:()=>s,s:()=>o});var i=n(21728),r=n(96540),a=n(46988),l=n(50045);function o(){let e,t;let n=(0,i.c)(6),o=(0,r.useContext)(l.I);if(!o)throw Error("useAnalytics must be used within an AnalyticsContext");let{appName:s,category:d,metadata:c}=o;n[0]!==s||n[1]!==d||n[2]!==c?(e=(e,t,n)=>{let i={react:!0,app_name:s,category:d,...c};(0,a.BI)(e,{...i,...void 0===n?{}:n,target:t})},n[0]=s,n[1]=d,n[2]=c,n[3]=e):e=n[3];let u=e;return n[4]!==u?(t={sendAnalyticsEvent:u},n[4]=u,n[5]=t):t=n[5],t}function s(){let e,t;let n=(0,i.c)(4),{sendAnalyticsEvent:r}=o();n[0]!==r?(e=e=>{r("analytics.click",void 0,void 0===e?{}:e)},n[0]=r,n[1]=e):e=n[1];let a=e;return n[2]!==a?(t={sendClickAnalyticsEvent:a},n[2]=a,n[3]=t):t=n[3],t}},58206:(e,t,n)=>{n.d(t,{H:()=>r});var i=n(86365);function r(e,t){let{csrf_tokens:n}=(0,i.B)();return n?.[e]?.[t]}},28448:(e,t,n)=>{n.d(t,{Z:()=>r});var i=n(96540);function r({focusRowRef:e,mouseRowRef:t}){let[n,r]=i.useState(!1);return i.useEffect(()=>{if(e.current&&t.current){let n=()=>{let t=e.current?.querySelector(".PRIVATE_TreeView-item-content-text");t?.scrollWidth!==t?.offsetWidth&&r(!0)};e.current.onfocus=()=>{n()},e.current.onblur=()=>{r(!1)},t.current.onmouseenter=()=>{n()},t.current.onmouseleave=()=>{r(!1)}}},[e,t]),n}},87292:(e,t,n)=>{n.d(t,{L:()=>r});var i=n(96540);function r(e){(0,i.useEffect)(()=>{if(!e)return;let t=document.querySelector(".footer");if(t)return t.hidden=!0,()=>{t.hidden=!1}},[e])}},27068:(e,t,n)=>{n.d(t,{Y:()=>l});var i=n(96540),r=n(35822);let a=e=>e;function l(e){let t=i.useRef({}),n=i.useRef({}),l=(e,n)=>{t.current[e](n)},o=i.useRef(l);o.current=l;let s=i.useRef(new ResizeObserver(e=>{for(let t of e){let e=t.target,n="data-key",i=e.getAttribute(n);if(null===i)throw Error(`Value not found, for '${n}' attribute`);o.current(i,e)}}));i.useEffect(()=>{let e=s.current;return()=>{e.disconnect()}},[]);let{size:d,keyExtractor:c=a}=e,u=i.useMemo(()=>{let e=e=>t=>{n.current[e]&&s.current.unobserve(n.current[e]),t&&(o.current(e,t),s.current.observe(t)),n.current[e]=t},t={};for(let n=0;n<d;n++){let i=c(n);t[i]=e(i)}return t},[d,c]),m=(0,r.z)(e),f=m.virtualItems.map(e=>(t.current[e.key]=e.measureRef,{...e,measureRef:u[e.key]}));return{...m,virtualItems:f}}},72777:(e,t,n)=>{n.d(t,{h:()=>l});var i=n(38568),r=n(96540),a=n(35822);function l({additionalScrollOffset:e=0,scrollToFn:t,horizontal:n,parentRef:l,shouldUseScrollRef:o=!0,useVirtualImpl:s=a.z,...d}){let c=(0,r.useRef)(window),u=(0,r.useCallback)(()=>{let e=l.current?.getBoundingClientRect(),t=e?.top??0,i=e?.left??0;return n?-1*i:-1*t},[n,l]),m=(0,r.useCallback)(t=>{let i=t+((l.current?.getBoundingClientRect().top??0)+window.scrollY)+e;c.current?.scroll({top:n?0:i,left:n?i:0})},[e,n,l]);return s({...d,horizontal:n,parentRef:l,scrollToFn:t||m,onScrollElement:o?c:void 0,scrollOffsetFn:u,useObserver:()=>(function(e){let[t,n]=(0,r.useState)({height:0,width:0}),a=e.current;return(0,i.N)(()=>{if(!a)return;let e=()=>{let e={height:a.innerHeight,width:a.innerWidth};n(t=>t.height!==e.height||t.width!==e.width?e:t)};return e(),a.addEventListener("resize",e),()=>{a.removeEventListener("resize",e)}},[a]),t})(c)})}},70300:(e,t,n)=>{n.d(t,{T:()=>v});var i=n(74848),r=n(21728),a=n(62456),l=n(38621),o=n(75177),s=n(89323),d=n(8338),c=n(67138),u=n(46309),m=n(63867),f=n(65481),h=n(96540),p=n(88764);let g=h.memo(function(e){let t,n,l,o,s;let c=(0,r.c)(17),{user:u,isCurrent:m,onSelect:f,shouldSetAsDiv:h}=e,p=h?"div":"li";c[0]!==f||c[1]!==u?(t=()=>{f&&f(u)},c[0]=f,c[1]=u,c[2]=t):t=c[2];let g=u.primaryAvatarUrl;return c[3]!==u.path?(n=u.path.startsWith("/apps/"),c[3]=u.path,c[4]=n):n=c[4],c[5]!==n||c[6]!==u.primaryAvatarUrl?(l=(0,i.jsx)(d.l.LeadingVisual,{children:(0,i.jsx)(a.r,{src:g,square:n})}),c[5]=n,c[6]=u.primaryAvatarUrl,c[7]=l):l=c[7],c[8]!==u.name?(o=(0,i.jsx)(d.l.Description,{truncate:!0,children:u.name}),c[8]=u.name,c[9]=o):o=c[9],c[10]!==m||c[11]!==p||c[12]!==t||c[13]!==l||c[14]!==o||c[15]!==u.login?(s=(0,i.jsxs)(d.l.Item,{as:p,selected:m,onSelect:t,children:[l,u.login,o]}),c[10]=m,c[11]=p,c[12]=t,c[13]=l,c[14]=o,c[15]=u.login,c[16]=s):s=c[16],s});try{g.displayName||(g.displayName="UserItem")}catch{}function x(e){let t;let n=(0,r.c)(2);return n[0]!==e?(t=e.users.length>20?(0,i.jsx)(b,{...e}):(0,i.jsx)(y,{...e}),n[0]=e,n[1]=t):t=n[1],t}function y(e){let t,n,a;let l=(0,r.c)(12),{users:s,currentUser:d,onSelect:c,sx:u}=e;if(l[0]!==u?(t={maxHeight:330,overflowY:"auto",...u},l[0]=u,l[1]=t):t=l[1],l[2]!==d?.login||l[3]!==c||l[4]!==s){let e;l[6]!==d?.login||l[7]!==c?(e=e=>(0,i.jsx)(g,{user:e,isCurrent:e.login===d?.login,onSelect:c},e.login),l[6]=d?.login,l[7]=c,l[8]=e):e=l[8],n=s.map(e),l[2]=d?.login,l[3]=c,l[4]=s,l[5]=n}else n=l[5];return l[9]!==t||l[10]!==n?(a=(0,i.jsx)(o.A,{sx:t,children:n}),l[9]=t,l[10]=n,l[11]=a):a=l[11],a}function b(e){let t,n,a;let l=(0,r.c)(9),{users:o,currentUser:s,onSelect:d,sx:c}=e;return l[0]!==c?(t={maxHeight:330,overflowY:"auto",...c},l[0]=c,l[1]=t):t=l[1],l[2]!==s?.login||l[3]!==d?(n=e=>(0,i.jsx)(g,{user:e,isCurrent:e.login===s?.login,onSelect:d,shouldSetAsDiv:!0},e.login),l[2]=s?.login,l[3]=d,l[4]=n):n=l[4],l[5]!==t||l[6]!==n||l[7]!==o?(a=(0,i.jsx)(p.F,{items:o,itemHeight:33,sx:t,makeKey:C,renderItem:n}),l[5]=t,l[6]=n,l[7]=o,l[8]=a):a=l[8],a}function C(e){return e.login}try{x.displayName||(x.displayName="UsersList")}catch{}try{y.displayName||(y.displayName="FullUsersList")}catch{}try{b.displayName||(b.displayName="VirtualUsersList")}catch{}function v(e){var t;let n,c,u,m,f,p,g,y,b,C,v,L,D,E,_,A;let I=(0,r.c)(51),{defaultText:R,usersState:T,currentUser:F,onSelect:O,hotKey:M,onOpenChange:U,renderCustomFooter:B,size:$,showTypedInUser:P,width:H,label:V}=e,K=void 0!==P&&P,z=void 0===H?"large":H,G=void 0===V?"":V,[W,q]=(0,h.useState)("");I[0]!==W||I[1]!==K||I[2]!==T.users?(n=function(e,t){if(!e)return[];let n=t.trim().toLowerCase();return n?e.filter(e=>e.login.toLowerCase().includes(n)||e.name?.toLowerCase().includes(n)):e}(T.users,W),c=K&&(t=n,!!W&&(0===t.length||t.length>1||1===t.length&&!!t[0]&&t[0].login.toLowerCase()!==W.toLowerCase())),I[0]=W,I[1]=K,I[2]=T.users,I[3]=n,I[4]=c):(n=I[3],c=I[4]);let Q=c,X=0===n.length&&!Q;return I[5]!==F?(u=(0,i.jsx)("div",{className:"mr-2",children:F?(0,i.jsx)(a.r,{size:16,src:F.primaryAvatarUrl,square:F.path.startsWith("/apps/")}):(0,i.jsx)(l.PeopleIcon,{size:"small",className:"fgColor-muted"})}),I[5]=F,I[6]=u):u=I[6],I[7]===Symbol.for("react.memo_cache_sentinel")?(m={maxWidth:125,overflow:"hidden",textOverflow:"ellipsis",whiteSpace:"nowrap"},I[7]=m):m=I[7],I[8]!==F||I[9]!==R||I[10]!==G?(f=(0,i.jsx)(o.A,{sx:m,children:F?(0,i.jsxs)("span",{children:[G,F.login]}):(0,i.jsx)("span",{children:R})}),I[8]=F,I[9]=R,I[10]=G,I[11]=f):f=I[11],I[12]!==u||I[13]!==f?(p=(0,i.jsxs)("div",{className:"d-flex",children:[u,f]}),I[12]=u,I[13]=f,I[14]=p):p=I[14],I[15]!==M||I[16]!==$||I[17]!==p?(g=(0,i.jsx)(s.W.Button,{"data-hotkey":M,size:$,"data-testid":"user-selector-button",children:p}),I[15]=M,I[16]=$,I[17]=p,I[18]=g):g=I[18],I[19]!==W?(y=(0,i.jsx)(j,{defaultText:W,onFilterChange:q}),I[19]=W,I[20]=y):y=I[20],I[21]===Symbol.for("react.memo_cache_sentinel")?(b=(0,i.jsx)(d.l.Divider,{}),I[21]=b):b=I[21],I[22]!==W||I[23]!==O||I[24]!==Q||I[25]!==X||I[26]!==T.error||I[27]!==T.loading?(C=T.loading?(0,i.jsx)(w,{}):T.error?(0,i.jsx)(N,{}):(0,i.jsxs)(i.Fragment,{children:[X&&(0,i.jsx)(k,{}),Q&&(0,i.jsx)(S,{filterText:W,onSelect:O})]}),I[22]=W,I[23]=O,I[24]=Q,I[25]=X,I[26]=T.error,I[27]=T.loading,I[28]=C):C=I[28],I[29]!==F||I[30]!==n||I[31]!==O||I[32]!==B?(v=n.length>0&&(0,i.jsx)(x,{users:n,currentUser:F,onSelect:O,sx:B?{pb:"10px",pt:1}:{pt:1}}),I[29]=F,I[30]=n,I[31]=O,I[32]=B,I[33]=v):v=I[33],I[34]!==B?(L=B&&(0,i.jsx)(d.l.Divider,{sx:{marginTop:0}}),I[34]=B,I[35]=L):L=I[35],I[36]!==B?(D=B?.(),I[36]=B,I[37]=D):D=I[37],I[38]!==C||I[39]!==v||I[40]!==L||I[41]!==D||I[42]!==y?(E=(0,i.jsxs)(d.l,{showDividers:!0,selectionVariant:"single",children:[y,b,C,v,L,D]}),I[38]=C,I[39]=v,I[40]=L,I[41]=D,I[42]=y,I[43]=E):E=I[43],I[44]!==E||I[45]!==z?(_=(0,i.jsx)(s.W.Overlay,{width:z,children:E}),I[44]=E,I[45]=z,I[46]=_):_=I[46],I[47]!==U||I[48]!==_||I[49]!==g?(A=(0,i.jsx)("div",{children:(0,i.jsxs)(s.W,{onOpenChange:U,children:[g,_]})}),I[47]=U,I[48]=_,I[49]=g,I[50]=A):A=I[50],A}function j(e){let t,n,a,o;let s=(0,r.c)(7),{onFilterChange:u,defaultText:m}=e;return s[0]===Symbol.for("react.memo_cache_sentinel")?(t={px:2},s[0]=t):t=s[0],s[1]===Symbol.for("react.memo_cache_sentinel")?(n={width:"100%"},s[1]=n):n=s[1],s[2]!==u?(a=e=>u(e.target.value),s[2]=u,s[3]=a):a=s[3],s[4]!==m||s[5]!==a?(o=(0,i.jsx)(d.l.Group,{sx:t,children:(0,i.jsx)(c.A,{leadingVisual:l.SearchIcon,value:m,sx:n,placeholder:"Find a user...",onChange:a})}),s[4]=m,s[5]=a,s[6]=o):o=s[6],o}function w(){let e;let t=(0,r.c)(1);return t[0]===Symbol.for("react.memo_cache_sentinel")?(e=(0,i.jsx)(u.B,{justify:"center",className:"p-2",children:(0,i.jsx)(m.A,{size:"medium",srText:"Loading users..."})}),t[0]=e):e=t[0],e}function N(){let e;let t=(0,r.c)(1);return t[0]===Symbol.for("react.memo_cache_sentinel")?(e=(0,i.jsx)(f.A,{variant:"danger",children:"Could not load users"}),t[0]=e):e=t[0],e}function k(){let e;let t=(0,r.c)(1);return t[0]===Symbol.for("react.memo_cache_sentinel")?(e=(0,i.jsx)(u.B,{justify:"center",className:"p-3",children:"Nothing to show"}),t[0]=e):e=t[0],e}function S(e){let t,n,a,l;let o=(0,r.c)(9),{filterText:s,onSelect:c}=e;return o[0]===Symbol.for("react.memo_cache_sentinel")?(t={display:"flex",justifyContent:"center",mb:2},o[0]=t):t=o[0],o[1]!==s||o[2]!==c?(n=()=>{c&&c({login:s,name:s,path:"",primaryAvatarUrl:""})},o[1]=s,o[2]=c,o[3]=n):n=o[3],o[4]!==s?(a=(0,i.jsxs)(i.Fragment,{children:["Filter on author\xa0",(0,i.jsx)("span",{className:"text-bold",children:s})]}),o[4]=s,o[5]=a):a=o[5],o[6]!==n||o[7]!==a?(l=(0,i.jsx)(d.l.Item,{sx:t,onSelect:n,children:a}),o[6]=n,o[7]=a,o[8]=l):l=o[8],l}try{v.displayName||(v.displayName="UserSelector")}catch{}try{j.displayName||(j.displayName="UserFilter")}catch{}try{w.displayName||(w.displayName="Loading")}catch{}try{N.displayName||(N.displayName="LoadingFailed")}catch{}try{k.displayName||(k.displayName="UsersZeroState")}catch{}try{S.displayName||(S.displayName="UsersTypedInUser")}catch{}},38506:(e,t,n)=>{n.d(t,{P:()=>l});var i=n(74848),r=n(75177);let a={reason:"readonly-comment-box-module__reason--CzzUh"};function l({reason:e,icon:t,...n}){return(0,i.jsx)(r.A,{className:"blankslate",sx:{border:"1px solid",borderColor:"neutral.muted",borderRadius:2,backgroundColor:"canvas.default",boxShadow:"shadow.small"},...n,children:(0,i.jsxs)(r.A,{sx:{display:"flex",flexDirection:"column",alignItems:"center",justifyContent:"center",color:"fg.muted"},children:[t&&(0,i.jsx)(t,{size:24}),(0,i.jsx)("div",{className:a.reason,children:e})]})})}try{l.displayName||(l.displayName="ReadonlyCommentBox")}catch{}},81874:(e,t,n)=>{n.d(t,{v:()=>w});var i=n(74848),r=n(62456),a=n(5796),l=n(38621),o=n(52464),s=n(34614),d=n(89169),c=n(75177),u=n(96540),m=n(99582),f=n(14438),h=n(58924),p=n(8489),g=n(22896);let x={MEMBER:"Member",OWNER:"Owner",MANNEQUIN:"Mannequin",COLLABORATOR:"Collaborator",CONTRIBUTOR:"Contributor",FIRST_TIME_CONTRIBUTOR:"First-time contributor",FIRST_TIMER:"First-time GitHub contributor",NONE:""},y={MEMBER:({viewerDidAuthor:e,org:t})=>`${e?"You are":"This user is"} a member of the ${t} organization.`,OWNER:({viewerDidAuthor:e,repo:t})=>`${e?"You are":"This user is"} the owner of the ${t} repository.`,MANNEQUIN:()=>"This is a mannequin user.",COLLABORATOR:({viewerDidAuthor:e,repo:t})=>`${e?"You have":"This user has"} been invited to collaborate on the ${t} repository.`,CONTRIBUTOR:({viewerDidAuthor:e,repo:t})=>`${e?"You have":"This user has"} previously committed to the ${t} repository.`,FIRST_TIME_CONTRIBUTOR:({viewerDidAuthor:e,repo:t})=>`${e?"You are":"This user is"} a first-time contributor to the ${t} repository.`,FIRST_TIMER:({viewerDidAuthor:e})=>`${e?"This is your":"This user's"} first pull request on GitHub.`,NONE:()=>""},b=({association:e,org:t,repo:n,viewerDidAuthor:r})=>{let a=x[e]?e:"NONE";if("NONE"===a)return null;let l=y[a]({viewerDidAuthor:r??!1,org:t,repo:n});return(0,i.jsx)(g.C,{label:x[a],ariaLabel:l,testId:f.Y.commentAuthorAssociation,viewerDidAuthor:r})};try{b.displayName||(b.displayName="CommentAuthorAssociation")}catch{}let C=({viewerDidAuthor:e,subjectType:t})=>(0,i.jsx)(g.C,{viewerDidAuthor:e,ariaLabel:m.k.commentSubjectAuthor(e??!1,t??"comment"),label:m.k.commentAuthor,testId:f.Y.commentSubjectAuthor});try{C.displayName||(C.displayName="CommentSubjectAuthor")}catch{}var v=n(81223);let j=({createdAt:e,owner:t,viewerDidAuthor:n})=>{let r=new Date(e),a=r.toLocaleString("default",{month:"long"}),l=m.k.sponsor(t,`${a} ${r.getFullYear()}`);return(0,i.jsx)(g.C,{label:m.k.sponsorBadge,ariaLabel:l,testId:f.Y.sponsorLabel,viewerDidAuthor:n})};try{j.displayName||(j.displayName="SponsorsBadge")}catch{}function w({actions:e,comment:t,commentAuthorLogin:n,isMinimized:r=!1,avatarUrl:x,lastEditedByMessage:y,editHistoryComponent:w,additionalHeaderMessage:k,sx:S,viewerDidAuthor:L=!1,userAvatar:D=(0,i.jsx)(N,{avatarUrl:x,login:n,isHidden:!!t.pendingMinimizeReason||t.isHidden}),commentSubjectAuthorLogin:E,commentSubjectType:_,isReply:A=!1,headingProps:{as:I,...R}={as:"h3"},commentAuthorType:T,id:F,forceInlineAvatar:O,containerStyle:M,threadCommentCount:U,commentBody:B,isInDialogMode:$=!1}){let P=M||A?{}:{backgroundColor:L?"accent.subtle":"canvas.subtle",borderTopLeftRadius:"6px",borderTopRightRadius:"6px",borderBottom:"1px solid",borderColor:L?"accent.muted":"border.default",borderBottomWidth:r?0:1,py:O?[1,1,2,2]:1,pr:1,pl:3,...S},H=t.pendingMinimizeReason??t.minimizedReason,V=!!H||t.isHidden,K=new Date(t.createdAt),z=(0,i.jsxs)(i.Fragment,{children:[k&&(0,i.jsx)(o.A,{sx:{color:"fg.muted",overflow:"hidden",textOverflow:"ellipsis"},children:k}),(0,i.jsxs)(o.A,{sx:{overflow:"hidden",textOverflow:"ellipsis",color:"fg.muted"},children:[(0,i.jsx)(s.A,{href:t.url,sx:{color:"inherit"},children:(0,i.jsxs)(d.A,{date:K,children:["on ",K.toLocaleDateString("en-US",{month:"short",day:"numeric",year:"numeric"})]})}),t.createdViaEmail&&(0,i.jsx)("span",{children:` ${m.k.sentViaEmail}`})]}),V&&(0,i.jsxs)(o.A,{sx:{color:"fg.muted"},children:[" ","\xb7"," ",H?(0,i.jsxs)("span",{children:[m.k.hiddenCommentWithReason," ",H.replace(/_/g,"-").toLowerCase()]}):(0,i.jsx)("span",{children:m.k.hiddenComment})]}),y&&!V&&(0,i.jsx)(u.Suspense,{children:y})]});return(0,i.jsx)(c.A,{id:F,sx:{display:"flex",justifyContent:"space-between",alignItems:"center",...P},"data-testid":f.Y.commentHeader,children:(0,i.jsxs)(c.A,{className:h.A.activityHeader,sx:{width:"100%",minWidth:0,minHeight:"var(--control-small-size, 28px)",justifyContent:"space-between",alignItems:"stretch",paddingBottom:y||O?0:"var(--base-size-6, 6px)"},children:[(0,i.jsx)(I,{...R,className:"sr-only",children:$?(0,i.jsxs)(i.Fragment,{children:[n,". $",B,". Written at"," ",(0,i.jsxs)(d.A,{date:K,children:[K.toLocaleDateString("en-US",{month:"short",day:"numeric",year:"numeric"})," "]}),". Has $",U," replies. To view replies use ",(0,i.jsx)("kbd",{children:"\u2192"}),"."]}):(0,i.jsxs)(i.Fragment,{children:[n," commented"," ",(0,i.jsxs)(d.A,{date:K,children:["on ",K.toLocaleDateString("en-US",{month:"short",day:"numeric",year:"numeric"})," "]})]})}),(0,i.jsx)(c.A,{className:O?"":p.A.avatarInner,sx:{placeSelf:"center",gridArea:"avatar",display:O?"flex":["flex","flex","none","none"],marginRight:2},children:D}),(0,i.jsxs)(c.A,{className:h.A.narrowViewportWrapper,"data-testid":f.Y.commentHeaderLeftSideItems,sx:{minWidth:0,gridColumnStart:"title",gridColumnEnd:"badges",flexWrap:"wrap",alignItems:"center",flexShrink:1,flexBasis:"auto",columnGap:"0.45ch",paddingTop:1,paddingBottom:1},children:[(0,i.jsx)(c.A,{sx:{gridArea:"title",marginTop:0,alignItems:"center",display:"flex",flexShrink:1,flexBasis:"auto",overflow:"hidden"},children:(0,i.jsx)(s.A,{"data-testid":f.Y.avatarLink,href:`/${"Bot"===T?"apps/":""}${n}`,"data-hovercard-url":(0,a.dCN)({owner:n}),sx:{fontSize:1,color:V?"fg.muted":"fg.default",fontWeight:500,overflow:"hidden",textOverflow:"ellipsis",whiteSpace:"nowrap",alignSelf:"flex-end"},children:n})}),(0,i.jsx)(c.A,{className:h.A.footer,sx:{gridArea:"footer",lineHeight:"1.4"},children:z})]}),(0,i.jsxs)(c.A,{"data-testid":f.Y.commentHeaderRightSideItems,className:h.A.narrowViewportWrapper,sx:{whiteSpace:"nowrap",gridArea:"actions",columnGap:"var(--base-size-4, 4px)",justifyContent:"flex-end",flexShrink:2,flexGrow:1,alignItems:"flex-start"},children:[w&&(0,i.jsx)(c.A,{sx:{gridArea:"edits",display:"flex",justifyContent:"flex-end",overflow:"hidden",flexGrow:1,alignItems:["flex-start","center","center","center"],ml:2},children:w}),(0,i.jsxs)(c.A,{sx:{gridColumnStart:"badges",gridColumnEnd:"actions",display:"flex",columnGap:"var(--base-size-4, 4px)",alignItems:"center",justifyContent:"flex-end",minHeight:"var(--base-size-28, 28px)"},children:[(0,i.jsxs)(c.A,{sx:{display:"flex",justifyContent:"flex-end",alignItems:"center",columnGap:"var(--base-size-8, 8px)",ml:1},children:["PENDING"===t.state&&(0,i.jsx)(g.C,{leadingElement:(0,i.jsx)(l.DotFillIcon,{}),label:"Pending",ariaLabel:"This review comment is pending",testId:"pending-badge",variant:"attention",sx:{mr:1}}),!V&&!r&&t.authorToRepoOwnerSponsorship&&t.authorToRepoOwnerSponsorship.isActive&&(0,i.jsx)(j,{createdAt:t.authorToRepoOwnerSponsorship.createdAt,owner:t.repository.owner.login,viewerDidAuthor:L}),!V&&!r&&t.showSpammyBadge&&(0,i.jsx)(v.b,{}),!t.repository.isPrivate&&!V&&!r&&(0,i.jsx)(b,{association:t.authorAssociation,viewerDidAuthor:L,org:t.repository.owner.login,repo:t.repository.name}),n===E&&(0,i.jsx)(C,{viewerDidAuthor:L,subjectType:_})]}),(0,i.jsx)(c.A,{sx:{display:"flex",columnGap:"var(--base-size-4, 4px)"},children:e})]})]})]})})}function N({avatarUrl:e,login:t,isHidden:n}){return(0,i.jsx)(s.A,{href:`/${t}`,className:p.A.avatarLink,"data-hovercard-url":(0,a.dCN)({owner:t}),"aria-label":`@${t}'s profile`,children:(0,i.jsx)(r.r,{src:e,alt:`@${t}`,size:24,className:n?p.A.hiddenActivityAvatar:p.A.activityAvatar})})}try{w.displayName||(w.displayName="ActivityHeader")}catch{}try{N.displayName||(N.displayName="DefaultAvatar")}catch{}},77433:(e,t,n)=>{n.d(t,{p:()=>b});var i=n(74848),r=n(56176),a=n(3541),l=n(90628),o=n(47584),s=n(38621),d=n(87330),c=n(89323),u=n(8338),m=n(96540),f=n(14438),h=n(86856),p=n(20075),g=n(34517),x=n(32941),y=n(81962);function b({comment:e,commentAuthorLogin:t,editComment:n,onReplySelect:b,isMinimized:C=!1,navigate:v,onMinimize:j,hideComment:w,unhideComment:N,deleteComment:k,commentRef:S}){let[L,D]=(0,m.useState)(!1),[E,_]=(0,m.useState)(null),[A,I]=(0,m.useState)(!1),[R,T]=(0,m.useState)(!1),[F,O]=(0,m.useState)(!1),[M,U]=(0,m.useState)(!1),B=(0,m.useCallback)(n=>`${n.replace(/^(?!>)/gm,"> ")} 

 _Originally posted by @${t} in [${e.referenceText}](${e.url})_`,[e.referenceText,t,e.url]),$=()=>{navigator.clipboard.writeText(e.url)},P=!!e.pendingMinimizeReason||e.isHidden,H=(0,m.useMemo)(()=>P&&!C&&e.viewerCanSeeMinimizeButton?(0,i.jsx)(d.K,{sx:{color:"fg.muted"},"aria-label":"hide comment",variant:"invisible",onClick:()=>j?.(!0),icon:s.FoldIcon,size:"small"}):null,[P,C,j,e.viewerCanSeeMinimizeButton]),V=(0,m.useMemo)(()=>P&&C&&e.viewerCanSeeUnminimizeButton?(0,i.jsx)(d.K,{sx:{color:"fg.muted"},"aria-label":"show comment",variant:"invisible",onClick:()=>j?.(!1),icon:s.UnfoldIcon,size:"small"}):null,[P,C,j,e.viewerCanSeeUnminimizeButton]),K=(0,m.useMemo)(()=>{if(!e.author)return;let n=o.cg?.location.origin;if(!n)return;let i=`content_url=${encodeURIComponent(e.url)}&report=${t}+(user)`;return`${n}/contact/report-content?${i}`},[t,e.author,e.url]),z=(e.viewerCanReport||e.viewerCanReportToMaintainer)&&e.author,G=function(e){let t=e.length>120?`${e.slice(0,120)}... (truncated)`:e;return`Comment actions for comment: "${t}"`}(e.body),W=function(e){let{viewerCanBlockFromOrg:t,pendingBlock:n,hasAuthor:i,pendingUnblock:r}=e;return!!i&&!n&&(!!r||t)}({viewerCanBlockFromOrg:e.viewerCanBlockFromOrg,pendingBlock:!!e.pendingBlock,pendingUnblock:!!e.pendingUnblock,hasAuthor:!!e.author}),q=function(e){let{viewerCanUnblockFromOrg:t,pendingBlock:n,hasAuthor:i,pendingUnblock:r}=e;return!!i&&!r&&(!!n||t)}({viewerCanUnblockFromOrg:e.viewerCanUnblockFromOrg,pendingBlock:!!e.pendingBlock,pendingUnblock:!!e.pendingUnblock,hasAuthor:!!e.author}),Q={isCreateDialogOpen:A,setIsCreateDialogOpen:I,navigate:v,optionConfig:{storageKeyPrefix:e.id,defaultDisplayMode:l.q.IssueCreation,scopedOrganization:e.repository.owner.login,issueCreateArguments:{initialValues:{body:B(e.body)},repository:{name:e.repository.name,owner:e.repository.owner.login}}}};return(0,i.jsxs)(i.Fragment,{children:[A&&(0,i.jsx)(a.or,{...Q}),R&&(0,i.jsx)(x._,{owner:e.repository.owner.login,ownerUrl:e.repository.owner.url,reportUrl:K,contentId:e.id,onClose:()=>T(!1),contentType:"comment"}),F&&e.author&&(0,i.jsx)(p.r,{onClose:()=>O(!1),organization:e.repository.owner,contentId:e.id,contentAuthor:e.author,contentUrl:e.url}),M&&e.author&&(0,i.jsx)(y.o,{onClose:()=>U(!1),organization:e.repository.owner,contentAuthor:e.author,contentId:e.id}),H,V,(0,i.jsxs)(c.W,{open:L,onOpenChange:e=>{if(e){let e=window.getSelection();e&&e.anchorNode?_({anchorNode:e.anchorNode,range:e.getRangeAt(0)}):_(null)}D(e)},children:[(0,i.jsx)(c.W.Anchor,{"data-testid":f.Y.commentHeaderHamburger,children:(0,i.jsx)(d.K,{unsafeDisableTooltip:!0,size:"small",icon:s.KebabHorizontalIcon,variant:"invisible","aria-label":G,sx:{color:"fg.muted"}})}),(0,i.jsx)(c.W.Overlay,{children:(0,i.jsxs)(u.l,{"data-testid":f.Y.commentHeaderHamburgerOpen,children:[(0,i.jsxs)(u.l.Item,{onSelect:()=>$(),children:[(0,i.jsx)(u.l.LeadingVisual,{children:(0,i.jsx)(s.LinkIcon,{})}),"Copy link"]}),(0,r.M3)()&&(0,i.jsxs)(i.Fragment,{children:[(0,i.jsxs)(u.l.Item,{onSelect:()=>{b((0,h.E)(S?.current,E,e.body))},children:[(0,i.jsx)(u.l.LeadingVisual,{children:(0,i.jsx)(s.QuoteIcon,{})}),"Quote reply"]}),(0,i.jsx)(u.l.Divider,{}),(0,i.jsxs)(u.l.Item,{"data-testid":f.Y.commentMenuRefComment,sx:{width:"max-content"},onSelect:()=>I(!0),children:[(0,i.jsx)(u.l.LeadingVisual,{children:(0,i.jsx)(s.IssueOpenedIcon,{})}),"Reference in a new issue"]})]}),(e.viewerCanUpdate||e.viewerCanMinimize||e.viewerCanDelete)&&(0,i.jsx)(u.l.Divider,{}),e.viewerCanUpdate&&(0,i.jsxs)(u.l.Item,{onSelect:()=>n(),children:[(0,i.jsx)(u.l.LeadingVisual,{children:(0,i.jsx)(s.PencilIcon,{})}),"Edit"]}),e.viewerCanMinimize&&!P&&(0,i.jsxs)(c.W,{children:[(0,i.jsx)(c.W.Anchor,{children:(0,i.jsxs)(u.l.Item,{children:[(0,i.jsx)(u.l.LeadingVisual,{children:(0,i.jsx)(s.EyeClosedIcon,{})}),"Hide"]})}),(0,i.jsx)(c.W.Overlay,{children:(0,i.jsx)(u.l,{children:(0,i.jsx)(g.w,{onSelect:w,setMenuOpen:D})})})]}),e.viewerCanMinimize&&P&&(0,i.jsxs)(u.l.Item,{onSelect:N,children:[(0,i.jsx)(u.l.LeadingVisual,{children:(0,i.jsx)(s.EyeIcon,{})})," ","Unhide"]}),e.viewerCanDelete&&(0,i.jsxs)(u.l.Item,{variant:"danger",onSelect:k,children:[(0,i.jsx)(u.l.LeadingVisual,{children:(0,i.jsx)(s.TrashIcon,{})}),"Delete"]}),z&&(0,i.jsxs)(i.Fragment,{children:[(0,i.jsx)(u.l.Divider,{}),e.viewerCanReportToMaintainer?(0,i.jsxs)(u.l.Item,{onSelect:()=>{T(!0)},children:[(0,i.jsx)(u.l.LeadingVisual,{children:(0,i.jsx)(s.ReportIcon,{})}),"Report content"]}):(0,i.jsxs)(u.l.LinkItem,{href:K,target:"_blank",children:[(0,i.jsx)(u.l.LeadingVisual,{children:(0,i.jsx)(s.ReportIcon,{})}),"Report content"]})]}),(W||q)&&!z&&(0,i.jsx)(u.l.Divider,{}),W&&(0,i.jsxs)(u.l.Item,{onSelect:()=>O(!0),children:[(0,i.jsx)(u.l.LeadingVisual,{children:(0,i.jsx)(s.BlockedIcon,{})}),"Block user"]}),q&&(0,i.jsxs)(u.l.Item,{onSelect:()=>U(!0),children:[(0,i.jsx)(u.l.LeadingVisual,{children:(0,i.jsx)(s.BlockedIcon,{})}),"Unblock user"]})]})})]})]})}try{b.displayName||(b.displayName="CommentActions")}catch{}},22896:(e,t,n)=>{n.d(t,{C:()=>o});var i=n(74848),r=n(2668),a=n(47139),l=n(96540);let o=({label:e,ariaLabel:t,testId:n,viewerDidAuthor:o,variant:s,leadingElement:d})=>{let c=l.useRef(null),[u,m]=(0,r.B)({contentRef:c,"aria-label":t});return(0,i.jsxs)(a.A,{variant:s||"secondary","data-testid":n,"aria-label":t,ref:c,sx:o?{borderColor:"accent.muted"}:{},...u,children:[d,e,m]})};try{o.displayName||(o.displayName="CommentHeaderBadge")}catch{}},88771:(e,t,n)=>{n.d(t,{z:()=>a});var i=n(74848),r=n(75177);let a=({onClick:e,id:t,children:n})=>(0,i.jsx)(r.A,{as:"button",type:"button",id:t,sx:{display:"flex",flexDirection:"row",alignItems:"center",justifyContent:"left",fontWeight:400,color:"fg.muted",width:"100%",backgroundColor:"canvas.default",border:"1px solid",borderColor:"border.default",cursor:"text",borderRadius:2,height:"var(--control-medium-size)",lineHeight:"var(--text-body-lineHeight-medium)",px:2},onClick:e,children:n});try{a.displayName||(a.displayName="CompactCommentButton")}catch{}},81223:(e,t,n)=>{n.d(t,{b:()=>o});var i=n(74848),r=n(99582),a=n(14438),l=n(22896);let o=()=>(0,i.jsx)(l.C,{variant:"danger",ariaLabel:r.k.spammyBadgeTooltip,label:r.k.spammyBadge,testId:a.Y.spammyLabel});try{o.displayName||(o.displayName="SpammyBadge")}catch{}},20075:(e,t,n)=>{n.d(t,{r:()=>C});var i=n(74848),r=n(73218),a=n(16255),l=n(75177),o=n(89323),s=n(8338),d=n(73451),c=n(65607),u=n(52464),m=n(55847),f=n(91246),h=n(96540),p=n(18312),g=n(69487);let x=function(){var e=[{defaultValue:null,kind:"LocalArgument",name:"input"}],t=[{alias:null,args:[{kind:"Variable",name:"input",variableName:"input"}],concreteType:"BlockUserFromOrganizationPayload",kind:"LinkedField",name:"blockUserFromOrganization",plural:!1,selections:[{alias:null,args:null,kind:"ScalarField",name:"clientMutationId",storageKey:null}],storageKey:null}];return{fragment:{argumentDefinitions:e,kind:"Fragment",metadata:null,name:"blockUserFromOrganizationMutation",selections:t,type:"Mutation",abstractKey:null},kind:"Request",operation:{argumentDefinitions:e,kind:"Operation",name:"blockUserFromOrganizationMutation",selections:t},params:{id:"cc2dfdd4807633d71341d55e85bdcec5",metadata:{},name:"blockUserFromOrganizationMutation",operationKind:"mutation",text:null}}}();x.hash="1cc6b979024f82ac249a77676892c1f0";var y=n(34517);let b={ONE_DAY:"For 1 day",THREE_DAYS:"For 3 days",SEVEN_DAYS:"For 7 days",THIRTY_DAYS:"For 30 days",INDEFINITE:"Until I unblock them"},C=({onClose:e,...t})=>{let[n,r]=(0,h.useState)("INDEFINITE"),[m,p]=(0,h.useState)(!0),[g,x]=(0,h.useState)(!1),[C,N]=(0,h.useState)(void 0),k=t.contentAuthor.login;return(0,i.jsx)(a.Z,{children:(0,i.jsx)(f.l,{renderHeader:()=>(0,i.jsx)(j,{onClose:e,...t}),renderFooter:()=>(0,i.jsx)(w,{onClose:e,...t,notifyBlockedUser:m,hideComment:g,duration:n,hiddenReason:C}),sx:{width:"100%",margin:4,maxWidth:"640px",maxHeight:"clamp(315px, 80vh, 800px)"},width:"xlarge",height:"auto",onClose:e,children:(0,i.jsxs)(l.A,{sx:{display:"flex",flexDirection:"column",justifyContent:"space-between",gap:2},children:[(0,i.jsx)(l.A,{sx:{display:"flex",flexDirection:"row"},children:(0,i.jsx)("div",{children:(0,i.jsxs)("span",{children:["Blocking a user prevents them from interacting with repositories of this organization, such as opening or commenting on pull requests or issues. Learn more about"," ",(0,i.jsx)("a",{href:"https://docs.github.com/communities/maintaining-your-safety-on-github/blocking-a-user-from-your-organization",children:"blocking a user."})]})})}),(0,i.jsx)(l.A,{sx:{display:"flex",flexDirection:"row"},children:(0,i.jsxs)(o.W,{children:[(0,i.jsxs)(o.W.Button,{children:["Block a user: ",b[n]]}),(0,i.jsx)(o.W.Overlay,{children:(0,i.jsx)(s.l,{selectionVariant:"single",children:(0,i.jsxs)(s.l.Group,{children:[(0,i.jsx)(s.l.GroupHeading,{children:"Block options"}),Object.keys(b).map(e=>(0,i.jsx)(s.l.Item,{onSelect:()=>{r(e)},selected:e===n,children:b[e]},e))]})})})]})}),(0,i.jsx)(v,{}),(0,i.jsx)("h4",{children:"More options"}),(0,i.jsxs)(d.A,{sx:{mt:1},children:[(0,i.jsx)(c.A,{checked:m,onChange:()=>p(!m),"aria-checked":m}),(0,i.jsx)(d.A.Label,{children:"Send user a notification and show activity in timeline"}),(0,i.jsx)(d.A.Caption,{children:(0,i.jsxs)(u.A,{sx:{color:"fg.subtle",fontSize:12},children:["You can notify ",(0,i.jsx)("b",{children:k})," as to why they're being blocked. A public timeline entry will show that this user was blocked. They will receive an email notification and a notice when they try to comment with the following message:",(0,i.jsx)(l.A,{sx:{mt:1,ml:2},children:(0,i.jsxs)("blockquote",{children:["A maintainer of the @",t.organization.login," organization has blocked you because of"," ",(0,i.jsx)("a",{href:t.contentUrl,children:"this content"}),". For more information please see"," ",(0,i.jsx)("a",{href:"https://docs.github.com/site-policy/github-terms/github-community-guidelines",children:"the community guidelines"}),"."]})})]})})]}),(0,i.jsxs)(d.A,{children:[(0,i.jsx)(c.A,{checked:g,onChange:()=>x(!g),"aria-checked":g}),(0,i.jsx)(d.A.Label,{children:"Hide this user's comments"}),(0,i.jsx)(d.A.Caption,{children:(0,i.jsxs)(u.A,{sx:{color:"fg.subtle",fontSize:12},children:["All of their comments in this organization"," ",(0,i.jsx)("a",{href:"https://docs.github.com/communities/moderating-comments-and-conversations/managing-disruptive-comments#hiding-a-comment",children:"will be hidden"})," ","to all users and will display a reason."]})})]}),(0,i.jsx)(l.A,{sx:{ml:4},children:(0,i.jsxs)(o.W,{children:[(0,i.jsx)(o.W.Button,{children:(C&&y.n[C])??"Choose a reason"}),(0,i.jsx)(o.W.Overlay,{children:(0,i.jsx)(s.l,{selectionVariant:"single",children:(0,i.jsx)(y.w,{onSelect:N})})})]})})]})})})},v=()=>(0,i.jsx)(l.A,{sx:{height:"1px",backgroundColor:"fg.subtle",margin:"8px 0"}}),j=({contentAuthor:e,organization:t,onClose:n})=>(0,i.jsx)(f.l.Header,{children:(0,i.jsxs)(l.A,{sx:{display:"flex"},children:[(0,i.jsx)(l.A,{sx:{display:"flex",flexDirection:"column",flexGrow:1,px:2,py:"6px"},children:(0,i.jsxs)(f.l.Title,{children:["Block ",e.login," from ",t.login]})}),(0,i.jsx)(f.l.CloseButton,{onClose:n})]})}),w=({organization:e,contentAuthor:t,contentId:n,notifyBlockedUser:a,hideComment:l,duration:o,hiddenReason:s,onClose:d})=>{let c=(0,p.useRelayEnvironment)(),u=(0,h.useCallback)(()=>{!function({environment:e,input:{organizationId:t,blockedUserId:n,duration:i,notifyBlockedUser:r,hiddenReason:a,contentId:l},onError:o,onCompleted:s}){let d={organizationId:t,blockedUserId:n,duration:i,notifyBlockedUser:r,contentId:l};a&&(d={...d,hiddenReason:a}),(0,p.commitMutation)(e,{mutation:x,variables:{input:d},onError:e=>o&&o(e),onCompleted:()=>{s?.()}})}({environment:c,input:{organizationId:e.id,contentId:n,blockedUserId:t.id,duration:o,hiddenReason:l&&s?s:void 0,notifyBlockedUser:a},onError:r.l,onCompleted:()=>(0,g.commitLocalUpdate)(c,e=>{let t=e.get(n);t?.setValue(!1,"pendingUnblock"),t?.setValue(!0,"pendingBlock"),s&&t?.setValue(s,"pendingMinimizeReason")})}),d()},[c,e.id,n,t.id,o,l,s,a,d]);return(0,i.jsx)(f.l.Footer,{children:(0,i.jsx)(m.Q,{sx:{width:"100%"},variant:"danger",disabled:l&&!s,onClick:u,children:"Block user from organization"})})};try{C.displayName||(C.displayName="BlockUserFromOrgDialog")}catch{}try{v.displayName||(v.displayName="DialogDivider")}catch{}try{j.displayName||(j.displayName="BlockUserFromOrgDialogHeader")}catch{}try{w.displayName||(w.displayName="BlockUserFromOrgDialogFooter")}catch{}},34517:(e,t,n)=>{n.d(t,{n:()=>a,w:()=>l});var i=n(74848),r=n(8338);let a={SPAM:"Spam",ABUSE:"Abuse",OFF_TOPIC:"Off-topic",OUTDATED:"Outdated",DUPLICATE:"Duplicate",RESOLVED:"Resolved"},l=({setMenuOpen:e,onSelect:t})=>(0,i.jsx)(i.Fragment,{children:Object.keys(a).map(n=>(0,i.jsx)(r.l.Item,{"aria-label":`Hide comment as ${a[n]}`,onSelect:()=>{t(n),e?.(!1)},children:a[n]},n))});try{l.displayName||(l.displayName="HideCommentActionItems")}catch{}},32941:(e,t,n)=>{n.d(t,{_:()=>b});var i=n(74848),r=n(67136),a=n(75177),l=n(34614),o=n(89323),s=n(8338),d=n(55847),c=n(16255),u=n(89015),m=n(73451),f=n(15198),h=n(91246),p=n(96540),g=n(18312);let x=function(){var e=[{defaultValue:null,kind:"LocalArgument",name:"input"}],t=[{alias:null,args:[{kind:"Variable",name:"input",variableName:"input"}],concreteType:"SubmitAbuseReportPayload",kind:"LinkedField",name:"submitAbuseReport",plural:!1,selections:[{alias:null,args:null,kind:"ScalarField",name:"clientMutationId",storageKey:null}],storageKey:null}];return{fragment:{argumentDefinitions:e,kind:"Fragment",metadata:null,name:"submitAbuseReportMutation",selections:t,type:"Mutation",abstractKey:null},kind:"Request",operation:{argumentDefinitions:e,kind:"Operation",name:"submitAbuseReportMutation",selections:t},params:{id:"0603fe0f6dabc68adea31e484c57deb7",metadata:{},name:"submitAbuseReportMutation",operationKind:"mutation",text:null}}}();x.hash="8b252221b8eab001809aa2a2d583cb84";let y={RadioGroup_Label:"ReportContentDialog-module__RadioGroup_Label--IfGFf"},b=({owner:e,ownerUrl:t,reportUrl:n,contentId:b,onClose:C,contentType:v="content"})=>{let j=(0,g.useRelayEnvironment)(),{addToast:w}=(0,r.Y6)(),[N,k]=(0,p.useState)("Choose a reason"),[S,L]=(0,p.useState)(!1),[D,E]=(0,p.useState)("admins"),_=(0,p.useCallback)(()=>{L(!0),function({environment:e,input:{reportedContentId:t,reason:n},onError:i,onCompleted:r}){(0,g.commitMutation)(e,{mutation:x,variables:{input:{reportedContent:t,reason:n}},onError:e=>i&&i(e),onCompleted:()=>r&&r()})}({environment:j,input:{reportedContentId:b,reason:"Choose a reason"===N?"UNSPECIFIED":N},onError(e){w({type:"error",message:`Unable to submit report: ${e}`}),L(!1)},onCompleted(){w({type:"success",message:"Report submitted"}),L(!1),C()}})},[w,b,j,C,N]),A=(0,i.jsxs)(a.A,{sx:{display:"flex",flexDirection:"column"},children:[(0,i.jsxs)("div",{children:[(0,i.jsxs)("p",{children:[(0,i.jsxs)("span",{children:["This ",v," violates "]}),(0,i.jsx)(l.A,{href:t,children:`@${e}'s `}),(0,i.jsx)("span",{children:"Code of Conduct and should be submitted to the maintainers of this repository for review."})]}),(0,i.jsx)("p",{children:"This report, as well as your username as the reporter, will be viewable by all admins of this repository."}),(0,i.jsxs)("p",{children:["Choose a reason for reporting this ",v]})]}),(0,i.jsx)(a.A,{sx:{marginTop:"8px",marginBottom:"16px"},children:(0,i.jsxs)(o.W,{children:[(0,i.jsx)(o.W.Button,{children:N}),(0,i.jsx)(o.W.Overlay,{children:(0,i.jsxs)(s.l,{children:[(0,i.jsx)(s.l.Item,{onSelect:()=>k("ABUSE"),children:"Abuse"}),(0,i.jsx)(s.l.Item,{onSelect:()=>k("SPAM"),children:"Spam"}),(0,i.jsx)(s.l.Item,{onSelect:()=>k("OFF_TOPIC"),children:"Off Topic"})]})})]})}),(0,i.jsxs)(a.A,{sx:{marginTop:"8px"},children:[(0,i.jsxs)(a.A,{sx:{fontSize:"12px",color:"fg.muted"},children:[(0,i.jsx)("span",{children:"Learn more about "}),(0,i.jsx)(l.A,{href:"https://docs.github.com/articles/reporting-abuse-or-spam",children:"requesting that maintainers moderate content."})]}),(0,i.jsx)(d.Q,{sx:{marginTop:"30px",width:"100%"},variant:"danger",onClick:()=>_(),disabled:S,children:"Report to repository admins"})]})]}),I=(0,i.jsxs)(a.A,{sx:{display:"flex",flexDirection:"column"},children:[(0,i.jsx)("span",{children:"Contact GitHub Support about this user's spammy or abusive behavior."}),(0,i.jsxs)(a.A,{sx:{marginTop:"12px"},children:[(0,i.jsxs)(a.A,{sx:{marginTop:"auto",fontSize:"12px",color:"fg.muted"},children:[(0,i.jsx)("span",{children:"Learn more about "}),(0,i.jsx)(l.A,{href:"https://docs.github.com/articles/reporting-abuse-or-spam",children:"reporting abuse to GitHub support"})]}),(0,i.jsx)(d.Q,{sx:{width:"100%",marginTop:"30px"},variant:"danger",as:"a",href:n,disabled:S,children:"Report abuse to GitHub support"})]})]});return(0,i.jsx)(c.Z,{children:(0,i.jsx)(h.l,{renderHeader:()=>(0,i.jsx)(h.l.Header,{children:(0,i.jsxs)(a.A,{sx:{display:"flex"},children:[(0,i.jsx)(a.A,{sx:{display:"flex",flexDirection:"column",flexGrow:1,px:2,py:"6px"},children:(0,i.jsxs)(h.l.Title,{children:["Report ",v]})}),(0,i.jsx)(h.l.CloseButton,{onClose:C})]})}),sx:{width:"100%",margin:4,maxWidth:"640px",maxHeight:"clamp(315px, 80vh, 800px)"},width:"xlarge",height:"auto",onClose:C,children:(0,i.jsxs)(a.A,{sx:{gap:3,display:"grid"},children:[(0,i.jsxs)(u.A,{name:"choiceGroup",onChange:e=>{E(e)},children:[(0,i.jsxs)(u.A.Label,{className:y.RadioGroup_Label,children:["Where would you like to report this ",v," to?"]}),(0,i.jsxs)(m.A,{children:[(0,i.jsx)(f.A,{value:"admins",defaultChecked:!0}),(0,i.jsx)(m.A.Label,{children:"To repository admins"})]}),(0,i.jsxs)(m.A,{children:[(0,i.jsx)(f.A,{value:"support"}),(0,i.jsx)(m.A.Label,{children:"To GitHub support"})]})]}),"admins"===D&&A,"support"===D&&I]})})})};try{b.displayName||(b.displayName="ReportContentDialog")}catch{}},81962:(e,t,n)=>{n.d(t,{o:()=>d});var i=n(74848),r=n(53526),a=n(96540),l=n(18312),o=n(69487);let s=function(){var e=[{defaultValue:null,kind:"LocalArgument",name:"input"}],t=[{alias:null,args:[{kind:"Variable",name:"input",variableName:"input"}],concreteType:"UnblockUserFromOrganizationPayload",kind:"LinkedField",name:"unblockUserFromOrganization",plural:!1,selections:[{alias:null,args:null,kind:"ScalarField",name:"clientMutationId",storageKey:null}],storageKey:null}];return{fragment:{argumentDefinitions:e,kind:"Fragment",metadata:null,name:"unblockUserFromOrganizationMutation",selections:t,type:"Mutation",abstractKey:null},kind:"Request",operation:{argumentDefinitions:e,kind:"Operation",name:"unblockUserFromOrganizationMutation",selections:t},params:{id:"3bb2b18124f6d9e474f1e4d67f4d648c",metadata:{},name:"unblockUserFromOrganizationMutation",operationKind:"mutation",text:null}}}();s.hash="05b84828fae0f7858c1ccd7347bfbb3e";let d=({contentAuthor:e,organization:t,onClose:n,contentId:d})=>{let c=(0,l.useRelayEnvironment)(),u=(0,a.useCallback)(i=>{"confirm"===i&&function({environment:e,input:{organizationId:t,unblockedUserId:n},onError:i,onCompleted:r}){(0,l.commitMutation)(e,{mutation:s,variables:{input:{organizationId:t,unblockedUserId:n}},onError:e=>i&&i(e),onCompleted:()=>{r?.()}})}({environment:c,input:{unblockedUserId:e.id,organizationId:t.id},onCompleted:()=>(0,o.commitLocalUpdate)(c,e=>{let t=e.get(d);t?.setValue(!0,"pendingUnblock"),t?.setValue(!1,"pendingBlock")})}),n()},[n,c,e.id,t.id,d]);return(0,i.jsxs)(r.K,{title:`Unblock ${e.login} from ${t.login}`,confirmButtonContent:"Unblock user",confirmButtonType:"danger",onClose:u,children:["Are you sure you want to unblock ",(0,i.jsx)("strong",{children:e.login})," from ",(0,i.jsx)("strong",{children:t.login}),"?"]})};try{d.displayName||(d.displayName="UnblockUserFromOrgDialog")}catch{}},71238:(e,t,n)=>{n.d(t,{d:()=>a});var i=n(74848),r=n(76373);function a({status:e,oid:t,repo:n,badgeProps:a={},descriptionString:l=""}){let[o,s]=(0,r.ym)(t,n);return e?(0,i.jsx)(r.B6,{disablePopover:!1,size:"small",statusRollup:e,buttonSx:{height:"18px",color:"fg.muted",p:"2px"},combinedStatus:o,descriptionText:l,onWillOpenPopup:s,...a}):null}try{a.displayName||(a.displayName="AsyncChecksStatusBadge")}catch{}},41658:(e,t,n)=>{n.d(t,{N:()=>ei,$:()=>er});var i=n(74848),r=n(96540),a=n(76235),l=n(17908),o=n(46636),s=n(47584),d=n(38621),c=n(65481),u=n(55847),m=n(12528),f=n(20053),h=n(5189),p=n(74779);let g={"commit-discussion-comments":"Comment-module__commit-discussion-comments--WaMOe","discussion-comments-rose":"Comment-module__discussion-comments-rose--v1SXb"};var x=n(16497),y=n(34407);let b=()=>(0,i.jsx)("div",{className:"d-flex gap-2",children:(0,i.jsx)("div",{className:"flex-1 border overflow-x-auto rounded-2 borderColor-muted color-shadow-small",children:(0,i.jsxs)("div",{className:"d-flex flex-column gap-2 m-3",children:[(0,i.jsxs)("div",{className:"d-flex flex-items-center gap-2",children:[(0,i.jsx)(y.O,{variant:"elliptical",height:"xl",width:"xl"}),(0,i.jsx)(y.O,{variant:"rounded",height:"sm",width:"150px"})]}),[void 0,void 0].map((e,t)=>(0,i.jsx)(y.O,{variant:"rounded",height:"sm",width:"random"},t)),(0,i.jsx)(x.e,{})]})})});try{b.displayName||(b.displayName="CommentLoading")}catch{}var C=n(81874),v=n(77433),j=n(63269),w=n(31786),N=n(15819),k=n(83476),S=n(82599),L=n(79740),D=n(74493),E=n(55833),_=n(17080),A=n(31402),I=n(82431),R=n(38568);let T=(0,r.forwardRef)(({initialMarkdown:e,onCancel:t,onSave:n,referenceId:a,buttonText:l,commentContent:o},s)=>{let[d,c]=(0,r.useState)(!1),u=(0,r.useRef)(null),m=(0,r.useRef)(void 0),f=(0,r.useCallback)(()=>{},[]),{markdownBody:h,resetMarkdownBody:p,markdownValidationResult:g,handleMarkdownBodyChanged:x}=(0,A.x)({commentBoxRef:u,markdownComposerRef:s,onChange:f,onCancel:()=>{},referenceId:a});(0,r.useEffect)(()=>{e&&!h&&x(e)},[e]),(0,r.useEffect)(()=>{if(o&&m.current!==o){x(o),m.current=o;let e=window.setTimeout(()=>{u.current&&(u.current?.scrollIntoView(),u.current?.focus())},0);return()=>{window.clearTimeout(e)}}},[o]),(0,R.N)(()=>{if(u&&u.current){let e=window.setTimeout(()=>{u.current?.focus()},0);return()=>{window.clearTimeout(e)}}},[u]);let y=async()=>{c(!0),await n(h,p),c(!1)},b=(0,I.nN)()||void 0;return(0,i.jsx)(_.h,{ref:u,validationResult:g,disabled:d,onChange:e=>{x(e)},onCancel:()=>{x(""),t?.()},onSave:y,saveButtonText:l,saveButtonTrailingIcon:!1,value:h,teamHovercardsEnabled:!0,fileUploadsEnabled:!0,userSettings:(0,L.X)().commentBoxConfig,subject:b})});function F({comment:e,commitOid:t,onCancel:n,onUpdate:a}){let{editComment:l}=(0,L.X)(),o=(0,r.useRef)(null),s=async t=>{let n=await l(t,e);n.updatedFields&&a({...e,...n.updatedFields})};return(0,i.jsx)(T,{commitOid:t,initialMarkdown:e.body,ref:o,onSave:s,onCancel:n,referenceId:`${t}-${e.id}`,buttonText:"Update comment"})}T.displayName="CommitCommentEditor";try{F.displayName||(F.displayName="UpdateCommitComment")}catch{}function O({comments:e,commit:t,locked:n,deleteComment:r,updateComment:a,setNewCommentContent:l}){return 0===e.length?null:(0,i.jsx)("div",{className:"d-flex flex-column gap-3",children:e.map(e=>(0,i.jsx)(M,{comment:e,commit:t,locked:n,deleteComment:r,updateComment:a,setNewCommentContent:l},e.id))})}function M({comment:e,commit:t,locked:n,deleteComment:a,updateComment:o,setNewCommentContent:s}){let d=(0,l.t)(),[c,u]=(0,r.useState)(!1),[m,f]=(0,r.useState)(e.isHidden),h=(0,r.useRef)(null),{deleteComment:p,hideComment:g,unhideComment:y}=(0,L.X)(),b=async()=>{let t=await p(e.id.toString());"canceled"!==t&&"error"!==t&&"success"===t&&a(e.id)},C=async t=>{let n=await g(e.id.toString(),t);"error"!==n&&"success"===n&&(o({...e,isHidden:!0,minimizedReason:t}),f(!0))},v=async()=>{let t=await y(e.id.toString());"error"!==t&&"success"===t&&(o({...e,isHidden:!1,minimizedReason:null}),f(!1))},j=t.authors.length>0?t.authors[0]?.login:"",w={...(0,D.p)(e,t,d),referenceText:(0,E.F)(t.oid)};return(0,i.jsxs)("div",{className:"border rounded-2",ref:h,id:e.urlFragment,tabIndex:-1,children:[(0,i.jsx)(U,{comment:w,commentAuthorLogin:e.author.login,commentSubjectAuthorLogin:j,commentSubjectType:"commit",avatarUrl:e.author.avatarUrl,isMinimized:m,editComment:()=>{u(!0)},onReplySelect:s,onMinimize:f,navigate:()=>{},hideComment:C,unhideComment:v,deleteComment:b,commentRef:h,showEditHistory:e.viewerCanReadUserContentEdits&&!!e.lastUserContentEdit,commitComment:e}),m?null:c?(0,i.jsx)("div",{className:"m-2",children:(0,i.jsx)(F,{comment:e,commitOid:t.oid,onUpdate:e=>{o(e),u(!1)},onCancel:()=>u(!1)})}):(0,i.jsxs)("div",{className:"d-flex flex-column m-3 gap-3",style:{gap:"12px"},children:[(0,i.jsx)("div",{className:"markdown-body","data-turbolinks":"false",children:(0,i.jsx)(k.G,{disabled:!1,verifiedHTML:e.htmlBody,markdownValue:e.body,onChange:()=>{},onLinkClick:()=>{},teamHovercardsEnabled:!0})}),(0,i.jsx)(r.Suspense,{fallback:(0,i.jsx)(x.e,{}),children:(0,i.jsx)(S.ReactionViewerRelayQueryComponent,{id:e.relayId,subjectLocked:n})})]})]})}function U({hideActions:e,...t}){let n,a;let l=t.commitComment;return t.showEditHistory&&(n=(0,i.jsx)(r.Suspense,{fallback:null,children:(0,i.jsx)(B,{id:l.relayId})}),a=(0,i.jsx)($,{id:t.comment.id})),(0,i.jsx)(C.v,{lastEditedByMessage:a,editHistoryComponent:n,forceInlineAvatar:!0,...t,actions:e?void 0:(0,i.jsx)(v.p,{...t})})}function B({id:e}){let t=(0,N.f)({id:e});return t?(0,i.jsx)(j.W,{editHistory:t}):null}function $({id:e}){let t=(0,N.f)({id:e});return t?(0,i.jsx)(w._,{editInformation:t}):null}try{O.displayName||(O.displayName="ExistingCommitComments")}catch{}try{M.displayName||(M.displayName="ExistingCommitComment")}catch{}try{U.displayName||(U.displayName="CommitCommentHeader")}catch{}try{B.displayName||(B.displayName="CommitCommentHeaderEditHistory")}catch{}try{$.displayName||($.displayName="CommitCommentHeaderLastEditedBy")}catch{}var P=n(5796),H=n(38359),V=n(57572),K=n(91246);function z({commitOid:e,locked:t,onClose:n}){let a=(0,l.t)(),{helpUrl:o}=(0,H.X)(),[s,d]=(0,r.useState)(!1),u=t?"Unlock":"Lock",m=async()=>{(await (0,V.DI)(`${(0,P.$Qz)({owner:a.ownerLogin,repo:a.name,commitish:e})}/lock`,{method:"PUT",headers:{Accept:"application/json"}})).ok?n(!0):d(!0)},f=async()=>{(await (0,V.lS)(`${(0,P.$Qz)({owner:a.ownerLogin,repo:a.name,commitish:e})}/unlock`,{method:"PUT",headers:{Accept:"application/json"}})).ok?n(!1):d(!0)};return(0,i.jsxs)(K.l,{onClose:()=>n(),width:"large",title:`${u} conversation on this commit`,footerButtons:[{content:`${u} conversation`,buttonType:"danger",sx:{width:"100%"},onClick:t?f:m}],children:[s&&(0,i.jsxs)(c.A,{className:"mb-2",variant:"danger",children:["There was an error ",u.toLocaleLowerCase(),"ing this conversation. Please try again."]}),(0,i.jsxs)("p",{children:[u,"ing the conversation means:"]}),(0,i.jsx)("ul",{className:"ml-4",children:t?(0,i.jsxs)("li",{children:[(0,i.jsx)("strong",{children:"Everyone"})," will be able to comment on this commit once more."]}):(0,i.jsxs)(i.Fragment,{children:[(0,i.jsxs)("li",{children:["Other users ",(0,i.jsx)("strong",{children:"can\u2019t add new comments"})," to this commit."]}),a.isOrgOwned?(0,i.jsxs)("li",{children:["You and other members of teams with\xa0",(0,i.jsx)("a",{href:`${o}/articles/what-are-the-different-access-permissions`,children:"write access"}),"\xa0 to this repository ",(0,i.jsx)("strong",{children:"can still leave comments"})," that others can see."]}):(0,i.jsxs)("li",{children:["You and other collaborators\xa0",(0,i.jsx)("a",{href:"<%= GitHub.help_url %>/articles/what-are-the-different-access-permissions",children:"with access"}),"\xa0to this repository ",(0,i.jsx)("strong",{children:"can still leave comments"})," that others can see."]})]})}),(0,i.jsxs)("p",{className:"mb-0 mt-2",children:["You can always ",t?"lock":"unlock"," this commit again in the future."]})]})}try{z.displayName||(z.displayName="LockConversationDialog")}catch{}var G=n(56176),W=n(38506),q=n(68310),Q=n(88771),X=n(52655),Y=n(62456);function J({commitOid:e,onAddComment:t,onExpandCommentEditor:n,newCommentContent:a,canComment:l,locked:o,repoArchived:c,avatarURL:u}){let m=(0,G.M3)(),{addComment:f}=(0,L.X)(),h=(0,r.useRef)(null),p=async(e,n)=>{let i=await f(e);i.comment&&(t(i.comment),n())},g=(0,q.i)(c,o,m?void 0:(0,i.jsx)(ee,{redirectUrl:s.fV?.href}),"commit");return(0,i.jsx)("div",{className:"d-flex flex-column gap-2 pt-3",children:l?(0,i.jsx)(Z,{commitOid:e,commentEditor:h,onExpandEditor:n,onSave:p,newCommentContent:a,avatarURL:u||X.t.ghostUser.avatarUrl}):(0,i.jsx)(W.P,{icon:d.LockIcon,reason:g})})}function Z(e){let[t,n]=(0,r.useState)(()=>void 0!==e.newCommentContent),[l,o]=(0,r.useState)(e.newCommentContent);t||void 0===e.newCommentContent||l===e.newCommentContent||(n(!0),o(e.newCommentContent));let s="Comment";return t?(0,i.jsx)("div",{id:a.Bq.issueCommentComposer,children:(0,i.jsx)(T,{commitOid:e.commitOid,ref:e.commentEditor,onSave:e.onSave,referenceId:`new-discussion-comment-${e.commitOid}`,commentContent:e.newCommentContent,initialMarkdown:e.newCommentContent,buttonText:s,onCancel:()=>{n(!1)}})}):(0,i.jsxs)("div",{id:a.Bq.issueCommentComposer,className:"d-flex flex-items-center border rounded-2 p-2 gap-2 color-bg-subtle",children:[(0,i.jsx)(Y.r,{src:e.avatarURL,size:20}),(0,i.jsx)(Q.z,{onClick:()=>{n(!0),e.onExpandEditor?.()},children:s})]})}function ee({redirectUrl:e}){return(0,i.jsxs)("span",{children:["Please ",(0,i.jsx)("a",{href:e?`/login?return_to=${e}`:"/login",children:"sign in"})," to comment."]})}try{J.displayName||(J.displayName="NewCommitComment")}catch{}try{Z.displayName||(Z.displayName="CompactEditor")}catch{}try{ee.displayName||(ee.displayName="LoggedOutMessage")}catch{}var et=n(58206);let en=(0,r.forwardRef)(({commitOid:e,subscribed:t},n)=>{let a;let[o,s]=(0,r.useState)(t),[c,m]=(0,r.useState)(!1),f=(0,l.t)(),h=(0,et.H)("/notifications/thread","post");a=c?`You're now ${o?"subscribed":"unsubscribed"} to this thread.`:o?"You're receiving notifications because you're subscribed to this thread.":"You're not receiving notifications from this thread.";let p=async()=>{let t=new FormData;t.append("repository_id",f.id.toString()),t.append("thread_id",e),t.append("thread_class","Commit"),t.append("id",o?"unsubscribe":"subscribe"),t.append("authenticity_token",h??""),(await (0,V.DI)("/notifications/thread",{method:"POST",body:t})).ok&&(s(!o),m(!0))};return(0,i.jsxs)("div",{className:"d-flex flex-items-center border rounded-2 p-2 gap-2",ref:n,children:[(0,i.jsx)(u.Q,{onClick:p,size:"small",leadingVisual:o?d.BellSlashIcon:d.BellIcon,children:o?"Unsubscribe":"Subscribe"}),(0,i.jsx)("p",{role:"status",className:"f6 fgColor-muted mb-0",children:a})]})});en.displayName="NotificationsFooter";let ei="comments";function er(e){return(0,i.jsx)("div",{className:(0,f.$)("d-flex flex-column gap-2 pt-3",a.mU.commentsContainer,g["commit-discussion-comments"]),id:ei,children:(0,r.createElement)(ea,{...e,key:e.commit.oid})})}function ea({commit:e,commentInfo:t}){let n=(0,l.t)(),a=(0,o.i)(),{retry:d,loadMore:m,canLoadMore:f,addComment:x,deleteComment:y,updateComment:C,count:v,comments:j,subscribed:w,providerState:N}=(0,h.y)(),[k,S]=(0,r.useState)(void 0),[L,D]=(0,r.useState)(t.locked),E=(0,r.useMemo)(()=>(0,p.N)(e.oid,n.id),[e.oid,n.id]),_=(0,r.useRef)(null);(0,r.useEffect)(()=>{if(s.cg?.location.hash){let e=s.cg.location.hash.slice(1);if(j.find(t=>t.urlFragment===e)){let t=document.getElementById(e);t&&(t.scrollIntoView(),t.focus())}}},[j]);let A=(0,r.useCallback)(()=>{setTimeout(()=>_.current?.scrollIntoView({behavior:"smooth",block:"nearest"}),0)},[]);return(0,i.jsxs)(i.Fragment,{children:[(0,i.jsx)(el,{commitOid:e.oid,commentCount:v,canLock:t.canLock,locked:L,setLocked:D}),"loading"===N&&(0,i.jsx)(b,{}),"error"===N&&(0,i.jsxs)(c.A,{className:"d-flex flex-justify-between flex-items-center",variant:"danger",children:[(0,i.jsx)("span",{children:"Failed to load comments."}),(0,i.jsx)(u.Q,{onClick:()=>d(),children:"Retry"})]}),"loaded"===N&&f&&(0,i.jsx)(u.Q,{className:"width-full",onClick:()=>m(),children:"Load more comments"}),(0,i.jsx)(O,{comments:j,commit:e,locked:L,deleteComment:y,updateComment:C,setNewCommentContent:S}),E?(0,i.jsx)("div",{className:"text-center",children:[...Array(38)].map((e,t)=>(0,i.jsx)("img",{alt:"rose",src:"/images/icons/emoji/rose.png",className:g["discussion-comments-rose"]},`rose-${t}`))}):null,"loaded"===N||0!==j.length?(0,i.jsxs)(i.Fragment,{children:[(0,i.jsx)(J,{commitOid:e.oid,onAddComment:x,onExpandCommentEditor:A,newCommentContent:k,canComment:t.canComment,locked:L,repoArchived:t.repoArchived,avatarURL:a?.avatarURL}),a?(0,i.jsx)(en,{ref:_,commitOid:e.oid,subscribed:w??!1}):null]}):null]})}function el({commitOid:e,commentCount:t,locked:n,setLocked:a,canLock:l}){let[o,s]=(0,r.useState)(!1);return(0,i.jsxs)("div",{className:"d-flex flex-items-center flex-justify-between",children:[(0,i.jsxs)("h2",{className:"sr-only",children:[t," commit comments"]}),(0,i.jsxs)("div",{className:"d-flex flex-items-center",children:[(0,i.jsx)("div",{className:"h4 pr-2",children:"Comments"}),void 0!==t&&(0,i.jsx)(m.A,{children:t})]}),l&&(0,i.jsxs)(i.Fragment,{children:[(0,i.jsxs)(u.Q,{leadingVisual:n?d.KeyIcon:d.LockIcon,variant:"invisible",onClick:()=>s(!0),children:[n?"Unlock":"Lock"," conversation"]}),o&&(0,i.jsx)(z,{commitOid:e,locked:n,onClose:e=>{s(!1),void 0!==e&&a(e)}})]})]})}try{er.displayName||(er.displayName="DiscussionComments")}catch{}try{ea.displayName||(ea.displayName="DiscussionCommentsInternal")}catch{}try{el.displayName||(el.displayName="DiscussionCommentsHeader")}catch{}},67984:(e,t,n)=>{n.d(t,{j:()=>d});var i=n(74848),r=n(58423),a=n(34407),l=n(94232),o=n(89169),s=n(82169);function d({commit:e,repo:t,children:n,settings:d,textVariant:c}){let u=(0,s.NO)(e.oid),[m]=(0,l.I)(()=>!1,!0,[]);return(0,i.jsxs)(r.j,{authors:e.authors,committer:e.committer,committerAttribution:e.committerAttribution,onBehalfOf:u?.onBehalfOf,repo:t,includeVerbs:!0,authorSettings:{fontWeight:"normal",fontColor:"fg.muted",avatarSize:16,...d},textVariant:c,children:[!m&&(0,i.jsx)(o.A,{className:"pl-1",datetime:e.committedDate}),m&&(0,i.jsx)(a.O,{variant:"rounded",className:"d-none d-sm-flex ml-1",width:"60px"}),n]})}try{d.displayName||(d.displayName="CommitAttribution")}catch{}},34214:(e,t,n)=>{n.d(t,{s:()=>m});var i=n(74848),r=n(38621),a=n(93597),l=n(84217),o=n(30729);let s={none:{},bottom:{pb:0},top:{pt:0}},d=()=>(0,i.jsx)(o.A,{icon:r.GitCommitIcon});function c({children:e,leadingVisual:t,clipTimeline:n="none",sx:r}){let l=s[n];return(0,i.jsxs)(a.A.Item,{sx:{py:1,...l,...r},children:[(0,i.jsx)(a.A.Badge,{sx:{backgroundColor:"canvas.default"},children:t??(0,i.jsx)(d,{})}),(0,i.jsx)(a.A.Body,{className:"mt-0",children:e})]})}function u({title:e,as:t,...n}){return(0,i.jsx)(l.A,{as:t,className:"text-normal f5 py-1",...n,children:e})}let m=Object.assign(c,{Heading:u});try{d.displayName||(d.displayName="DefaultLeadingVisual")}catch{}try{c.displayName||(c.displayName="TimelineRowComponent")}catch{}try{u.displayName||(u.displayName="TimelineRowHeading")}catch{}try{m.displayName||(m.displayName="TimelineRow")}catch{}},11977:(e,t,n)=>{n.d(t,{w:()=>s});var i=n(74848),r=n(26514),a=n(70404),l=n(13348),o=n(55833);function s({sha:e,direction:t="s"}){let{sendAnalyticsEvent:n}=(0,a.s)(),{loggingPrefix:s,loggingPayload:d}=(0,l.xe)(),c=(0,l.eX)();return(0,i.jsx)("div",{onClick:()=>{c&&n(`${s}click`,"COPY_SHA_CLICKED",d)},children:(0,i.jsx)(r.T,{textToCopy:e,ariaLabel:`Copy full SHA for ${(0,o.F)(e)}`,tooltipProps:{direction:t},size:"small"})})}try{s.displayName||(s.displayName="CopySHA")}catch{}},37356:(e,t,n)=>{n.d(t,{Z:()=>a});var i=n(74848),r=n(20053);function a({children:e,className:t=""}){return(0,i.jsx)("div",{className:(0,r.$)("color-bg-default position-relative border rounded-2 color-border-default mt-2 d-flex flex-column",t),children:e})}try{a.displayName||(a.displayName="Panel")}catch{}},13348:(e,t,n)=>{n.d(t,{eX:()=>o,xe:()=>s,zq:()=>l});var i=n(74848),r=n(96540);let a=(0,r.createContext)({loggingPayload:void 0,loggingPrefix:void 0});function l({children:e,loggingInfo:t}){return(0,i.jsx)(a.Provider,{value:t,children:e})}function o(){let e=(0,r.useContext)(a);return void 0!==e.loggingPayload&&void 0!==e.loggingPrefix}function s(){return(0,r.useContext)(a)}try{a.displayName||(a.displayName="CommitsLoggingContext")}catch{}try{l.displayName||(l.displayName="CommitsLoggingInfoProvider")}catch{}},82169:(e,t,n)=>{n.d(t,{M2:()=>s,NO:()=>d,UI:()=>a,Xx:()=>l,ej:()=>u,xs:()=>c});var i=n(74848),r=n(96540);let a={deferredCommits:[],renameHistory:null,loading:!0},l={deferredCommits:[],renameHistory:null,loading:!1},o=(0,r.createContext)(a);function s({children:e,deferredData:t}){return(0,i.jsx)(o.Provider,{value:t,children:e})}function d(e){let t=(0,r.useContext)(o),n=t.error,i=t.deferredCommits?.find(t=>t?.oid===e);return n&&void 0===i&&(i={oid:e,statusCheckStatus:void 0}),i}function c(){return(0,r.useContext)(o).loading}function u(){return(0,r.useContext)(o).renameHistory}try{o.displayName||(o.displayName="DeferredCommitDataContext")}catch{}try{s.displayName||(s.displayName="DeferredCommitDataProvider")}catch{}},5189:(e,t,n)=>{n.d(t,{c:()=>c,y:()=>u});var i,r=n(74848),a=n(73218),l=n(5796),o=n(57572),s=n(96540);let d=(0,s.createContext)({comments:[],addComment:a.l,deleteComment:a.l,updateComment:a.l,loadMore:a.l,retry:a.l,canLoadMore:!1,count:0,subscribed:!1,providerState:"initial"});function c({children:e,comments:t=[],commentCount:n=0,canLoadMore:i=!1,subscribed:a=!1,providerState:c="initial",repo:u,commitOid:m}){let[f,h]=(0,s.useState)(t),[p,g]=(0,s.useState)(n),[x,y]=(0,s.useState)(i),[b,C]=(0,s.useState)(c),[v,j]=(0,s.useState)(a);(0,s.useEffect)(()=>{g(n),h(t),y(i),j(a),C(c)},[c]);let w=(0,s.useCallback)(async e=>{C("loading");let t=await (0,o.Sr)((0,l.Mo3)({owner:u.ownerLogin,repo:u.name,commitOid:m,beforeCommentId:e}));if(t.ok){let n=await t.json();e?h(e=>[...n.comments,...e]):h(n.comments),C("loaded"),g(n.count),j(n.subscribed),y(n.canLoadMore)}else C("error")},[u.ownerLogin,u.name,m]),N=(0,s.useCallback)(()=>{let e=f[0];e&&x&&w(e.id.toString())},[x,f,w]),k=(0,s.useCallback)(e=>{h([...f,e]),g((p??0)+1)},[f,p]),S=(0,s.useCallback)(e=>{h(f.filter(t=>t.id!==e)),g((p??0)-1)},[f,p]),L=(0,s.useCallback)(e=>{h(f.map(t=>t.id===e.id?e:t))},[f]),D=(0,s.useMemo)(()=>({addComment:k,canLoadMore:x,comments:f,count:p,deleteComment:S,loadMore:N,retry:w,subscribed:v,providerState:b,updateComment:L}),[k,x,f,p,S,w,N,b,v,L]);return(0,r.jsx)(d.Provider,{value:D,children:e})}function u(){let e=(0,s.useContext)(d);if(!e)throw Error("useDiscussionComments must be used within a DiscussionCommentsProvider");return e}try{d.displayName||(d.displayName="DiscussionCommentsContext")}catch{}try{c.displayName||(c.displayName="DiscussionCommentsProvider")}catch{}try{(i=DiscussionComments).displayName||(i.displayName="DiscussionComments")}catch{}},43732:(e,t,n)=>{n.d(t,{B:()=>c,r:()=>d});var i=n(74848),r=n(73218),a=n(96540);let l=(0,a.createContext)({comments:[],addComments:r.l,findInlineComment:()=>void 0,getCommentCountByPath:()=>0,getThreadDataByPathAndPosition:()=>void 0,updateInlineCommentMapWithNewComment:()=>void 0,getInlineCommentInfoByPathAndPosition:()=>void 0});function o(e){return e.reduce((e,t)=>(e.set(`${t.path}::${t.position}`,t),e),new Map)}function s(e){let t=new Map;for(let n in e)if(e.hasOwnProperty(n)){let i=new Map;for(let t in e[n])e[n].hasOwnProperty(t)&&i.set(Number(t),e[n][Number(t)]);t.set(n,i)}return t}function d({children:e,initialFiles:t,initialExpandedThreadId:n,initialInlineComments:r}){let[d,c]=(0,a.useState)([]),[u,m]=(0,a.useState)(t??[]),[f,h]=(0,a.useState)(()=>t?o(t):new Map),[p,g]=(0,a.useState)(()=>r?s(r):new Map),x=(0,a.useCallback)((e,t,n,i)=>{if(i){let i=p.get(e)?.get(t)??[];i=i.concat(n);let r=p.get(e)?.set(t,i);g(p.set(e,r??new Map)??p)}else{let i=p.get(e)?.set(t,n);g(p.set(e,i??new Map)??p)}},[p]);(0,a.useEffect)(()=>{m(t??[]),h(t?o(t):new Map),g(r?s(r):new Map)},[t,r]);let y=(0,a.useCallback)((e,t,n)=>{let i=e.map(e=>e.id),r=d.filter(e=>!i.includes(e.id)),a=u.filter(e=>e.path!==t||e.position!==parseInt(n)),l={path:t,position:parseInt(n),count:e.length,threads:[{id:`${t}::${n}`,diffSide:"RIGHT",commentsData:{totalCount:e.length,comments:e.map(e=>({id:e.id,author:{avatarUrl:e?.author?.avatarUrl??"",login:e?.author?.login??"",url:""}}))}}]};c([...r,...e]),m([...a,l]),h(o([...a,l])),x(t,parseInt(n),e,!1)},[u,d,x]),b=(0,a.useCallback)(e=>d.find(t=>t.relayId===e),[d]),C=(0,a.useCallback)(e=>{let t=0;for(let n of u)n.path===e&&(t+=n.count);return t},[u]),v=(0,a.useCallback)((e,t)=>f.get(`${e}::${t}`),[f]),j=(0,a.useCallback)((e,t)=>p.get(e)?.get(t),[p]),w=(0,a.useMemo)(()=>({comments:d,addComments:y,findInlineComment:b,getCommentCountByPath:C,getThreadDataByPathAndPosition:v,getInlineCommentInfoByPathAndPosition:j,updateInlineCommentMapWithNewComment:x,initialExpandedThreadId:n}),[y,d,b,C,v,j,x,n]);return(0,i.jsx)(l.Provider,{value:w,children:e})}function c(){let e=(0,a.useContext)(l);if(!e)throw Error("useInlineComments must be used within a InlineCommentsProvider");return e}try{l.displayName||(l.displayName="InlineCommentsContext")}catch{}try{d.displayName||(d.displayName="InlineCommentsProvider")}catch{}},44639:(e,t,n)=>{n.d(t,{f:()=>Z});var i=n(74848),r=n(91752),a=n(47584),l=n(11499),o=n(46928),s=n(93597),d=n(96540),c=n(4602),u=n(37356);let m={panel:"CommitGroup-module__panel--tvFMx"};var f=n(13080),h=n(76373),p=n(56775),g=n(82091),x=n(30448),y=n(79910),b=n(4535),C=n(44968),v=n(70404),j=n(13348),w=n(82169),N=n(67984),k=n(5796),S=n(17774),L=n(38621),D=n(55847),E=n(87330),_=n(94977),A=n(42522),I=n(55833),R=n(41658);let T=d.memo(F);function F({repo:e,oid:t}){let n=`browse-repo-${(0,I.F)(t)}`,{sendAnalyticsEvent:r}=(0,v.s)(),{loggingPrefix:a,loggingPayload:l}=(0,j.xe)(),o=(0,j.eX)();return(0,i.jsx)(_.A,{"aria-label":"Browse repository at this point",id:n,direction:"sw",children:(0,i.jsx)("a",{"aria-labelledby":n,href:(0,k.IO9)({repo:e,action:"tree",commitish:t}),className:"Button Button--iconOnly Button--invisible Button--small","data-testid":"commit-row-browse-repo",onClick:()=>{o&&r(`${a}click`,"COMMITS_BROWSE_REPOSITORY_AT_THIS_POINT_CLICKED",l)},children:(0,i.jsx)(L.CodeIcon,{})})})}let O=d.memo(M);function M({repo:e,oid:t,path:n}){if(!n)return null;let r=`view-code-${(0,I.F)(t)}`;return(0,i.jsx)(_.A,{"aria-label":"View code at this point",id:r,direction:"sw",children:(0,i.jsx)("a",{"aria-labelledby":r,href:(0,k.nD_)({owner:e.ownerLogin,repo:e.name,commitish:t,filePath:n}),className:"Button Button--iconOnly Button--invisible Button--small","data-testid":"commit-row-view-code",children:(0,i.jsx)(L.FileCodeIcon,{})})})}function U({commitUrl:e,oid:t,softNavToCommit:n}){let r={variant:"invisible",size:"small",sx:{fontFamily:"var(--fontStack-monospace)",color:"fg.muted"}};return(0,i.jsx)(_.A,{"aria-label":"View commit details",direction:"s",children:n?(0,i.jsx)(D.Q,{as:S.N,to:e,...r,children:(0,I.F)(t)}):(0,i.jsx)("a",{className:"Button--invisible Button--small Button text-mono",href:e,...r,children:(0,i.jsx)("span",{className:"Button-content",children:(0,i.jsx)("span",{className:"Button-label color-fg-muted",children:(0,I.F)(t)})})})})}function B({showDescription:e,setShowDescription:t,oid:n}){let r=(0,I.F)(n),a=`show-description-${r}`,l=`${e?"Hide":"Show"} description for ${r}`;return(0,i.jsx)(A.m,{id:a,text:l,"aria-label":l,children:(0,i.jsx)(E.K,{icon:L.EllipsisIcon,className:"Button Button--iconOnly Button--invisible Button--small ml-1","data-testid":"commit-row-show-description-button","aria-labelledby":a,"aria-pressed":e,"aria-expanded":e,onClick:n=>{n.preventDefault(),t(!e)}})})}function $({count:e,repo:t,oid:n}){if(!e)return null;let r=`comment-count-${(0,I.F)(n)}`;return(0,i.jsx)(_.A,{"aria-label":`View ${e} commit comment${e>1?"s":""}`,id:r,direction:"sw",children:(0,i.jsx)("a",{"aria-labelledby":r,href:`${(0,k.$Qz)({owner:t.ownerLogin,repo:t.name,commitish:n})}#${R.N}`,className:"Button Button--invisible Button--small","data-testid":"commit-row-comments",children:(0,i.jsxs)("span",{className:"Button-content color-fg-muted",children:[(0,i.jsx)(L.CommentIcon,{}),(0,i.jsx)("span",{className:"Button-label",children:e})]})})})}try{T.displayName||(T.displayName="BrowseRepositoryAtThisPoint")}catch{}try{F.displayName||(F.displayName="WrappedBrowseRepositoryAtThisPoint")}catch{}try{O.displayName||(O.displayName="ViewCodeAtThisPoint")}catch{}try{M.displayName||(M.displayName="WrappedViewCodeAtThisPoint")}catch{}try{U.displayName||(U.displayName="ViewCommitDetails")}catch{}try{B.displayName||(B.displayName="ToggleCommitDescription")}catch{}try{$.displayName||($.displayName="CommitCommentCount")}catch{}var P=n(32813),H=n(34407),V=n(9916),K=n(71238);function z({deferredData:e}){let{helpUrl:t}=(0,V.D)(),n=(0,w.xs)();return(0,i.jsxs)(i.Fragment,{children:[n&&(0,i.jsx)(H.O,{variant:"rounded",className:"d-none d-sm-flex",width:"62px"}),!n&&void 0===e&&(0,i.jsx)(H.O,{variant:"rounded",className:"d-none d-sm-flex",width:"62px"}),!n&&e&&(0,i.jsx)(P.h,{commitOid:e.oid,hasSignature:!0,verificationStatus:e.verifiedStatus,signature:e.signatureInformation?{helpUrl:t,...e.signatureInformation}:void 0})]})}function G({deferredData:e,oid:t,repository:n}){let r=(0,w.xs)(),a="";try{a=e?.statusCheckStatus?.short_text?.split("checks")[0]?.trim()||""}catch{}return(0,i.jsxs)(i.Fragment,{children:[r&&(0,i.jsx)(H.O,{variant:"rounded",className:"d-none d-sm-flex ml-2",width:"20px"}),!r&&void 0===e&&(0,i.jsx)(H.O,{variant:"rounded",className:"d-none d-sm-flex ml-2",width:"20px"}),!r&&e?.statusCheckStatus&&(0,i.jsx)("div",{className:"d-none d-sm-flex ml-1",children:"\xb7"}),(0,i.jsx)("div",{className:"d-none d-sm-flex",children:(0,i.jsx)(K.d,{oid:t,status:e?.statusCheckStatus?.state,descriptionString:a,repo:n})})]})}try{z.displayName||(z.displayName="SignedCommitBadge")}catch{}try{G.displayName||(G.displayName="CommitChecksStatusBadge")}catch{}var W=n(11977);let q={ListItemTitle_0:"CommitRow-module__ListItemTitle_0--g9uVv",ListItem_0:"CommitRow-module__ListItem_0--PkFAi",ListItemMetadata_0:"CommitRow-module__ListItemMetadata_0--MUr_4"},Q=(0,d.lazy)(()=>n.e("ui_packages_commits_components_Commits_CommitActionBar_tsx").then(n.bind(n,62919)).then(e=>({default:e.CommitActionBar})));function X({commit:e,repo:t,path:n,softNavToCommit:r}){let[a,l]=(0,d.useState)(!1),o=(0,d.useRef)(null),[s,c]=(0,h.ym)(e.oid,t),[u,m]=(0,d.useState)(!1),k=(0,w.NO)(e.oid),{sendAnalyticsEvent:S}=(0,v.s)(),{loggingPrefix:L,loggingPayload:D}=(0,j.xe)(),E=(0,j.eX)();return(0,d.useEffect)(()=>{a&&o.current&&o.current.textContent&&(0,f.i)(o.current.textContent)},[o,a]),(0,i.jsxs)(i.Fragment,{children:[(0,i.jsxs)(p.c,{"data-testid":"commit-row-item","data-commit-link":e.url,title:(0,i.jsx)(b.a,{value:e.shortMessage,markdownValue:e.shortMessageMarkdownLink,href:e.url,onClick:()=>{E&&S(`${L}click`,"COMMITS_TITLE_CLICKED",D)},containerClassName:q.ListItemTitle_0,headingClassName:q.ListItemTitle_0,children:e.bodyMessageHtml&&(0,i.jsx)(B,{showDescription:a,setShowDescription:l,oid:e.oid})}),metadata:(0,i.jsxs)(i.Fragment,{children:[(0,i.jsx)(y.V,{children:(0,i.jsx)($,{oid:e.oid,repo:t,count:k?.commentCount??0})}),(0,i.jsx)(y.V,{className:q.ListItemMetadata_0,children:(0,i.jsx)(z,{deferredData:k})}),(0,i.jsxs)(y.V,{className:"d-none d-sm-flex px-0 gap-2",variant:"primary",children:[(0,i.jsxs)("div",{className:"d-flex",children:[(0,i.jsx)(U,{oid:e.oid,commitUrl:e.url,softNavToCommit:r}),(0,i.jsx)(W.w,{sha:e.oid})]}),(0,i.jsx)(O,{repo:t,oid:e.oid,path:n}),(0,i.jsx)(T,{repo:t,oid:e.oid})]})]}),secondaryActions:(0,i.jsx)(d.Suspense,{children:(0,i.jsx)(Q,{commit:e,repo:t,path:n,setDialogOpen:m,fetchCheckDetails:c,deferredData:k})}),className:q.ListItem_0,children:[(0,i.jsx)("div",{className:"px-1"}),(0,i.jsxs)(x.Q,{children:[a&&e.bodyMessageHtml&&(0,i.jsx)(g.U,{children:(0,i.jsx)(C.yx,{ref:o,html:e.bodyMessageHtml,className:"ws-pre-wrap extended-commit-description-container pb-2 text-mono wb-break-word"})}),(0,i.jsx)(g.U,{children:(0,i.jsx)(N.j,{commit:e,repo:t,children:(0,i.jsx)(G,{repository:t,deferredData:k,oid:e.oid})})})]})]}),k?.statusCheckStatus&&u&&(0,i.jsx)(h.xC,{combinedStatus:s,isOpen:u,onDismiss:()=>{m(!1)}})]})}try{Q.displayName||(Q.displayName="CommitActionBar")}catch{}try{X.displayName||(X.displayName="CommitRow")}catch{}var Y=n(34214);function J({commits:e,title:t,shouldClipTimeline:n,repo:r,currentBlobPath:a="",softNavToCommit:l}){let o=(0,d.useId)();return(0,i.jsxs)(Y.s,{clipTimeline:n?"top":"none",children:[(0,i.jsx)(Y.s.Heading,{as:"h3",id:o,title:`Commits on ${t}`,"data-testid":"commit-group-title"}),(0,i.jsx)(u.Z,{className:m.panel,children:(0,i.jsx)(c.u,{title:t,titleHeaderTag:"h3",ariaLabelledBy:o,children:e.map(e=>(0,i.jsx)(X,{commit:e,repo:r,path:a,softNavToCommit:l},e.oid))},t)})]})}try{J.displayName||(J.displayName="CommitGroup")}catch{}function Z({leadingContent:e,commitGroups:t,trailingContent:n,deferredCommitData:c=w.Xx,repository:u,currentBlobPath:m,loggingPayload:f,loggingPrefix:h,shouldClipTimeline:p=!0,softNavToCommit:g=!1}){let x=(0,d.useRef)(0),y=(0,d.useRef)(null),b=(0,d.useRef)(null),C=(0,d.useRef)(!1),v=(0,d.useRef)([]),N=(0,o.Z)(),k=e=>{"commit-diff-view:tab-forward"===e.commandId&&(y.current=b.current,b.current=a.XC?.activeElement??null,C.current=!1),"commit-diff-view:tab-backward"===e.commandId&&a.XC?.activeElement?.hasAttribute("data-commit-link")&&!C.current&&y.current&&(y.current.focus(),b.current=y.current),"commit-diff-view:tab-backward"===e.commandId&&(C.current=!0)},S=e=>{if(!(0,r.zw)()&&("commit-diff-view:go-down-commit"===e.commandId||"commit-diff-view:go-up-commit"===e.commandId))return;let t=1;for(let e=0;e<v.current.length;e++)v.current[e]?.contains(a.XC?.activeElement)&&(t=e+1);let n=!1;if(("commit-diff-view:go-up-commit"===e.commandId||"commit-diff-view:go-up-commit-arrow"===e.commandId)&&(n=!0),x.current!==t)x.current=t;else{let e=v.current[n?t-2:t];e?.focus(),e?.focus(),x.current=n?t-1:t+1}};return(0,d.useEffect)(()=>{let e=setTimeout(()=>{let e=document.querySelectorAll('[id*="-list-view-node-"]');v.current=Array.from(e)},0);return()=>clearTimeout(e)},[t]),(0,i.jsx)(w.M2,{deferredData:c,children:(0,i.jsx)(j.zq,{loggingInfo:{loggingPayload:f,loggingPrefix:h},children:(0,i.jsxs)(s.A,{clipSidebar:!0,onKeyDown:e=>{if("Enter"===e.key){let t=a.XC?.activeElement?.hasAttribute("data-commit-link")?a.XC?.activeElement?.getAttribute("data-commit-link"):void 0;t&&(e.ctrlKey||e.metaKey?a.cg?.open(t,"_blank"):N(t))}},children:[e,(0,i.jsx)(l.tL,{commands:{"commit-diff-view:go-down-commit-arrow":S,"commit-diff-view:go-down-commit":S,"commit-diff-view:go-up-commit-arrow":S,"commit-diff-view:go-up-commit":S,"commit-diff-view:tab-forward":k,"commit-diff-view:tab-backward":k},triggerOnDefaultPrevented:!0,children:t.map((e,t)=>(0,i.jsx)(J,{title:e.title,commits:e.commits,shouldClipTimeline:p&&0===t,currentBlobPath:m,repo:u,softNavToCommit:g},e.title))}),n]})})})}try{Z.displayName||(Z.displayName="Commits")}catch{}},47938:(e,t,n)=>{n.d(t,{M:()=>u});var i=n(74848),r=n(76797),a=n(73218),l=n(38621),o=n(67138),s=n(24664),d=n(37356);let c={timeout:{description:"Try reloading the page, or if the problem persists, view the history locally using this command:",heading:"Commit history cannot be loaded",icon:(0,i.jsx)(l.AlertIcon,{size:"medium",className:"mb-2 fgColor-muted"}),showTextInput:!0},unavailable:{description:"There isn't any commit history to show here.",heading:"No commits history",icon:(0,i.jsx)(l.GitCommitIcon,{size:"medium"}),showTextInput:!1}};function u({timeoutMessage:e,unavailableMessage:t}){let n=c[""!==e?"timeout":"unavailable"],u=t??n.description;return(0,i.jsx)(d.Z,{children:(0,i.jsx)("div",{"data-hpc":!0,children:(0,i.jsxs)(s.A,{border:!1,spacious:!0,children:[(0,i.jsx)(s.A.Visual,{children:n.icon}),(0,i.jsx)(s.A.Heading,{children:n.heading}),(0,i.jsx)(s.A.Description,{children:u}),n.showTextInput&&(0,i.jsx)(o.A,{"aria-label":"View commit history locally command",className:"d-flex flex-justify-center mt-2",monospace:!0,onChange:a.l,readOnly:!0,size:"large",trailingAction:(0,i.jsx)(o.A.Action,{onClick:()=>(0,r.D)(e),icon:l.CopyIcon,"aria-label":"Copy to clipboard",className:"fgColor-muted"}),value:e})]})})})}try{u.displayName||(u.displayName="CommitsBlankState")}catch{}},62964:(e,t,n)=>{n.d(t,{q:()=>m});var i=n(74848),r=n(46636),a=n(78026),l=n(41980),o=n(94232),s=n(96540),d=n(5796),c=n(57572);async function u(e,t){if(!t)return;let n=new FormData;n.set("file_tree_visible",e?"true":"false"),(0,c.DI)((0,d.h6D)(t),{method:"PUT",body:n,headers:{Accept:"application/json"}})}function m(e,t){let[n]=(0,o.I)(()=>!1,!0,[]),d=(0,r.i)(),c=(0,s.useRef)(null),m=(0,s.useRef)(null),[f,h]=(0,s.useState)(t),[p,g]=(0,s.useState)(!1),x=(0,s.useCallback)(()=>{(0,l.nn)(window.innerWidth)<=l.Gy.medium?(g(!0),requestAnimationFrame(()=>m.current?.focus())):(h(!0),u(!0,d),requestAnimationFrame(()=>c.current?.focus()))},[d]),y=(0,s.useCallback)(()=>{(0,l.nn)(window.innerWidth)<=l.Gy.medium?(g(!1),requestAnimationFrame(()=>m.current?.focus())):(h(!1),u(!1,d),requestAnimationFrame(()=>c.current?.focus()))},[d]),b=(0,s.useMemo)(()=>(0,i.jsx)(a.L,{expanded:f,alignment:"left",ariaLabel:f?"Collapse file tree":"Expand file tree",tooltipDirection:"se",testid:"file-tree-button",ariaControls:e,ref:c,onToggleExpanded:()=>{f?y():x()},className:"d-none d-md-flex position-relative"}),[f,e,y,x]),C=(0,s.useMemo)(()=>(0,i.jsx)(a.L,{expanded:p,alignment:"left",ariaLabel:p?"Collapse file tree":"Expand file tree",tooltipDirection:"se",testid:"file-tree-button",ariaControls:e,ref:m,onToggleExpanded:()=>{p?y():x()},className:"d-md-none position-relative"}),[p,e,y,x]),v=(0,s.useMemo)(()=>(0,i.jsxs)(i.Fragment,{children:[C,b]}),[C,b]);return{splitPagePaneHiddenSx:n&&!t?{display:"none",contain:"content"}:{contain:"content",flexDirection:["column","column","inherit"],"@media screen and (max-width: 768px)":p?{mt:-3}:{display:"none"},"@media screen and (min-width: 769px)":f?{height:"100vh",maxHeight:"100vh !important"}:{display:"none"}},splitPageContentHidden:{narrow:p,regular:!1},isMobileTreeExpanded:p,expandTree:x,collapseTree:y,treeToggleElement:v,treeToggleRef:c}}},22025:(e,t,n)=>{n.d(t,{U:()=>u});var i=n(74848),r=n(50064),a=n(47584),l=n(75177),o=n(96540),s=n(61445),d=n(14614),c=n(97745);function u({batchPending:e,batchingEnabled:t,commentBoxConfig:n,condensed:u,fileLevelComment:m,filePath:f,focusOnMount:h,isReplying:p,lineNumber:g,onAddComment:x,onCancelComment:y,onPersistedCommentExists:b,quotedText:C="",side:v,subjectId:j,threadId:w,suggestedChangesConfig:N}){let[k,S]=(0,o.useState)(C),[L,D]=(0,o.useState)(!1),[E,_]=(0,o.useState)(),A=(0,o.useRef)(null),I=(0,o.useRef)(null),{persistCommentToStorage:R,removePersistedCommentFromStorage:T}=(0,s.L)({diffSide:v,filePath:f,line:g,subjectId:j,threadId:w,handlePersistedCommentExists:({text:e})=>{e&&(S(e),b?.())},fileLevelComment:!!m});(0,o.useEffect)(()=>{if(h){let e=setTimeout(()=>{if(I.current&&(a.XC||a.cg)){let e=I.current,t=e.getBoundingClientRect(),n=a.XC?.documentElement.clientHeight||0;if(!(t.top>=0&&t.bottom<=(a.cg?.innerHeight||n))){let i=t.top,r=a.XC?.documentElement.getBoundingClientRect().top||0,l=e.clientHeight*(2/3);a.cg?.scrollTo({top:i-r-2/3*n+l,behavior:"smooth"})}}A.current?.focus()},100);return()=>{window.clearTimeout(e)}}},[h]);let F=({submitBatch:e})=>{D(!0),_(void 0);let t=(0,d.u)(k,N?.sourceContentFromDiffLines??"");if(!t.isValid){_(t.errorMessage),D(!1);return}x?.({commentText:k,onCompleted(){D(!1),U()},onError(e){D(!1);let t="Failed to save comment";e.message&&(t=`${t}: ${e.message}`),_(t)},submitBatch:e})},O=()=>F({submitBatch:!1}),M=()=>F({submitBatch:!0}),U=()=>{T(),S(""),y?.()},B={footer:{justifyContent:p?"end":"space-between","> div:first-child":{display:u||p?"none":"flex"},...u&&{"> div:last-child":{display:"flex",flexDirection:"column",width:"100%"}}}};return(0,i.jsx)(l.A,{sx:{display:"flex",flexDirection:"column",fieldset:{minWidth:0,width:["100%"]}},children:(0,i.jsxs)(c.S,{ref:A,label:"Add diff comment",sx:B,value:k,onChange:e=>{_(void 0),R({text:e}),S(e)},onPrimaryAction:t?O:M,userSettings:n,suggestedChangesConfig:N,markdownErrorMessage:E,children:[y&&(0,i.jsx)(r.x,{disabled:L,sx:{py:1,px:2},variant:"default",onClick:U,children:"Cancel"}),!e&&(0,i.jsx)(r.x,{disabled:L||!k.length,sx:{py:1,px:2},variant:t?"default":"primary",onClick:M,ref:I,children:p?"Reply":"Comment"}),t&&(0,i.jsx)(r.x,{disabled:L||!k.length,sx:{py:1,px:2},variant:"primary",onClick:O,children:e?"Add review comment":"Start a review"})]})})}try{u.displayName||(u.displayName="AddCommentEditor")}catch{}},81229:(e,t,n)=>{n.d(t,{Y:()=>h});var i=n(74848),r=n(62456),a=n(38621),l=n(75177),o=n(52464),s=n(30631),d=n(55847),c=n(30729),u=n(42389),m=n(82126);let f={[u.U.Failure]:(0,i.jsx)(c.A,{icon:a.StopIcon,sx:{fill:"danger.fg"}}),[u.U.Warning]:(0,i.jsx)(c.A,{icon:a.AlertIcon,sx:{fill:"attention.fg"}}),[u.U.Notice]:(0,i.jsx)(c.A,{icon:a.InfoIcon,sx:{fill:"fg.muted"}})};function h({annotation:e}){return(0,i.jsxs)(l.A,{sx:{borderLeft:"4px solid",borderColor:m.GF[e.annotationLevel].primaryColor,p:3},children:[(0,i.jsxs)(l.A,{sx:{display:"flex",alignItems:"center",mb:2},children:[f[e.annotationLevel],(0,i.jsx)(o.A,{sx:{fontWeight:600,color:"fg.muted",fontSize:0,pl:2},children:m.GF[e.annotationLevel].ariaLabel})]}),(0,i.jsx)(l.A,{sx:{ml:4},children:e.title&&(0,i.jsx)(o.A,{sx:{color:m.GF[e.annotationLevel].primaryColor,fontWeight:600,fontSize:1},children:e.title})}),(0,i.jsx)(l.A,{sx:{mb:3,mt:1,ml:4},children:e.message&&(0,i.jsx)(o.A,{sx:{fontFamily:"var(--fontStack-monospace)",fontSize:0,display:"-webkit-box",overflow:"hidden","-webkit-box-orient":"vertical","-webkit-line-clamp":"8",maxWidth:"unset"},children:e.message})}),(0,i.jsxs)(l.A,{sx:{display:"flex",alignItems:"center",justifyContent:"space-between",ml:4},children:[(0,i.jsxs)(l.A,{sx:{flexGrow:2},children:[(0,i.jsx)(r.r,{src:e.appAvatarUrl,alt:e.appAvatarAltText}),(0,i.jsxs)(s.A,{sx:{ml:2,maxWidth:"300px"},inline:!0,title:`${e.checkSuiteName} / ${e.checkRun.name}`,children:[(0,i.jsx)(o.A,{sx:{fontWeight:600,fontSize:0},children:e.checkSuiteName})," /"," ",(0,i.jsx)(o.A,{sx:{fontSize:0},children:e.checkRun.name})]})]}),e.checkRun.detailsUrl&&(0,i.jsx)(d.Q,{as:"a",href:e.checkRun.detailsUrl,size:"small",children:"View details"})]})]})}try{h.displayName||(h.displayName="Annotation")}catch{}},82126:(e,t,n)=>{n.d(t,{GF:()=>d,S:()=>s,Xh:()=>l});var i=n(74848),r=n(38267),a=n(42389);function l({annotationLevel:e,...t}){let{icon:n,...r}=d[e];return function({fill:e,stroke:t,ariaLabel:n,svgHtml:r,className:a}){return(0,i.jsx)("svg",{"aria-label":n,className:a,fill:e,height:"24",stroke:t,strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:"2",style:{boxShadow:"none"},viewBox:"0 0 24 24",width:"24",xmlns:"http://www.w3.org/2000/svg",children:r})}({...n,...r,...t})}let o=(0,r.i7)(["0%{opacity:0;}100%{opacity:1;}"]),s=(0,r.Ay)(l).withConfig({displayName:"AnnotationIcon__AnimatedAnnotationIcon",componentId:"sc-306ab24a-0"})(["animation:"," 0.1s ease-in;"],o),d={[a.U.Failure]:{priority:1,ariaLabel:"Check failure",primaryColor:"danger.fg",icon:{fill:"var(--bgColor-danger-emphasis, var(--color-danger-emphasis))",stroke:"var(--fgColor-onEmphasis, var(--color-fg-on-emphasis))",svgHtml:(0,i.jsxs)(i.Fragment,{children:[(0,i.jsx)("circle",{cx:"12",cy:"12",r:"10"}),(0,i.jsx)("line",{x1:"15",x2:"9",y1:"9",y2:"15"}),(0,i.jsx)("line",{x1:"9",x2:"15",y1:"9",y2:"15"})]})}},[a.U.Warning]:{priority:2,ariaLabel:"Check warning",primaryColor:"attention.fg",icon:{fill:"var(--bgColor-attention-emphasis, var(--color-attention-emphasis))",stroke:"var(--fgColor-onEmphasis, var(--color-fg-on-emphasis))",svgHtml:(0,i.jsxs)(i.Fragment,{children:[(0,i.jsx)("circle",{cx:"12",cy:"12",r:"10"}),(0,i.jsx)("line",{x1:"12",x2:"12",y1:"8",y2:"12"}),(0,i.jsx)("line",{x1:"12",x2:"12",y1:"16",y2:"16"})]})}},[a.U.Notice]:{priority:3,ariaLabel:"Check notice",primaryColor:"fg.muted",icon:{fill:"var(--bgColor-neutral-emphasis, var(--color-neutral-emphasis))",stroke:"var(--fgColor-onEmphasis, var(--color-fg-on-emphasis))",svgHtml:(0,i.jsxs)(i.Fragment,{children:[(0,i.jsx)("circle",{cx:"12",cy:"12",r:"10"}),(0,i.jsx)("line",{x1:"12",x2:"12",y1:"16",y2:"12"}),(0,i.jsx)("line",{x1:"12",x2:"12",y1:"8",y2:"8"})]})}}};try{l.displayName||(l.displayName="AnnotationIcon")}catch{}try{s.displayName||(s.displayName="AnimatedAnnotationIcon")}catch{}},80765:(e,t,n)=>{n.d(t,{$:()=>y});var i=n(74848),r=n(70404),a=n(45996),l=n(69676),o=n(82678),s=n(75177),d=n(63867),c=n(73451),u=n(67138),m=n(51856),f=n(91246),h=n(96540);function p({children:e,footerButtons:t}){let{containerRef:n}=(0,o.G)({bindKeys:l.z0.ArrowHorizontal|l.z0.Tab,focusInStrategy:"closest"});return t?(0,i.jsx)(f.l.Footer,{ref:n,children:(0,i.jsxs)(s.A,{sx:{display:"flex",flexDirection:"column"},children:[(0,i.jsx)(s.A,{sx:{display:"flex",flexDirection:"row",gap:2,justifyContent:"flex-end"},children:(0,i.jsx)(f.l.Buttons,{buttons:t})}),e]})}):null}let g={CHANGE_COMMIT_MESSAGE:"CHANGE_COMMIT_MESSAGE",CHANGE_EXTENDED_DESCRIPTION:"CHANGE_EXTENDED_DESCRIPTION"};function x(e,t){switch(t.type){case g.CHANGE_COMMIT_MESSAGE:return{...e,commitMessage:t.payload};case g.CHANGE_EXTENDED_DESCRIPTION:return{...e,extendedDescription:t.payload};default:return console.error("Unknown suggested change action."),e}}function y({authorLogins:e,batchSize:t,onClose:n,onCommit:l}){let o=(0,a.A)(),{sendAnalyticsEvent:y}=(0,r.s)(),[b,C]=(0,h.useState)(!1),[v,j]=(0,h.useState)(),[w,N]=(0,h.useReducer)(x,{commitMessage:1===e.length?`Apply suggestion from @${e[0]}`:1===new Set(e).size?`Apply suggestions from @${e[0]}`:"Apply suggestions from code review",extendedDescription:""}),k=(0,h.useCallback)((e,t,n)=>{if(!o())return;let i="There was an error trying to commit changes";n?i+=`: ${n}`:i+=".",C(!1),j(i)},[o]),S=(0,h.useCallback)(()=>{o()&&(C(!1),v&&j(void 0))},[v,o]),L=(0,h.useCallback)(()=>{b||(C(!0),y("comments.commit_suggestion","COMMIT_SUGGESTION_DIALOG_BUTTON",{batchSize:t}),l(`${w.commitMessage}

${w.extendedDescription}`,k,S))},[t,w.commitMessage,w.extendedDescription,S,k,b,l,y]);return(0,i.jsxs)(f.l,{title:"Apply suggestion",renderFooter:()=>(0,i.jsx)(p,{footerButtons:[{content:"Cancel",onClick:n},{content:(0,i.jsxs)(s.A,{as:"span",sx:{display:"flex",flexDirection:"row",alignItems:"center"},children:["Commit changes",b&&(0,i.jsx)(d.A,{size:"small",sx:{ml:1}})]}),onClick:L,buttonType:"primary"}],children:v&&(0,i.jsx)(c.A.Validation,{sx:{mt:2,pt:1,justifyContent:"flex-end"},variant:"error",children:v})}),onClose:n,children:[(0,i.jsxs)(c.A,{sx:{mb:2},children:[(0,i.jsx)(c.A.Label,{children:"Commit message"}),(0,i.jsx)(u.A,{block:!0,name:"commit_message",onChange:e=>N({type:g.CHANGE_COMMIT_MESSAGE,payload:e.target.value}),value:w.commitMessage})]}),(0,i.jsxs)(c.A,{children:[(0,i.jsx)(c.A.Label,{children:"Extended description (optional)"}),(0,i.jsx)(m.Ay,{block:!0,rows:3,placeholder:"Add an optional description...",onChange:e=>N({type:g.CHANGE_EXTENDED_DESCRIPTION,payload:e.target.value}),value:w.extendedDescription})]})]})}try{p.displayName||(p.displayName="DialogFooter")}catch{}try{y.displayName||(y.displayName="ApplySuggestionDialog")}catch{}},97745:(e,t,n)=>{n.d(t,{S:()=>o});var i=n(74848),r=n(17080),a=n(96540),l=n(38061);let o=(0,a.forwardRef)(({children:e,...t},n)=>{let a=(0,l.n)();return(0,i.jsx)(r.h,{...t,ref:n,placeholder:"Leave a comment",actions:e,subject:a??void 0,showLabel:!1})});o.displayName="ConversationCommentBox"},94493:(e,t,n)=>{n.d(t,{H:()=>f});var i=n(74848),r=n(88771),a=n(70404),l=n(75177),o=n(96540),s=n(93345),d=n(70283),c=n(22025),u=n(8187),m=n(78869);function f({batchingEnabled:e,batchPending:t,commentAnchorPrefix:n,commentingImplementation:f,commentsConnectionId:h,filePath:p,hideDiffPreview:g,onRefreshThread:x,enterDialogMode:y,repositoryId:b,subject:C,subjectId:v,tabSize:j,thread:w,threadsConnectionId:N,shouldLimitHeight:k=!0,suggestedChangesConfig:S,viewerData:L,ghostUser:D}){let[E,_]=(0,o.useState)(!1),[A,I]=(0,o.useState)(void 0),{sendAnalyticsEvent:R}=(0,a.s)(),{addThreadReply:T}=f,F=e=>{I(e),_(!0)};if(null===w.commentsData.comments||w.commentsData.comments.length<1)return null;let O=(0,d.Lm)(w),M="LINE"===w.subjectType?{lineRange:O}:void 0;return(0,i.jsx)("div",{"data-testid":"review-thread",children:(0,i.jsxs)(l.A,{sx:k?{maxHeight:"40vh",overflowY:"auto"}:{},children:[!g&&w.isOutdated&&(0,i.jsx)(m.i,{subject:w.subject,tabSize:j??4}),w.commentsData.comments.map((e,t)=>(0,i.jsx)(u.U,{enterDialogMode:y,isAnchorable:!0,index:t,isLastChild:t===w.commentsData.comments.length-1,anchorPrefix:n,comment:e,commentConnectionId:w.commentsData.__id,commentingImplementation:f,filePath:p,isOutdated:w.isOutdated,repositoryId:b,subject:C,subjectId:v,threadId:w.id,onRefreshThread:x,onQuoteReply:F,threadCommentCount:w.commentsData.comments.length,threadsConnectionId:N,isThreadResolved:!!w.isResolved,suggestedChangesConfig:S,applySuggestedChangesValidationData:M,viewerData:L,ghostUser:D},e.id)),w.viewerCanReply&&(0,i.jsxs)(l.A,{sx:{borderBottomLeftRadius:2,borderBottomRightRadius:2,p:2},children:[E&&(0,i.jsx)(c.U,{batchingEnabled:e,batchPending:t,commentBoxConfig:f.commentBoxConfig,condensed:!1,fileLevelComment:!0,filePath:p,focusOnMount:!0,isReplying:!0,onCancelComment:()=>{_(!1),R("comments.cancel_thread_reply","CANCEL_REVIEW_THREAD_BUTTON")},repositoryId:b,quotedText:A,subjectId:v,threadId:w.id,onAddComment:({commentText:e,onCompleted:t,onError:n,submitBatch:i})=>{let r=[];w.commentsData.__id&&r.push(w.commentsData.__id),h&&r.push(h),T({commentsConnectionIds:r,filePath:p,thread:w,text:e,submitBatch:i,onCompleted:e=>{e&&(0,s.p)(e.toString()),t?.(),x?.(w.id)},onError:n,threadsConnectionId:N}),R("comments.add","ADD_COMMENT_BUTTON")},suggestedChangesConfig:S}),!E&&(0,i.jsx)(r.z,{onClick:()=>{R("comments.start_thread_reply","REPLY_TO_THREAD_INPUT_BUTTON"),_(!0)},children:"Write a reply"})]})]})})}try{f.displayName||(f.displayName="ReviewThread")}catch{}},8187:(e,t,n)=>{n.d(t,{U:()=>H});var i=n(74848),r=n(17080),a=n(81874),l=n(77433),o=n(52655),s=n(73218),d=n(16497),c=n(82599),u=n(44968),m=n(47584),f=n(67136),h=n(75177),p=n(96540),g=n(42242),x=n(93345),y=n(61445),b=n(14614),C=n(97745),v=n(38568),j=n(40961),w=n(70283),N=n(56126),k=n(70404),S=n(55847);function L({commentingImplementation:e,suggestedChange:t}){let{sendAnalyticsEvent:n}=(0,k.s)();return(0,i.jsx)(h.A,{sx:{display:"flex",flexDirection:"row-reverse"},children:(0,i.jsx)(S.Q,{variant:"primary",onClick:()=>{n("comments.add_suggested_change_to_batch","ADD_SUGGESTED_CHANGE_TO_BATCH_BUTTON"),e.addSuggestedChangeToPendingBatch(t)},children:"Add suggestion to batch"})})}try{L.displayName||(L.displayName="AddToExistingBatch")}catch{}var D=n(38621),E=n(91321),_=n(87330),A=n(89323),I=n(8338);let R={addSuggestionToBatch:{text:"Add suggestion to batch"},applySuggestion:{text:"Apply suggestion"}};function T({commentingImplementation:e,onOpenDialog:t,suggestedChange:n}){let{sendAnalyticsEvent:r}=(0,k.s)(),[a,l]=(0,p.useState)(R.addSuggestionToBatch),[o,s]=(0,p.useState)(!1),d=(0,p.useRef)(null),c=(0,p.useRef)(null),u=()=>s(!o),{addSuggestedChangeToPendingBatch:m}=e,f=(0,p.useCallback)(()=>{a===R.addSuggestionToBatch&&(m(n),r("comments.add_suggested_change_to_batch","ADD_SUGGESTED_CHANGE_TO_BATCH_BUTTON")),a===R.applySuggestion&&t(c)},[m,t,a,r,n]);return(0,i.jsx)(h.A,{sx:{display:"flex",flexDirection:"row-reverse"},children:(0,i.jsxs)(E.A,{children:[(0,i.jsx)(S.Q,{variant:"primary",onClick:f,ref:c,children:a.text}),(0,i.jsx)(_.K,{unsafeDisableTooltip:!0,ref:d,"aria-haspopup":"true","aria-label":"More suggestion batching options",icon:D.TriangleDownIcon,size:"medium",variant:"primary",onClick:u}),(0,i.jsx)(A.W,{anchorRef:d,open:o,onOpenChange:u,children:(0,i.jsx)(A.W.Overlay,{width:"medium",children:(0,i.jsx)(I.l,{selectionVariant:"single",children:Object.keys(R).map(e=>{let t=R[e];return(0,i.jsx)(I.l.Item,{selected:a===t,onSelect:()=>l(t),children:t.text},e)})})})})]})})}try{T.displayName||(T.displayName="ApplyOrAddToBatch")}catch{}var F=n(80765),O=n(52464);function M({reason:e,sx:t}){return(0,i.jsx)(h.A,{sx:{m:2,...t},children:(0,i.jsx)(O.A,{as:"small",sx:{color:"fg.muted"},children:e})})}try{M.displayName||(M.displayName="CodeSuggestionUnavailable")}catch{}var U=n(47139);function B({commentingImplementation:e,onOpenDialog:t,suggestedChange:n}){let r=(0,p.useRef)(null),a=(0,p.useCallback)(()=>{t(r)},[t]),l=e.pendingSuggestedChangesBatch.length,{sendAnalyticsEvent:o}=(0,k.s)();return(0,i.jsxs)(h.A,{sx:{display:"flex",justifyContent:"space-between",flexDirection:"row"},children:[(0,i.jsx)(U.A,{variant:"attention",sx:{my:"auto"},children:"Pending in batch"}),(0,i.jsxs)(h.A,{sx:{display:"flex",gap:2},children:[(0,i.jsx)(S.Q,{size:"medium",variant:"danger",onClick:()=>{e.removeSuggestedChangeFromPendingBatch(n),o("comments.remove_suggested_change_from_batch","REMOVE_SUGGESTED_CHANGE_FROM_BATCH_BUTTON")},children:"Remove from batch"}),(0,i.jsx)(S.Q,{ref:r,size:"medium",count:l,variant:"primary",onClick:a,children:`Apply suggestion${l>1?"s":""}`})]})]})}try{B.displayName||(B.displayName="CommitOrRemoveFromBatch")}catch{}function $({commentingImplementation:e,suggestedChange:t}){let{setIsDialogOpen:n}=(0,N.W)(),[r,a]=(0,p.useState)(!1),l=(0,p.useRef)(void 0),{pendingSuggestedChangesBatch:o,submitSuggestedChanges:s}=e,d=(0,w.c0)(t,o),c=0===o.length,{isValid:u,reason:m}=(0,w.EJ)(t,o),f=(0,p.useMemo)(()=>d?o:[t],[d,o,t]),g=(0,p.useCallback)(e=>{a(e),n?.(e)},[n]),x=(0,p.useCallback)(()=>{if(g(!1),l.current){let e=l.current.current;setTimeout(()=>e?.focus())}},[g]),y=(0,p.useCallback)(e=>{g(!0),l.current=e},[g,l]),b=(0,p.useCallback)((e,t,n)=>{s({suggestedChanges:f,commitMessage:e,onCompleted:()=>{x(),n()},onError:t})},[x,s,f]);return(0,i.jsxs)(h.A,{sx:{p:2,borderTop:"1px solid",borderColor:"border.default"},children:[d&&(0,i.jsx)(B,{commentingImplementation:e,suggestedChange:t,onOpenDialog:y}),!d&&!u&&m&&(0,i.jsx)(M,{reason:m,sx:{m:0}}),!d&&c&&(0,i.jsx)(T,{commentingImplementation:e,suggestedChange:t,onOpenDialog:y}),!d&&u&&!c&&(0,i.jsx)(L,{commentingImplementation:e,suggestedChange:t}),r&&(0,i.jsx)(F.$,{authorLogins:f.map(e=>e.authorLogin),batchSize:f.length,onClose:x,onCommit:b})]})}try{$.displayName||($.displayName="CodeSuggestionActions")}catch{}function P({applySuggestedChangesValidationData:e,comment:t,commentBodyRef:n,commentingImplementation:r,filePath:a,isOutdated:l,isThreadResolved:o,subject:s,suggestedChangesConfig:d,threadId:c,viewerData:u}){let m=function(e,t,n,i,r){let[a,l]=(0,p.useState)();return(0,v.N)(()=>{if(!e.current||"LINE"!==t.subjectType)return;let a=[...e.current.getElementsByClassName("js-apply-changes")];if(a.length>0){let e=[];for(let l of a){let a=l?.closest("div.js-suggested-changes-blob");if(!a)continue;let o=[...a.querySelectorAll(".js-blob-code-addition")];r.lineRange&&e.push({authorLogin:t.author?.login??"ghost",commentId:t.id,path:n,ref:l,suggestion:o.map(e=>e.textContent),lineRange:r.lineRange,threadId:i})}l(e)}},[r.lineRange,t.author?.login,t.bodyHTML,t.id,t.subjectType,e,n,i]),a}(n,t,a,c,e);return(0,i.jsx)(i.Fragment,{children:m?.length?m.map(n=>{let{isValid:a,reason:c}=(0,w.o_)({suggestedChange:n,isOutdated:l,isPending:"PENDING"===t.state,isResolved:o,pullRequestIsClosed:s?.state!=="OPEN",pullRequestIsInMergeQueue:!!s?.isInMergeQueue,userCanApplySuggestion:!!u?.viewerCanApplySuggestion,applySuggestedChangesValidationData:e,suggestedChangesConfig:d});return!a&&c?(0,j.createPortal)((0,i.jsx)(M,{reason:c}),n.ref):(0,j.createPortal)((0,i.jsx)($,{commentingImplementation:r,suggestedChange:n}),n.ref)}):null})}try{P.displayName||(P.displayName="SuggestedChangeView")}catch{}function H({isAnchorable:e=!1,index:t=0,isLastChild:n,isOutdated:v,isThreadResolved:j,anchorPrefix:w="r",comment:N,commentingImplementation:k,filePath:S,hideActions:L,enterDialogMode:D=s.l,onRefreshThread:E,onQuoteReply:_=s.l,subjectId:A,subject:I,threadCommentCount:R,threadId:T,threadsConnectionId:F,suggestedChangesConfig:O,applySuggestedChangesValidationData:M,viewerData:U,ghostUser:B=o.t.ghostUser,skipReactions:$=!1}){let{addToast:H}=(0,f.Y6)(),[V,K]=(0,p.useState)(!1),[z,G]=(0,p.useState)(N.isHidden),[W,q]=(0,p.useState)(N.body),[Q,X]=(0,p.useState)(!1),[Y,J]=(0,p.useState)(),{persistCommentToStorage:Z,removePersistedCommentFromStorage:ee}=(0,y.L)({subjectId:A,filePath:S,fileLevelComment:"FILE"===N.subjectType,threadId:N.id,handlePersistedCommentExists:({text:e})=>{e&&q(e)}}),{editComment:et,deleteComment:en,hideComment:ei,unhideComment:er,lazyFetchReactionGroups:ea}=k,el=(0,p.useRef)(null),eo=(0,p.useRef)(null),{isInDialogMode:es}=(0,g.q)(),ed=()=>{el.current?.focus()};(0,p.useEffect)(()=>{if(V){let e=window.setTimeout(ed);return()=>{window.clearTimeout(e)}}},[V]);let ec=(0,p.useCallback)(()=>{X(!0);let e=(0,b.u)(W,O?.sourceContentFromDiffLines??"");if(!e.isValid){J(e.errorMessage),X(!1);return}et({text:W,comment:N,onCompleted:()=>{K(!1),X(!1),ee(),E?.(T)},onError:()=>{X(!1),H({type:"error",message:"Failed to update comment"})}})},[H,W,N,et,E,ee,O,T]),eu=N.currentDiffResourcePath?.split("#r").pop(),em=eu?`${w}${eu}`:void 0,ef=em&&m.fV?new URL(`${m.fV.pathname}#${em}`,m.fV.origin).toString():void 0,eh=(0,p.useRef)(null);(0,p.useEffect)(()=>{e&&eu&&em&&window.location.hash.split("#").pop()===em&&((0,x.p)(eu,w),D?.(!1),eh.current?.focus())},[w,em,eu,D,e]);let ep={outline:"2px solid",outlineColor:"accent.fg",outlineOffset:"-2px",boxShadow:"none"},eg=t>0,ex=t>1,ey=k.suggestedChangesEnabled,eb=V?"editing":z?"hidden":"visible",eC={headingProps:{as:"h3"},avatarUrl:N.author?.avatarUrl??B.avatarUrl,comment:{...N,url:ef??"",referenceText:N.reference.text??`#${N.reference.number}`},commentRef:eh,deleteComment:()=>{en({commentId:N.id,onCompleted:()=>{E?.(T)},onError:()=>{X(!1),H({type:"error",message:"Failed to delete comment"})},threadCommentCount:R,threadId:T,threadsConnectionId:F,filePath:S})},editComment:()=>{K(!0)},editHistoryComponent:void 0,hideComment:e=>{ei({commentId:N.id,reason:e,onCompleted:()=>{E?.(T)},onError:()=>{X(!1),H({type:"error",message:"Failed to hide comment"})}})},onMinimize:G,isMinimized:z,commentAuthorLogin:N.author?.login??B.login,navigate:s.l,commentSubjectAuthorLogin:N.reference?.author?.login??"",commentSubjectType:k.commentSubjectType,onReplySelect:_,unhideComment:()=>{er({commentId:N.id,onCompleted:()=>{E?.(T)},onError:()=>{X(!1),H({type:"error",message:"Failed to unhide comment"})}})},hideActions:L,isReply:eg,forceInlineAvatar:!0,containerStyle:{}};return(0,i.jsxs)(h.A,{ref:eh,id:e?em:void 0,tabIndex:-1,sx:{"&:not(:first-child)":{backgroundColor:"canvas.inset"},"&:first-child + div":{borderTop:"1px solid",borderColor:"border.muted"},":target":ep,":focus":ep,pb:eg?0:2},children:[ex&&(0,i.jsx)(h.A,{sx:{display:"flex",pl:eg?1:0},children:(0,i.jsx)(h.A,{sx:{ml:4,height:8,borderLeft:"1px solid",borderColor:"border.default"}})}),(0,i.jsx)(h.A,{sx:{px:3,pt:ex?0:2,pb:0},children:(0,i.jsx)(a.v,{...eC,commentBody:N.body,threadCommentCount:R,isInDialogMode:es,actions:L?void 0:(0,i.jsx)(l.p,{...eC})})}),(0,i.jsxs)(h.A,{sx:{display:"flex",pl:eg?1:0},children:[eg&&(0,i.jsx)(h.A,{sx:{ml:4,mr:1,pl:3,borderLeft:"1px solid",borderColor:"border.default",...n&&{borderImage:"linear-gradient(to bottom, var(--borderColor-default, var(--color-border-default)), rgba(0, 0, 0, 0)) 1 100%"}}}),"editing"===eb&&(0,i.jsx)(h.A,{sx:{pr:2,pl:eg?0:2,pb:2,pt:1,flexGrow:1},children:(0,i.jsxs)(C.S,{ref:el,label:"Update comment",value:W,onChange:e=>{Z({text:e}),q(e),J(void 0)},onPrimaryAction:ec,userSettings:k.commentBoxConfig,suggestedChangesConfig:O,markdownErrorMessage:Y,children:[(0,i.jsx)(r.x,{variant:"default",onClick:()=>{K(!1),ee(),q(N.body)},children:"Cancel"}),(0,i.jsx)(r.x,{disabled:Q||!W.length,variant:"primary",onClick:ec,children:"Update"})]})}),"visible"===eb&&(0,i.jsx)(h.A,{sx:eg?{pb:2,pr:2,overflowX:"auto",width:"100%"}:{px:3,pb:2,width:"100%"},children:N.bodyHTML&&(0,i.jsxs)(i.Fragment,{children:[(0,i.jsx)(u.oG,{ref:eo,className:"markdown-body","comment-testid":`Comment body html for comment ${N.id}`,html:N.bodyHTML,sx:{mt:1,fontSize:1}}),!$&&(0,i.jsx)(h.A,{sx:{display:"flex",flexDirection:"column",mt:3},children:ea?(0,i.jsx)(p.Suspense,{fallback:(0,i.jsx)(d.e,{}),children:(0,i.jsx)(c.ReactionViewerRelayQueryComponent,{id:N.id})}):(0,i.jsx)(c.ReactionViewerRelay,{reactionGroups:N,subjectId:N.id})}),ey&&M&&(0,i.jsx)(P,{comment:N,commentBodyRef:eo,commentingImplementation:k,filePath:S,isOutdated:v,isThreadResolved:j,threadId:T,suggestedChangesConfig:O,applySuggestedChangesValidationData:M,subject:I,viewerData:U})]})})]})]})}try{H.displayName||(H.displayName="ReviewThreadComment")}catch{}},78869:(e,t,n)=>{n.d(t,{i:()=>s});var i=n(74848),r=n(67220),a=n(73974),l=n(75177),o=n(52464);function s({subject:e,sx:t,tabSize:n,hideHeaderDetails:s,diffTableSx:d}){if(!e?.diffLines||e?.diffLines.length<1)return null;let c=(0,r.c7)(e.diffLines);return(0,i.jsxs)(l.A,{sx:{m:3,border:0,borderBottomWidth:6,borderStyle:"solid",borderColor:"border.muted",borderBottomLeftRadius:2,borderBottomRightRadius:2,...t},children:[!s&&(0,i.jsx)(l.A,{sx:{borderWidth:1,borderStyle:"solid",borderTopLeftRadius:2,borderTopRightRadius:2,borderColor:"border.muted",color:"fg.muted",px:2,py:1},children:(0,i.jsxs)(o.A,{sx:{fontSize:0,color:"fg.muted"},children:["Line"," ",(0,a.Ah)({originalStartLine:e.originalStartLine,originalEndLine:e.originalEndLine,startDiffSide:e.startDiffSide,endDiffSide:e.endDiffSide}),", commit ",(0,i.jsx)("code",{children:e.pullRequestCommit?.commit.abbreviatedOid})]})}),(0,i.jsx)(a.l4,{lineWidth:c,lines:e.diffLines,tabSize:n,sx:d})]})}try{s.displayName||(s.displayName="StaticUnifiedDiffPreview")}catch{}},38061:(e,t,n)=>{n.d(t,{n:()=>a,u:()=>l});var i=n(96540);let r=(0,i.createContext)(null),a=()=>(0,i.useContext)(r),l=r.Provider;try{r.displayName||(r.displayName="ConversationMarkdownSubjectContext")}catch{}},56126:(e,t,n)=>{n.d(t,{W:()=>o,j:()=>l});var i=n(74848),r=n(96540);let a=(0,r.createContext)({});function l({children:e}){let[t,n]=(0,r.useState)(!1),l=(0,r.useMemo)(()=>({isDialogOpen:t,setIsDialogOpen:n}),[t,n]);return(0,i.jsx)(a.Provider,{value:l,children:e})}let o=()=>(0,r.useContext)(a);try{a.displayName||(a.displayName="DialogStateContext")}catch{}try{l.displayName||(l.displayName="DialogStateProvider")}catch{}},42242:(e,t,n)=>{n.d(t,{k:()=>l,q:()=>o});var i=n(74848),r=n(96540);let a=(0,r.createContext)({isInDialogMode:!1,enableInlineCommentDialogMode:()=>{},disableInlineCommentDialogMode:()=>{}});function l({children:e}){let[t,n]=(0,r.useState)(!1),l=(0,r.useCallback)(()=>n(!0),[]),o=(0,r.useCallback)(()=>n(!1),[]),s=(0,r.useMemo)(()=>({isInDialogMode:t,enableInlineCommentDialogMode:l,disableInlineCommentDialogMode:o}),[t,l,o]);return(0,i.jsx)(a.Provider,{value:s,children:e})}let o=()=>(0,r.useContext)(a);try{a.displayName||(a.displayName="InlineCommentDialogModeContext")}catch{}try{l.displayName||(l.displayName="InlineCommmentDialogModeProvider")}catch{}},96590:(e,t,n)=>{n.d(t,{$:()=>o});var i=n(74848),r=n(38621),a=n(8338),l=n(39298);let o=e=>(0,i.jsxs)(i.Fragment,{children:[(0,i.jsx)(a.l.Divider,{}),(0,i.jsx)(l.t,{eventContext:{prx:!0},leadingVisual:(0,i.jsx)(r.CopilotIcon,{}),fileDiffReference:e.copilotChatReference})]});try{o.displayName||(o.displayName="CopilotDiffChatBlobActionsMenuItems")}catch{}},35149:(e,t,n)=>{n.d(t,{i:()=>s});var i=n(74848),r=n(91618),a=n(46988),l=n(67136),o=n(8338);let s=({fileDiffReference:e,eventContext:t,afterSelect:n})=>{let{addToast:s}=(0,l.Y6)();return(0,i.jsx)(o.l.Item,{onSelect:()=>{(0,r.Oc)(e),s({message:"Reference added to thread",type:"success"}),(0,a.BI)("copilot.file-diff.add",t),n?.()},children:"Attach to current thread"})};try{s.displayName||(s.displayName="DiffLinesAttachMenuItem")}catch{}},39298:(e,t,n)=>{n.d(t,{t:()=>s});var i=n(74848),r=n(91618),a=n(77342),l=n(46988),o=n(8338);let s=({fileDiffReference:e,leadingVisual:t,eventContext:n,afterSelect:s})=>(0,i.jsxs)(o.l.Item,{onSelect:()=>{(0,r.qR)({intent:a.wh.conversation,references:[e]}),(0,l.BI)("copilot.file-diff.discuss",n),s?.()},children:[t&&(0,i.jsx)(o.l.LeadingVisual,{children:t}),"Ask about this diff"]});try{s.displayName||(s.displayName="DiffLinesDiscussMenuItem")}catch{}},5993:(e,t,n)=>{n.d(t,{e:()=>s});var i=n(74848),r=n(91618),a=n(77342),l=n(46988),o=n(8338);let s=({fileDiffReference:e,eventContext:t,afterSelect:n})=>(0,i.jsx)(o.l.Item,{onSelect:()=>{(0,r.qR)({content:"Explain",intent:a.wh.explainFileDiff,references:[e]}),(0,l.BI)("copilot.file-diff.explain",t),n?.()},children:"Explain"});try{s.displayName||(s.displayName="DiffLinesExplainMenuItem")}catch{}},10712:(e,t,n)=>{n.d(t,{eL:()=>g,oj:()=>j});var i=n(74848),r=n(21728),a=n(38621),l=n(96540),o=n(12719),s=n(34614),d=n(7284),c=n(26920),u=n(58599),m=n(28448),f=n(29063),h=n(47584);let p={"file-tree-row":"DiffFileTree-module__file-tree-row--yr73E"},g="diff_file_tree",x=(0,l.memo)(function(e){let t;let n=(0,r.c)(2),{changeType:a}=e;return n[0]!==a?(t=(0,i.jsx)(u.E,{status:a}),n[0]=a,n[1]=t):t=n[1],t});x.displayName="FileStatusIconItem";let y=(0,l.memo)(function(e){let t,n,c,u,f,y,b,C,v,j;let w=(0,r.c)(44),{file:N,depth:k,hash:S,onSelect:L}=e,D=(0,l.useRef)(null),E=(0,l.useRef)(null),_=`#diff-${N.diff.pathDigest}`;w[0]===Symbol.for("react.memo_cache_sentinel")?(t={focusRowRef:D,mouseRowRef:D},w[0]=t):t=w[0];let A=(0,m.Z)(t),I=N.diff.totalCommentsCount??0,R=N.diff.highestAnnotationLevel,T=null,F=null;switch(R){case"WARNING":{let e,t;let n=I>0?"and ":"";w[1]!==n?(e=(0,i.jsxs)("span",{className:"sr-only",children:[n," has warning annotations"]}),w[1]=n,w[2]=e):e=w[2],F=e,w[3]===Symbol.for("react.memo_cache_sentinel")?(t=(0,i.jsx)("div",{className:"pl-1 fgColor-attention",children:(0,i.jsx)(a.AlertIcon,{})}),w[3]=t):t=w[3],T=t;break}case"NOTICE":{let e,t;let n=I>0?"and ":"";w[4]!==n?(e=(0,i.jsxs)("span",{className:"sr-only",children:[n," has notice annotations"]}),w[4]=n,w[5]=e):e=w[5],F=e,w[6]===Symbol.for("react.memo_cache_sentinel")?(t=(0,i.jsx)("div",{className:"pl-1 fgColor-default",children:(0,i.jsx)(a.InfoIcon,{})}),w[6]=t):t=w[6],T=t;break}case"FAILURE":{let e,t;let n=I>0?"and ":"";w[7]!==n?(e=(0,i.jsxs)("span",{className:"sr-only",children:[n," has failure annotations"]}),w[7]=n,w[8]=e):e=w[8],F=e,w[9]===Symbol.for("react.memo_cache_sentinel")?(t=(0,i.jsx)("div",{className:"pl-1 fgColor-danger",children:(0,i.jsx)(a.XCircleFillIcon,{})}),w[9]=t):t=w[9],T=t}}w[10]!==N.diff.pathDigest||w[11]!==S?(n=()=>{if(D.current&&N.diff.pathDigest===S){let e=window.setTimeout(()=>{let e=h.XC?.getElementById(g)?.parentElement,t=D.current.offsetTop,n=h.cg?.innerHeight??0;e&&(e.scrollTop=t-n/2)},0);return()=>{window.clearTimeout(e)}}},c=[N.diff.pathDigest,S],w[10]=N.diff.pathDigest,w[11]=S,w[12]=n,w[13]=c):(n=w[12],c=w[13]),(0,l.useEffect)(n,c),w[14]!==_||w[15]!==N.diff||w[16]!==L?(u=e=>{if(e.nativeEvent instanceof KeyboardEvent){if(D?.current!==document.activeElement){e.preventDefault();return}if("Enter"===e.key||" "===e.key){e.preventDefault(),L?.(N.diff),E?.current?.click();return}}if(e.nativeEvent instanceof MouseEvent){if(e.metaKey||e.ctrlKey||1===e.button){e.preventDefault(),window.open(_,"_blank");return}L?.(N.diff),E?.current?.click()}},w[14]=_,w[15]=N.diff,w[16]=L,w[17]=u):u=w[17];let O=u,M=N.diff.pathDigest===S;return w[18]!==N.diff.changeType?(f=(0,i.jsx)(o.G.LeadingVisual,{children:(0,i.jsx)(x,{changeType:N.diff.changeType})}),w[18]=N.diff.changeType,w[19]=f):f=w[19],w[20]!==_||w[21]!==N.fileName?(y=(0,i.jsx)(s.A,{href:_,muted:!0,ref:E,role:"presentation",className:"fgColor-default",tabIndex:-1,children:N.fileName}),w[20]=_,w[21]=N.fileName,w[22]=y):y=w[22],w[23]!==N.fileName||w[24]!==A?(b=A&&(0,i.jsx)(d.m,{"data-testid":`${N.fileName}-item-tooltip`,id:`${N.fileName}-item-tooltip`,contentRef:D,"aria-label":N.fileName,open:!0,direction:"ne"}),w[23]=N.fileName,w[24]=A,w[25]=b):b=w[25],w[26]!==I?(C=!!I&&(0,i.jsxs)("span",{className:"sr-only",children:["has ",I<10?I:"9+"," ",I>1?"comments":"comment"]}),w[26]=I,w[27]=C):C=w[27],w[28]!==T||w[29]!==R||w[30]!==I?(v=(!!I||R)&&(0,i.jsx)(o.G.TrailingVisual,{children:(0,i.jsxs)("div",{className:"d-flex flex-items-center flex-row",children:[!!I&&(0,i.jsxs)(i.Fragment,{children:[(0,i.jsx)(a.CommentIcon,{}),(0,i.jsx)("div",{className:"ml-1 text-bold fgColor-default f6",children:I<10?I:"9+"})]}),T]})}),w[28]=T,w[29]=R,w[30]=I,w[31]=v):v=w[31],w[32]!==F||w[33]!==k||w[34]!==N.diff.path||w[35]!==N.diff.pathDigest||w[36]!==O||w[37]!==v||w[38]!==M||w[39]!==f||w[40]!==y||w[41]!==b||w[42]!==C?(j=(0,i.jsx)(i.Fragment,{children:(0,i.jsxs)(o.G.Item,{defaultExpanded:!0,"aria-level":k,current:M,id:N.diff.path,onSelect:O,ref:D,className:p["file-tree-row"],children:[f,y,b,C,F,v]},N.diff.pathDigest)}),w[32]=F,w[33]=k,w[34]=N.diff.path,w[35]=N.diff.pathDigest,w[36]=O,w[37]=v,w[38]=M,w[39]=f,w[40]=y,w[41]=b,w[42]=C,w[43]=j):j=w[43],j});function b(e){let t,n,a,s,c,u,f,h,p,g,x,y;let j=(0,r.c)(43);j[0]!==e?({directory:t,renderPattern:a,depth:s,leadingPath:c,...n}=e,j[0]=e,j[1]=t,j[2]=n,j[3]=a,j[4]=s,j[5]=c):(t=j[1],n=j[2],a=j[3],s=j[4],c=j[5]);let w=void 0===s?0:s,N=void 0===c?"":c,k=N?`${N}/`:"",S=l.useRef(null),L=l.useRef(null);j[6]===Symbol.for("react.memo_cache_sentinel")?(u={focusRowRef:L,mouseRowRef:S},j[6]=u):u=j[6];let D=(0,m.Z)(u);if(!t.files.length&&1===t.directories.length){let e,r;if(j[7]!==w||j[8]!==t.directories||j[9]!==t.name||j[10]!==n||j[11]!==k||j[12]!==a){let r;j[14]!==w||j[15]!==t.name||j[16]!==n||j[17]!==k||j[18]!==a?(r=e=>(0,i.jsx)(b,{depth:0===w?1:w,directory:e,leadingPath:`${k}${t.name}`,renderPattern:a,...n},e.path),j[14]=w,j[15]=t.name,j[16]=n,j[17]=k,j[18]=a,j[19]=r):r=j[19],e=t.directories.map(r),j[7]=w,j[8]=t.directories,j[9]=t.name,j[10]=n,j[11]=k,j[12]=a,j[13]=e}else e=j[13];return j[20]!==e?(r=(0,i.jsx)(i.Fragment,{children:e}),j[20]=e,j[21]=r):r=j[21],r}j[22]!==w||j[23]!==t||j[24]!==n||j[25]!==a?(f=function(){return"traditional"===a?(0,i.jsx)(C,{directory:t,depth:w,renderPattern:a,...n}):(0,i.jsx)(v,{directory:t,depth:w,renderPattern:a,...n})},j[22]=w,j[23]=t,j[24]=n,j[25]=a,j[26]=f):f=j[26];let E=f;if(0===w){let e;return j[27]!==E?(e=E(),j[27]=E,j[28]=e):e=j[28],e}j[29]===Symbol.for("react.memo_cache_sentinel")?(h=(0,i.jsx)(o.G.LeadingVisual,{children:(0,i.jsx)(o.G.DirectoryIcon,{})}),j[29]=h):h=j[29];let _=`${k}${t.name}`;return j[30]!==_?(p=(0,i.jsx)("span",{ref:S,children:_}),j[30]=_,j[31]=p):p=j[31],j[32]!==t.name||j[33]!==k||j[34]!==D?(g=D&&(0,i.jsx)(d.m,{"data-testid":`${t.name}-directory-item-tooltip`,id:`${t.name}-directory-item-tooltip`,contentRef:L,"aria-label":`${k}${t.name}`,open:!0,direction:"ne"}),j[32]=t.name,j[33]=k,j[34]=D,j[35]=g):g=j[35],j[36]!==E?(x=(0,i.jsx)(o.G.SubTree,{children:E()}),j[36]=E,j[37]=x):x=j[37],j[38]!==t.path||j[39]!==p||j[40]!==g||j[41]!==x?(y=(0,i.jsx)(i.Fragment,{children:(0,i.jsxs)(o.G.Item,{ref:L,defaultExpanded:!0,id:t.path,children:[h,p,g,x]},t.path)}),j[38]=t.path,j[39]=p,j[40]=g,j[41]=x,j[42]=y):y=j[42],y}let C=(0,l.memo)(function(e){let t,n,a,l,o,s;let d=(0,r.c)(17);d[0]!==e?({directory:t,renderPattern:a,depth:l,...n}=e,d[0]=e,d[1]=t,d[2]=n,d[3]=a,d[4]=l):(t=d[1],n=d[2],a=d[3],l=d[4]);let c=void 0===l?0:l;if(d[5]!==c||d[6]!==t.directories||d[7]!==t.files||d[8]!==n||d[9]!==a){let e;let r=t.files.map(w).concat(t.directories.map(N));r.sort(k),d[11]!==c||d[12]!==n||d[13]!==a?(e=e=>"file"===e.pathType?(0,i.jsx)(y,{depth:c+1,file:e.node,...n},e.path):(0,i.jsx)(b,{depth:c+1,directory:e.node,renderPattern:a,...n},e.path),d[11]=c,d[12]=n,d[13]=a,d[14]=e):e=d[14],o=r.map(e),d[5]=c,d[6]=t.directories,d[7]=t.files,d[8]=n,d[9]=a,d[10]=o}else o=d[10];return d[15]!==o?(s=(0,i.jsx)(i.Fragment,{children:o}),d[15]=o,d[16]=s):s=d[16],s});function v(e){let t,n,a,l,o,s;let d=(0,r.c)(21);d[0]!==e?({directory:t,depth:a,...n}=e,d[0]=e,d[1]=t,d[2]=n,d[3]=a):(t=d[1],n=d[2],a=d[3]);let c=void 0===a?0:a;if(d[4]!==c||d[5]!==t.files||d[6]!==n){let e;d[8]!==c||d[9]!==n?(e=e=>(0,i.jsx)(y,{depth:c+1,file:e,...n},e.filePath),d[8]=c,d[9]=n,d[10]=e):e=d[10],l=t.files.map(e),d[4]=c,d[5]=t.files,d[6]=n,d[7]=l}else l=d[7];if(d[11]!==c||d[12]!==t.directories||d[13]!==n){let e;d[15]!==c||d[16]!==n?(e=e=>(0,i.jsx)(b,{depth:c+1,directory:e,...n},e.path),d[15]=c,d[16]=n,d[17]=e):e=d[17],o=t.directories.map(e),d[11]=c,d[12]=t.directories,d[13]=n,d[14]=o}else o=d[14];return d[18]!==l||d[19]!==o?(s=(0,i.jsxs)(i.Fragment,{children:[l,o]}),d[18]=l,d[19]=o,d[20]=s):s=d[20],s}let j=(0,l.memo)(function(e){let t,n,a,s,d,u,m,p;let g=(0,r.c)(14);g[0]!==e?({diffs:t,renderPattern:a,...n}=e,g[0]=e,g[1]=t,g[2]=n,g[3]=a):(t=g[1],n=g[2],a=g[3]),g[4]!==t?(s=(0,c.xY)(t),g[4]=t,g[5]=s):s=g[5];let x=s,[y,C]=l.useState("");g[6]===Symbol.for("react.memo_cache_sentinel")?(d=()=>{C(((0,f.pd)(h.fV.hash??"")??"").replace("diff-",""))},g[6]=d):d=g[6];let v=d;return g[7]===Symbol.for("react.memo_cache_sentinel")?(u=()=>(window.addEventListener("hashchange",v),v(),()=>{window.removeEventListener("hashchange",v)}),m=[v],g[7]=u,g[8]=m):(u=g[7],m=g[8]),(0,l.useEffect)(u,m),g[9]!==n||g[10]!==x||g[11]!==y||g[12]!==a?(p=(0,i.jsx)(o.G,{"aria-label":"File Tree",children:(0,i.jsx)(b,{directory:x,renderPattern:a,...n,hash:y})}),g[9]=n,g[10]=x,g[11]=y,g[12]=a,g[13]=p):p=g[13],p});try{y.displayName||(y.displayName="File")}catch{}try{b.displayName||(b.displayName="Directory")}catch{}try{C.displayName||(C.displayName="TraditionalDirectoryRendering")}catch{}try{v.displayName||(v.displayName="GroupedDirectoryRendering")}catch{}try{j.displayName||(j.displayName="DiffFileTree")}catch{}function w(e){return{path:e.filePath,pathType:"file",node:e}}function N(e){return{path:e.path,pathType:"directory",node:e}}function k(e,t){return(0,c.wH)(e.path,t.path)}},3240:(e,t,n)=>{n.d(t,{kF:()=>g,F7:()=>p});var i,r=n(74848),a=n(21728),l=n(38621),o=n(67138),s=n(89323),d=n(87330),c=n(63867),u=n(8338),m=n(96540),f=n(20053);let h={filterLoadingHeight:"FileFilter-module__filterLoadingHeight--cW8BP"},p="No extension";function g(e){let t,n,i,c,f,h,g,y,b,C,v,j,w,N,k,S,L,D,E;let _=(0,a.c)(60),{filterText:A,onFilterTextChange:I,fileExtensions:R,unselectedFileExtensions:T,onFilterChange:F,additionalFilterGroups:O}=e,[M,U]=(0,m.useState)(A);_[0]!==F?(t=(e,t)=>{F?.(e?"selectFileExtension":"unselectFileExtension",{extension:t})},_[0]=F,_[1]=t):t=_[1];let B=t;if(_[2]!==R||_[3]!==M||_[4]!==I||_[5]!==B||_[6]!==T){let e,t,a,m,N;_[19]!==R?(e=R||[],_[19]=R,_[20]=e):e=_[20];let k=Array.from(e).filter(x).sort();_[21]!==T?(t=e=>!T?.has(e),_[21]=T,_[22]=t):t=_[22],h=t,_[23]!==R?(a=R?.has(p),_[23]=R,_[24]=a):a=_[24],g=a,j="d-flex flex-nowrap gap-2",_[25]!==I?(m=e=>{U(e.target.value),I?.(e.target.value)},_[25]=I,_[26]=m):m=_[26],_[27]!==M||_[28]!==m?(w=(0,r.jsx)(o.A,{block:!0,"aria-label":"Filter files\u2026",leadingVisual:l.SearchIcon,placeholder:"Filter files\u2026",value:M,onChange:m}),_[27]=M,_[28]=m,_[29]=w):w=_[29],f=s.W,_[30]===Symbol.for("react.memo_cache_sentinel")?(v=(0,r.jsx)(s.W.Anchor,{children:(0,r.jsx)(d.K,{unsafeDisableTooltip:!0,"aria-label":"Filter",icon:l.SlidersIcon,className:"flex-shrink-0"})}),_[30]=v):v=_[30],c=s.W.Overlay,i=u.l,n=u.l.Group,y="multiple",_[31]===Symbol.for("react.memo_cache_sentinel")?(b=(0,r.jsx)(u.l.GroupHeading,{children:"File extensions"}),_[31]=b):b=_[31],_[32]!==h||_[33]!==B?(N=e=>{let t=h(e);return(0,r.jsx)(u.l.Item,{selected:t,onSelect:()=>B(!t,e),children:`${e}`},e)},_[32]=h,_[33]=B,_[34]=N):N=_[34],C=k.map(N),_[2]=R,_[3]=M,_[4]=I,_[5]=B,_[6]=T,_[7]=n,_[8]=i,_[9]=c,_[10]=f,_[11]=h,_[12]=g,_[13]=y,_[14]=b,_[15]=C,_[16]=v,_[17]=j,_[18]=w}else n=_[7],i=_[8],c=_[9],f=_[10],h=_[11],g=_[12],y=_[13],b=_[14],C=_[15],v=_[16],j=_[17],w=_[18];return _[35]!==h||_[36]!==g||_[37]!==B?(N=g&&(0,r.jsx)(u.l.Item,{selected:h(p),onSelect:()=>B(!h(p),p),children:p},p),_[35]=h,_[36]=g,_[37]=B,_[38]=N):N=_[38],_[39]!==n||_[40]!==y||_[41]!==b||_[42]!==C||_[43]!==N?(k=(0,r.jsxs)(n,{selectionVariant:y,children:[b,C,N]}),_[39]=n,_[40]=y,_[41]=b,_[42]=C,_[43]=N,_[44]=k):k=_[44],_[45]!==i||_[46]!==O||_[47]!==k?(S=(0,r.jsxs)(i,{children:[k,O]}),_[45]=i,_[46]=O,_[47]=k,_[48]=S):S=_[48],_[49]!==c||_[50]!==S?(L=(0,r.jsx)(c,{children:S}),_[49]=c,_[50]=S,_[51]=L):L=_[51],_[52]!==f||_[53]!==L||_[54]!==v?(D=(0,r.jsxs)(f,{children:[v,L]}),_[52]=f,_[53]=L,_[54]=v,_[55]=D):D=_[55],_[56]!==D||_[57]!==j||_[58]!==w?(E=(0,r.jsxs)("div",{className:j,children:[w,D]}),_[56]=D,_[57]=j,_[58]=w,_[59]=E):E=_[59],E}function x(e){return e!==p}try{(i=function(e){let t,n,i,u,m;let p=(0,a.c)(9),{filterText:g,onFilterTextChange:x}=e;return p[0]!==x?(t=e=>x?.(e.target.value),p[0]=x,p[1]=t):t=p[1],p[2]!==g||p[3]!==t?(n=(0,r.jsx)(o.A,{block:!0,"aria-label":"Filter files\u2026",leadingVisual:l.SearchIcon,placeholder:"Filter files\u2026",value:g,onChange:t}),p[2]=g,p[3]=t,p[4]=n):n=p[4],p[5]===Symbol.for("react.memo_cache_sentinel")?(i=(0,r.jsx)(s.W.Anchor,{children:(0,r.jsx)(d.K,{unsafeDisableTooltip:!0,"aria-label":"Filter",icon:l.SlidersIcon,className:"flex-shrink-0"})}),p[5]=i):i=p[5],p[6]===Symbol.for("react.memo_cache_sentinel")?(u=(0,r.jsxs)(s.W,{children:[i,(0,r.jsx)(s.W.Overlay,{className:(0,f.$)(h.filterLoadingHeight),children:(0,r.jsx)("div",{className:(0,f.$)("d-flex","flex-column","flex-justify-center","flex-items-center",h.filterLoadingHeight),children:(0,r.jsx)(c.A,{size:"medium"})})})]}),p[6]=u):u=p[6],p[7]!==n?(m=(0,r.jsxs)("div",{className:"d-flex flex-nowrap gap-2",children:[n,u]}),p[7]=n,p[8]=m):m=p[8],m}).displayName||(i.displayName="FileFilterLoading")}catch{}try{g.displayName||(g.displayName="FileFilterShared")}catch{}},58599:(e,t,n)=>{n.d(t,{E:()=>l});var i=n(74848),r=n(21728),a=n(38621);function l(e){let t=(0,r.c)(4),{status:n}=e;switch(n){case"ADDED":case"COPIED":{let e;return t[0]===Symbol.for("react.memo_cache_sentinel")?(e=(0,i.jsx)(a.FileAddedIcon,{size:16,className:"fgColor-success"}),t[0]=e):e=t[0],e}case"DELETED":case"REMOVED":{let e;return t[1]===Symbol.for("react.memo_cache_sentinel")?(e=(0,i.jsx)(a.FileRemovedIcon,{size:16,className:"fgColor-danger"}),t[1]=e):e=t[1],e}case"RENAMED":{let e;return t[2]===Symbol.for("react.memo_cache_sentinel")?(e=(0,i.jsx)(a.FileMovedIcon,{size:16,className:"fgColor-attention"}),t[2]=e):e=t[2],e}default:{let e;return t[3]===Symbol.for("react.memo_cache_sentinel")?(e=(0,i.jsx)(a.FileDiffIcon,{size:16,className:"fgColor-muted"}),t[3]=e):e=t[3],e}}}try{l.displayName||(l.displayName="FileStatusIcon")}catch{}},13253:(e,t,n)=>{n.d(t,{Y:()=>p,o:()=>f});var i=n(74848),r=n(13080),a=n(47584),l=n(96540),o=n(46996),s=n(90189),d=n(29063),c=n(45725),u=n(37109);let m=(0,l.createContext)(null);function f(){let e=(0,l.useContext)(m);if(!e)throw Error("useSelectedDiffRowRange must be used within a SelectedDiffRowRangeContext");return e}function h(e){e.startLineNumber===e.endLineNumber&&e.startOrientation===e.endOrientation?(0,r.i)(`${"left"===e.startOrientation?"L":"R"}${e.startLineNumber} selected.`):(0,r.i)(`${"left"===e.startOrientation?"L":"R"}${e.startLineNumber} to ${"left"===e.endOrientation?"L":"R"}${e.endLineNumber} selected.`)}function p({children:e}){let t=(0,l.useRef)(new Map),n=(0,c.K)((e,n)=>{if(!e)return;let i=e.diffAnchor,r=t.current.get(i);if(!r)return;let{leftLines:a,rightLines:l}=(0,u.Mk)(r);return(0,s.A)({selectedDiffRowRange:e,leftLines:a,rightLines:l,isNumberCell:n})}),[f,p]=(0,l.useState)(()=>(0,d.ZD)(a.fV.hash)),[g,x]=(0,l.useState)(()=>{if(f){let e=n(f);if(e)return{leftLines:e.selectedLeftLines,rightLines:e.selectedRightLines||[]}}return{leftLines:[],rightLines:[]}}),y=(0,c.K)((e,t)=>{let i=n(e,t),r=i?{leftLines:i.selectedLeftLines,rightLines:i.selectedRightLines||[]}:{leftLines:[],rightLines:[]};(0,o.A)(g,r)||x(r)}),b=(0,c.K)((e,t,n,i,r)=>{if(!t||!n)return;let a=i&&f&&f.diffAnchor===e?t<=f.firstSelectedLineNumber?{...f,startLineNumber:t,startOrientation:n,endLineNumber:f.firstSelectedLineNumber,endOrientation:f.firstSelectedOrientation}:{...f,startLineNumber:f.firstSelectedLineNumber,startOrientation:f.firstSelectedOrientation,endLineNumber:t,endOrientation:n}:{diffAnchor:e,endLineNumber:t,endOrientation:n,startLineNumber:t,startOrientation:n,firstSelectedLineNumber:t,firstSelectedOrientation:n};h(a),(r||i)&&p(a),y(a,r),(0,d.i8)(a)}),C=(0,c.K)(e=>{h(e),p(e),y(e),(0,d.i8)(e)}),v=(0,c.K)(({diffAnchor:e,startGridCell:t,endGridCell:n,focusedGridCell:i})=>{C({diffAnchor:e,endLineNumber:n.lineNumber,endOrientation:n.orientation,firstSelectedLineNumber:i.lineNumber,firstSelectedOrientation:i.orientation,startLineNumber:t.lineNumber,startOrientation:t.orientation})}),j=(0,c.K)(()=>{f&&(p(void 0),y(void 0),(0,r.i)("Selection Cleared"),history.replaceState({},"",window.location.pathname+window.location.search))}),w=(0,c.K)((e,n)=>{t.current.set(e,n),f?.diffAnchor===e&&y(f)}),N=(0,c.K)(e=>t.current.get(e)),k=(0,l.useMemo)(()=>({selectedDiffRowRange:f,updateSelectedDiffRowRange:b,clearSelectedDiffRowRange:j,replaceSelectedDiffRowRange:C,replaceSelectedDiffRowRangeFromGridCells:v,updateDiffLines:w,selectedDiffLines:g,getDiffLinesFromLineRange:n,getDiffLinesByDiffAnchor:N}),[f,b,j,C,v,g,w,n,N]);return(0,i.jsx)(m.Provider,{value:k,children:e})}try{m.displayName||(m.displayName="SelectedDiffRowRange")}catch{}try{p.displayName||(p.displayName="SelectedDiffRowRangeContextProvider")}catch{}},47326:(e,t,n)=>{n.d(t,{G:()=>U});var i=n(74848),r=n(21728),a=n(38621),l=n(89323),o=n(8338),s=n(20053),d=n(84217),c=n(55847),u=n(98939),m=n(96540),f=n(56176),h=n(5796),p=n(86365),g=n(57572);function x(e){return!e.dismissed}function y(e){return 0===(function(){let e,t;let n=(0,r.c)(5),i=(0,p.B)();if(!i){let e;return n[0]===Symbol.for("react.memo_cache_sentinel")?(e=[],n[0]=e):e=n[0],e}n[1]!==i.userNotices?(e=i.userNotices??[],n[1]=i.userNotices,n[2]=e):e=n[2];let a=e;return n[3]!==a?(t=a.filter(x),n[3]=a,n[4]=t):t=n[4],t})().filter(t=>t.name===e).length}var b=n(97665),C=n(94747),v=n(86617);function j(e){let t,n,i,a,l;let o=(0,r.c)(11),{onSuccess:s,onError:d}=e,c=(0,b.jE)();return o[0]===Symbol.for("react.memo_cache_sentinel")?(t=async e=>{let{commentsPreference:t,lineSpacing:n,splitPreference:i}=e;if(!(0,f.M3)())return;let r={};t&&(r={...r,commentsPreference:t}),n&&(r={...r,lineSpacing:n}),i&&(r={...r,diff:i});let a=await (0,g.Sr)("/users/diffview",{method:"POST",headers:{Accept:"application/json"},body:r}),l=await a.json();if(a.ok)return l;throw Error(l.error||"Unknown error occurred",{cause:a.status})},o[0]=t):t=o[0],o[1]!==c?(n=async e=>{c.setQueryData((0,v.nZ)(),t=>({...t,...e}))},o[1]=c,o[2]=n):n=o[2],o[3]!==s?(i=()=>{s()},o[3]=s,o[4]=i):i=o[4],o[5]!==d?(a=e=>{d(e)},o[5]=d,o[6]=a):a=o[6],o[7]!==n||o[8]!==i||o[9]!==a?(l={mutationFn:t,onMutate:n,onSuccess:i,onError:a},o[7]=n,o[8]=i,o[9]=a,o[10]=l):l=o[10],(0,C.n)(l)}let w="compact_diff_lines";function N(){let e,t,n,a,l,o,s,p,x,b,C,v,N;let L=(0,r.c)(22),D=y(w),{dismissNotice:E}=function(e){let t,n;let i=(0,r.c)(5),a=y(e);i[0]!==a||i[1]!==e?(t=()=>{(0,f.M3)()&&!a&&(0,g.DI)((0,h.VB1)({noticeName:e}),{method:"POST"})},i[0]=a,i[1]=e,i[2]=t):t=i[2];let l=t;return i[3]!==l?(n={dismissNotice:l},i[3]=l,i[4]=n):n=i[4],n}(w);L[0]===Symbol.for("react.memo_cache_sentinel")?(e={onSuccess:S,onError:k},L[0]=e):e=L[0];let{mutate:_}=j(e),[A,I]=(0,m.useState)(!0);L[1]!==E||L[2]!==_?(t=()=>{_({lineSpacing:"compact"}),I(!1),E()},L[1]=E,L[2]=_,L[3]=t):t=L[3];let R=t;L[4]!==E?(n=()=>{I(!1),E()},L[4]=E,L[5]=n):n=L[5];let T=n;return D?null:(L[6]===Symbol.for("react.memo_cache_sentinel")?(a={top:"60px",right:"-4px"},L[6]=a):a=L[6],L[7]===Symbol.for("react.memo_cache_sentinel")?(l={minWidth:"260px",width:"40%"},L[7]=l):l=L[7],L[8]===Symbol.for("react.memo_cache_sentinel")?(o=(0,i.jsx)(d.A,{sx:{fontSize:2},as:"h2",children:"Customizable line height"}),s=(0,i.jsx)("p",{children:"The default line height has been increased for improved accessibility. You can choose to enable a more compact line height from the view settings menu."}),L[8]=o,L[9]=s):(o=L[8],s=L[9]),L[10]===Symbol.for("react.memo_cache_sentinel")?(p={flexShrink:0,flexGrow:1},L[10]=p):p=L[10],L[11]!==R?(x=(0,i.jsx)(c.Q,{onClick:R,sx:p,children:"Enable compact line height"}),L[11]=R,L[12]=x):x=L[12],L[13]===Symbol.for("react.memo_cache_sentinel")?(b={color:"accent.fg",flexGrow:1},L[13]=b):b=L[13],L[14]!==T?(C=(0,i.jsx)(c.Q,{onClick:T,variant:"invisible",sx:b,alignContent:"center",children:"Dismiss"}),L[14]=T,L[15]=C):C=L[15],L[16]!==C||L[17]!==x?(v=(0,i.jsxs)(u.A.Content,{className:"d-flex flex-column gap-2",sx:l,children:[o,s,(0,i.jsxs)("div",{className:"d-flex gap-2 flex-row w-full flex-wrap",children:[x,C]})]}),L[16]=C,L[17]=x,L[18]=v):v=L[18],L[19]!==A||L[20]!==v?(N=(0,i.jsx)(u.A,{open:A,caret:"top-right",sx:a,children:v}),L[19]=A,L[20]=v,L[21]=N):N=L[21],N)}function k(){}function S(){}try{N.displayName||(N.displayName="DiffCompactLinesPopover")}catch{}function L(e){let t,n,a,l,s;let d=(0,r.c)(15),{lineSpacingPreferenceAvailable:c,reloadOnChange:u}=e,m=void 0===c||c,f=void 0!==u&&u,{data:h}=(0,v.Pe)();d[0]===Symbol.for("react.memo_cache_sentinel")?(t={onSuccess:E,onError:D},d[0]=t):t=d[0];let{mutate:p}=j(t),g=(0,b.jE)();d[1]!==h||d[2]!==g||d[3]!==f?(n=()=>{h&&(g.setQueryData((0,v.nZ)(),e=>({...e,hideWhitespace:!h.hideWhitespace})),(0,v.bJ)("w",h.hideWhitespace?"0":"1"),f&&window.location.reload())},d[1]=h,d[2]=g,d[3]=f,d[4]=n):n=d[4];let x=n;return h?(d[5]!==h.hideWhitespace||d[6]!==x?(a=(0,i.jsx)(o.l.Item,{selected:h.hideWhitespace,onSelect:x,children:"Hide whitespace"}),d[5]=h.hideWhitespace,d[6]=x,d[7]=a):a=d[7],d[8]!==h.lineSpacing||d[9]!==m||d[10]!==p?(l=m&&(0,i.jsx)(o.l.Item,{selected:"compact"===h.lineSpacing,onSelect:()=>p({lineSpacing:"compact"===h.lineSpacing?"relaxed":"compact"}),children:"Compact line height"}),d[8]=h.lineSpacing,d[9]=m,d[10]=p,d[11]=l):l=d[11],d[12]!==a||d[13]!==l?(s=(0,i.jsxs)(o.l.Group,{selectionVariant:"multiple",variant:"subtle",children:[a,l]}),d[12]=a,d[13]=l,d[14]=s):s=d[14],s):null}function D(){}function E(){}try{L.displayName||(L.displayName="DiffLinePresentationToggles")}catch{}function _(e){let t,n,a,l,s,d,c;let u=(0,r.c)(17),{reloadOnChange:m}=e,f=void 0!==m&&m,{data:h}=(0,v.Pe)(),p=h?.splitPreference;u[0]===Symbol.for("react.memo_cache_sentinel")?(t={onSuccess:I,onError:A},u[0]=t):t=u[0];let{mutate:g}=j(t);u[1]===Symbol.for("react.memo_cache_sentinel")?(n=(0,i.jsx)(o.l.GroupHeading,{children:"Layout"}),u[1]=n):n=u[1];let x="unified"===p;u[2]!==f||u[3]!==g?(a=()=>{g({splitPreference:"unified"}),(0,v.bJ)("diff","unified"),f&&window.location.reload()},u[2]=f,u[3]=g,u[4]=a):a=u[4],u[5]!==x||u[6]!==a?(l=(0,i.jsx)(o.l.Item,{selected:x,onSelect:a,children:"Unified"}),u[5]=x,u[6]=a,u[7]=l):l=u[7];let y="split"===p;return u[8]!==f||u[9]!==g?(s=()=>{g({splitPreference:"split"}),(0,v.bJ)("diff","split"),f&&window.location.reload()},u[8]=f,u[9]=g,u[10]=s):s=u[10],u[11]!==y||u[12]!==s?(d=(0,i.jsx)(o.l.Item,{selected:y,onSelect:s,children:"Split"}),u[11]=y,u[12]=s,u[13]=d):d=u[13],u[14]!==l||u[15]!==d?(c=(0,i.jsxs)(o.l.Group,{selectionVariant:"single",children:[n,l,d]}),u[14]=l,u[15]=d,u[16]=c):c=u[16],c}function A(){}function I(){}try{_.displayName||(_.displayName="DiffViewPreferenceToggle")}catch{}var R=n(46584),T=n(79658);function F(){let e,t,n,a,l,s,d;let c=(0,r.c)(15),{diff_inline_comments:u}=(0,R.h)(),{data:m}=(0,v.Pe)();c[0]===Symbol.for("react.memo_cache_sentinel")?(e={onSuccess:M,onError:O},c[0]=e):e=c[0];let{mutate:f}=j(e);if(!m||!u)return null;c[1]===Symbol.for("react.memo_cache_sentinel")?(t=(0,i.jsx)(o.l.GroupHeading,{children:"Comments"}),c[1]=t):t=c[1];let h=m.commentsPreference===T.s.Collapsed;c[2]!==f?(n=()=>f({commentsPreference:T.s.Collapsed}),c[2]=f,c[3]=n):n=c[3],c[4]!==h||c[5]!==n?(a=(0,i.jsx)(o.l.Item,{selected:h,onSelect:n,children:"Collapsed"}),c[4]=h,c[5]=n,c[6]=a):a=c[6];let p=m.commentsPreference===T.s.Visible;return c[7]!==f?(l=()=>f({commentsPreference:T.s.Visible}),c[7]=f,c[8]=l):l=c[8],c[9]!==p||c[10]!==l?(s=(0,i.jsx)(o.l.Item,{selected:p,onSelect:l,children:"Expanded"}),c[9]=p,c[10]=l,c[11]=s):s=c[11],c[12]!==a||c[13]!==s?(d=(0,i.jsxs)(o.l.Group,{selectionVariant:"single",children:[t,a,s]}),c[12]=a,c[13]=s,c[14]=d):d=c[14],d}function O(){}function M(){}try{F.displayName||(F.displayName="DiffCommentsPreferenceToggle")}catch{}function U(e){let t,n,d,c,u,m,f,h,p,g,x;let y=(0,r.c)(22),{invisible:b,lineSpacingPreferenceAvailable:C,reloadOnSplitPreferenceChange:v,reloadOnWhitespaceChange:j,small:w}=e,k=void 0===C||C,S=void 0!==v&&v,D=void 0!==j&&j,E=void 0===b||b?"Button--invisible":"Button--secondary",A=w&&"Button--small";return y[0]!==E||y[1]!==A?(t=(0,s.$)("Button Button--iconOnly",E,A),y[0]=E,y[1]=A,y[2]=t):t=y[2],y[3]===Symbol.for("react.memo_cache_sentinel")?(n=(0,i.jsx)(a.GearIcon,{}),y[3]=n):n=y[3],y[4]!==t?(d=(0,i.jsx)(l.W.Anchor,{children:(0,i.jsx)("button",{className:t,"aria-label":"Open diff view settings",children:n})}),y[4]=t,y[5]=d):d=y[5],y[6]!==S?(c=(0,i.jsx)(_,{reloadOnChange:S}),y[6]=S,y[7]=c):c=y[7],y[8]===Symbol.for("react.memo_cache_sentinel")?(u=(0,i.jsx)(F,{}),m=(0,i.jsx)(o.l.Divider,{}),y[8]=u,y[9]=m):(u=y[8],m=y[9]),y[10]!==k||y[11]!==D?(f=(0,i.jsx)(L,{lineSpacingPreferenceAvailable:k,reloadOnChange:D}),y[10]=k,y[11]=D,y[12]=f):f=y[12],y[13]!==c||y[14]!==f?(h=(0,i.jsx)(l.W.Overlay,{children:(0,i.jsxs)(o.l,{children:[c,u,m,f]})}),y[13]=c,y[14]=f,y[15]=h):h=y[15],y[16]!==h||y[17]!==d?(p=(0,i.jsxs)(l.W,{children:[d,h]}),y[16]=h,y[17]=d,y[18]=p):p=y[18],y[19]===Symbol.for("react.memo_cache_sentinel")?(g=(0,i.jsx)(N,{}),y[19]=g):g=y[19],y[20]!==p?(x=(0,i.jsxs)(i.Fragment,{children:[p,g]}),y[20]=p,y[21]=x):x=y[21],x}try{U.displayName||(U.displayName="DiffViewSettings")}catch{}},78026:(e,t,n)=>{n.d(t,{L:()=>d});var i=n(74848),r=n(21728),a=n(38621),l=n(87330),o=n(94977),s=n(20053);let d=n(96540).forwardRef((e,t)=>{let n,d,c,u;let m=(0,r.c)(20),{expanded:f,testid:h,ariaLabel:p,ariaControls:g,onToggleExpanded:x,alignment:y,dataHotkey:b,className:C,tooltipDirection:v,variant:j}=e,w=`expand-button-${h}`,N=f?`collapse-${h}`:`expand-${h}`,k=`expand-button-${h}`,S=f?"left"===y?a.SidebarExpandIcon:a.SidebarCollapseIcon:"left"===y?a.SidebarCollapseIcon:a.SidebarExpandIcon;m[0]!==x?(n=e=>{x(e)},m[0]=x,m[1]=n):n=m[1];let L=j??"invisible";return m[2]!==C?(d=(0,s.$)(C,"fgColor-muted"),m[2]=C,m[3]=d):d=m[3],m[4]!==g||m[5]!==b||m[6]!==f||m[7]!==t||m[8]!==N||m[9]!==k||m[10]!==S||m[11]!==n||m[12]!==L||m[13]!==d?(c=(0,i.jsx)(l.K,{unsafeDisableTooltip:!0,ref:t,"data-testid":N,"aria-labelledby":k,"aria-expanded":f,"aria-controls":g,icon:S,"data-hotkey":b,onClick:n,variant:L,className:d}),m[4]=g,m[5]=b,m[6]=f,m[7]=t,m[8]=N,m[9]=k,m[10]=S,m[11]=n,m[12]=L,m[13]=d,m[14]=c):c=m[14],m[15]!==p||m[16]!==w||m[17]!==c||m[18]!==v?(u=(0,i.jsx)(o.A,{"aria-label":p,id:w,direction:v,children:c}),m[15]=p,m[16]=w,m[17]=c,m[18]=v,m[19]=u):u=m[19],u});d.displayName="ExpandButton"},8877:(e,t,n)=>{n.r(t),n.d(t,{default:()=>f});var i=n(74848),r=n(94232),a=n(65481),l=n(75177),o=n(63867),s=n(52464),d=n(96540);let c={ERROR:"ERROR",LOADING:"LOADING",LOADED:"LOADED",READY:"READY"};function u(e){e&&(e.load=e.hello=null,e.helloTimer&&(clearTimeout(e.helloTimer),e.helloTimer=null),e.loadTimer&&(clearTimeout(e.loadTimer),e.loadTimer=null))}function m(e,t){e&&e.postMessage&&e.postMessage(JSON.stringify(t),"*")}function f({identityUuid:e,size:t,type:n,url:s}){let[f]=(0,r.I)(()=>window.location.origin,"https://www.github.com",[]),p=new URL(s,f).origin,{renderState:g,errorMsg:x,iFrameRef:y,containerRef:b}=function(e){let[t,n]=function(e){let[t,n]=(0,d.useState)(e),i=(0,d.useRef)(t);return[i,e=>{i.current=e,n(e)}]}(c.LOADING),i=(0,d.useRef)(null),r=(0,d.useRef)(null),a=(0,d.useRef)(null),l=(0,d.useRef)({untimed:!0}),o=(0,d.useCallback)(t=>(function(e,t,n,i,r,a,l){if(e.origin!==t)return;let o=function(e){var t;let n=e.data;if(!n)return null;if("string"==typeof n)try{n=JSON.parse(n)}catch{return null}return"object"==typeof(t=n)&&t&&"render"===t.type&&"string"==typeof t.body&&"object"==typeof t.payload?n:null}(e);if(!o){a(c.ERROR);return}let s=o.body,d=null!=o.payload?o.payload:void 0,u=n.current?.contentWindow;switch(s){case"hello":(r.current??{untimed:!0}).hello=Date.now(),m(u,{type:"render:cmd",body:{cmd:"ack",ack:!0}}),m(u,{type:"render:cmd",body:{cmd:"branding",branding:!1}});break;case"error":case"error:fatal":case"error:invalid":d&&l(d.error??null),a(c.ERROR);break;case"loading":a(c.LOADING);break;case"loaded":a(c.LOADED);break;case"ready":d&&"number"==typeof d.height&&i.current&&(i.current.style.height=`${d.height}px`),a(c.READY);break;case"resize":d&&"number"==typeof d.height&&i.current&&(i.current.style.height=`${d.height}px`);break;case"code_rendering_service:container:get_size":m(u,{type:"render:cmd",body:{cmd:"code_rendering_service:container:size","code_rendering_service:container:size":{width:i.current?.getBoundingClientRect().width}}});break;case"code_rendering_service:markdown:get_data":if(!n.current||!i.current)return;!function(e,t){let n=e.getAttribute("data-content");if(!n)return;let i={type:"render:cmd",body:{cmd:"code_rendering_service:data:ready","code_rendering_service:data:ready":{data:JSON.parse(n).data,width:t.getBoundingClientRect().width}}};m(e.contentWindow,i)}(n.current,i.current)}})(t,e,r,a,l,n,e=>i.current=e),[e,n]);return(0,d.useEffect)(()=>{u(l.current);let e=e=>{(t.current===c.LOADING||t.current===c.LOADED)&&(!e||l.current.hello)&&n(c.ERROR)};return l.current={load:Date.now(),hello:null,helloTimer:window.setTimeout(e,1e4,!0),loadTimer:window.setTimeout(e,45e3)},()=>{u(l.current)}},[t,n]),(0,d.useEffect)(()=>(window.addEventListener("message",o),()=>window.removeEventListener("message",o)),[o]),{renderState:t.current,errorMsg:i.current,iFrameRef:r,containerRef:a}}(p);if("ipynb"===n&&t>3e7||t>2e8)return(0,i.jsx)(a.A,{variant:"danger",children:"Sorry, this is too big to display."});let C=g!==c.READY?{height:"1px",width:"1px",position:"fixed",bottom:0,right:0}:{height:"100%",width:"100%"};return(0,i.jsx)(l.A,{sx:{width:"100%",display:"flex",justifyContent:"center"},children:(0,i.jsxs)(l.A,{"data-hpc":!0,"data-host":p,"data-type":n,ref:b,sx:{width:1024,...g!==c.ERROR?{borderBottomLeftRadius:"6px",borderBottomRightRadius:"6px",lineHeight:"0",padding:5,textAlign:"center"}:{},...g===c.READY?{height:"500px",padding:0,background:"none"}:{}},children:[g===c.ERROR?(0,i.jsx)(h,{error:x}):g!==c.READY?(0,i.jsx)(o.A,{size:"large",sx:{mx:"auto"}}):null,g!==c.ERROR&&(0,i.jsx)(l.A,{as:"iframe",ref:y,src:`${s}#${e}`,sandbox:"allow-scripts allow-same-origin allow-top-navigation",sx:{border:0,display:"block",...C},name:e,title:"File display",children:"Viewer requires iframe."})]})})}function h({error:e}){if(!e)return(0,i.jsx)(a.A,{variant:"danger",children:"Unable to render code block"});let t=e.split("\n");return(0,i.jsxs)(a.A,{variant:"danger",children:[(0,i.jsx)(s.A,{as:"p",sx:{fontWeight:"bold"},children:"Error rendering embedded code"}),(0,i.jsx)("p",{children:t.map((e,t)=>(0,i.jsxs)(d.Fragment,{children:[e,(0,i.jsx)("br",{})]},`error-line-${t}`))})]})}try{f.displayName||(f.displayName="FileRendererBlob")}catch{}try{h.displayName||(h.displayName="FileRendererErrorMessage")}catch{}},82091:(e,t,n)=>{n.d(t,{U:()=>s});var i=n(74848),r=n(53949),a=n(20053),l=n(21166);let o={container:"Description-module__container--b3n6F",compact:"Description-module__compact--SPRVh"};function s({children:e,style:t,className:n}){let{variant:s}=(0,l.e)();return(0,i.jsx)("div",{...(0,r.G)("list-view-item-description"),className:(0,a.$)(o.container,"compact"===s&&o.compact,n),style:t,children:e})}try{s.displayName||(s.displayName="ListItemDescription")}catch{}},30448:(e,t,n)=>{n.d(t,{Q:()=>c});var i=n(74848),r=n(53949),a=n(20053),l=n(96540),o=n(21166);let s={container:"MainContent-module__container--ry4iL",inner:"MainContent-module__inner--bU_tk",compact:"MainContent-module__compact--mM626"};var d=n(4535);function c({children:e}){let{variant:t}=(0,o.e)(),n=l.Children.toArray(e),c=n.findIndex(e=>(0,l.isValidElement)(e)&&"string"!=typeof e&&e.type===d.a),u=n[c],m=c<0?n:n.slice(0,c).concat(n.slice(c+1));return(0,i.jsxs)(i.Fragment,{children:[u,(0,i.jsx)("div",{...(0,r.G)("list-view-item-main-content"),className:s.container,children:(0,i.jsx)("div",{className:(0,a.$)(s.inner,"compact"===t&&s.compact),children:m})})]})}try{c.displayName||(c.displayName="ListItemMainContent")}catch{}},79910:(e,t,n)=>{n.d(t,{V:()=>o});var i=n(74848),r=n(53949),a=n(20053);let l={metadata:"Metadata-module__metadata--yvrod",secondary:"Metadata-module__secondary--zMgLx",primary:"Metadata-module__primary--cJgJU",alignRight:"Metadata-module__alignRight--rp0_Z"};function o({children:e,alignment:t,variant:n,...o}){return(0,i.jsx)("div",{...(0,r.G)("list-view-item-metadata-item"),...o,className:(0,a.$)(l.metadata,"primary"===n?l.primary:l.secondary,"right"===t&&l.alignRight,o.className),children:e})}try{o.displayName||(o.displayName="ListItemMetadata")}catch{}},63269:(e,t,n)=>{n.d(t,{W:()=>et});var i=n(74848);let r=function(){var e=[{defaultValue:null,kind:"LocalArgument",name:"id"}],t=[{kind:"Variable",name:"id",variableName:"id"}],n={alias:null,args:null,kind:"ScalarField",name:"includesCreatedEdit",storageKey:null},i=[{kind:"Literal",name:"first",value:100}],r={alias:null,args:null,kind:"ScalarField",name:"totalCount",storageKey:null},a={alias:null,args:null,kind:"ScalarField",name:"id",storageKey:null},l={alias:null,args:null,kind:"ScalarField",name:"editedAt",storageKey:null},o={alias:null,args:null,kind:"ScalarField",name:"deletedAt",storageKey:null},s={alias:null,args:null,kind:"ScalarField",name:"avatarUrl",storageKey:null},d={alias:null,args:null,kind:"ScalarField",name:"login",storageKey:null},c={alias:null,args:null,kind:"ScalarField",name:"__typename",storageKey:null};return{fragment:{argumentDefinitions:e,kind:"Fragment",metadata:null,name:"MarkdownEditHistoryViewerQuery",selections:[{alias:null,args:t,concreteType:null,kind:"LinkedField",name:"node",plural:!1,selections:[{kind:"InlineFragment",selections:[n,{alias:null,args:i,concreteType:"UserContentEditConnection",kind:"LinkedField",name:"userContentEdits",plural:!1,selections:[r,{alias:null,args:null,concreteType:"UserContentEditEdge",kind:"LinkedField",name:"edges",plural:!0,selections:[{alias:null,args:null,concreteType:"UserContentEdit",kind:"LinkedField",name:"node",plural:!1,selections:[a,l,o,{alias:null,args:null,concreteType:null,kind:"LinkedField",name:"editor",plural:!1,selections:[s,d],storageKey:null}],storageKey:null}],storageKey:null}],storageKey:"userContentEdits(first:100)"}],type:"Comment",abstractKey:"__isComment"}],storageKey:null}],type:"Query",abstractKey:null},kind:"Request",operation:{argumentDefinitions:e,kind:"Operation",name:"MarkdownEditHistoryViewerQuery",selections:[{alias:null,args:t,concreteType:null,kind:"LinkedField",name:"node",plural:!1,selections:[c,{kind:"InlineFragment",selections:[n,{alias:null,args:i,concreteType:"UserContentEditConnection",kind:"LinkedField",name:"userContentEdits",plural:!1,selections:[r,{alias:null,args:null,concreteType:"UserContentEditEdge",kind:"LinkedField",name:"edges",plural:!0,selections:[{alias:null,args:null,concreteType:"UserContentEdit",kind:"LinkedField",name:"node",plural:!1,selections:[a,l,o,{alias:null,args:null,concreteType:null,kind:"LinkedField",name:"editor",plural:!1,selections:[c,s,d,a],storageKey:null}],storageKey:null}],storageKey:null}],storageKey:"userContentEdits(first:100)"}],type:"Comment",abstractKey:"__isComment"},a],storageKey:null}]},params:{id:"c6113eea560ba83b319c9b30fc5d4f7e",metadata:{},name:"MarkdownEditHistoryViewerQuery",operationKind:"query",text:null}}}();r.hash="58ea81646b217a25de6cfe147936e7f6";let a={argumentDefinitions:[],kind:"Fragment",metadata:null,name:"MarkdownEditHistoryViewer_comment",selections:[{alias:null,args:null,kind:"ScalarField",name:"id",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"viewerCanReadUserContentEdits",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"lastEditedAt",storageKey:null}],type:"Comment",abstractKey:"__isComment"};a.hash="fcc1ee717c6a87a4ffdb4f4d9391d55c";var l=n(62456),o=n(4003),s=n(34407),d=n(75177),c=n(89323),u=n(8338),m=n(52464),f=n(89169),h=n(47139),p=n(96540),g=n(18312),x=n(30793);let y={couldNotDeleteEditRevision:"Failed to delete this revision",couldNotLoad:"Couldn't load"},b=({retry:e})=>(0,i.jsx)(x.h,{message:y.couldNotLoad,retry:e,sx:{p:4}});try{b.displayName||(b.displayName="CouldNotFindFallbackError")}catch{}let C=function(){var e=[{defaultValue:null,kind:"LocalArgument",name:"id"}],t=[{kind:"Variable",name:"id",variableName:"id"}],n={alias:null,args:null,kind:"ScalarField",name:"diff",storageKey:null},i={alias:null,args:null,kind:"ScalarField",name:"diffBefore",storageKey:null},r={alias:null,args:null,kind:"ScalarField",name:"deletedAt",storageKey:null},a={alias:null,args:null,kind:"ScalarField",name:"login",storageKey:null},l={alias:null,args:null,kind:"ScalarField",name:"__typename",storageKey:null},o={alias:null,args:null,kind:"ScalarField",name:"id",storageKey:null};return{fragment:{argumentDefinitions:e,kind:"Fragment",metadata:null,name:"EditHistoryDialogQuery",selections:[{alias:null,args:t,concreteType:null,kind:"LinkedField",name:"node",plural:!1,selections:[{kind:"InlineFragment",selections:[n,i,r,{alias:null,args:null,concreteType:null,kind:"LinkedField",name:"deletedBy",plural:!1,selections:[a],storageKey:null},{args:null,kind:"FragmentSpread",name:"EditHistoryDialogHeaderFragment"}],type:"UserContentEdit",abstractKey:null}],storageKey:null}],type:"Query",abstractKey:null},kind:"Request",operation:{argumentDefinitions:e,kind:"Operation",name:"EditHistoryDialogQuery",selections:[{alias:null,args:t,concreteType:null,kind:"LinkedField",name:"node",plural:!1,selections:[l,{kind:"InlineFragment",selections:[n,i,r,{alias:null,args:null,concreteType:null,kind:"LinkedField",name:"deletedBy",plural:!1,selections:[l,a,o],storageKey:null},{alias:null,args:null,concreteType:null,kind:"LinkedField",name:"editor",plural:!1,selections:[l,{alias:null,args:null,kind:"ScalarField",name:"avatarUrl",storageKey:null},a,o],storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"editedAt",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"newest",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"firstEdit",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"viewerCanDelete",storageKey:null}],type:"UserContentEdit",abstractKey:null},o],storageKey:null}]},params:{id:"95112ed4d46018d629c28241b711a389",metadata:{},name:"EditHistoryDialogQuery",operationKind:"query",text:null}}}();C.hash="468f60acb1c6c8a75787e70fe36979a9";var v=n(75632),j=n(91246),w=n(91669);let N={argumentDefinitions:[],kind:"Fragment",metadata:null,name:"EditHistoryDialogHeaderFragment",selections:[{alias:null,args:null,concreteType:null,kind:"LinkedField",name:"editor",plural:!1,selections:[{alias:null,args:null,kind:"ScalarField",name:"avatarUrl",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"login",storageKey:null}],storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"deletedAt",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"editedAt",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"newest",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"firstEdit",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"viewerCanDelete",storageKey:null}],type:"UserContentEdit",abstractKey:null};N.hash="173b0fbf2e248d6057ccd670ace2eea7";var k=n(67136),S=n(38621),L=n(53526),D=n(55847),E=n(30729);let _={deleteEditRevision:"Delete revision"},A={ghostUserLogin:"ghost"},I=function(){var e=[{defaultValue:null,kind:"LocalArgument",name:"input"}],t=[{kind:"Variable",name:"input",variableName:"input"}],n={alias:null,args:null,kind:"ScalarField",name:"id",storageKey:null},i={alias:null,args:null,kind:"ScalarField",name:"deletedAt",storageKey:null},r={alias:null,args:null,kind:"ScalarField",name:"login",storageKey:null},a={alias:null,args:null,kind:"ScalarField",name:"avatarUrl",storageKey:null},l={alias:null,args:null,kind:"ScalarField",name:"diff",storageKey:null};return{fragment:{argumentDefinitions:e,kind:"Fragment",metadata:null,name:"deleteUserContentEditMutation",selections:[{alias:null,args:t,concreteType:"DeleteUserContentEditPayload",kind:"LinkedField",name:"deleteUserContentEdit",plural:!1,selections:[{alias:null,args:null,concreteType:"UserContentEdit",kind:"LinkedField",name:"userContentEdit",plural:!1,selections:[n,i,{alias:null,args:null,concreteType:null,kind:"LinkedField",name:"deletedBy",plural:!1,selections:[r,a],storageKey:null},l],storageKey:null}],storageKey:null}],type:"Mutation",abstractKey:null},kind:"Request",operation:{argumentDefinitions:e,kind:"Operation",name:"deleteUserContentEditMutation",selections:[{alias:null,args:t,concreteType:"DeleteUserContentEditPayload",kind:"LinkedField",name:"deleteUserContentEdit",plural:!1,selections:[{alias:null,args:null,concreteType:"UserContentEdit",kind:"LinkedField",name:"userContentEdit",plural:!1,selections:[n,i,{alias:null,args:null,concreteType:null,kind:"LinkedField",name:"deletedBy",plural:!1,selections:[{alias:null,args:null,kind:"ScalarField",name:"__typename",storageKey:null},r,a,n],storageKey:null},l],storageKey:null}],storageKey:null}]},params:{id:"71452b9f40a7828ac05811d1ad4f821e",metadata:{},name:"deleteUserContentEditMutation",operationKind:"mutation",text:null}}}();I.hash="45e1f3e7d425560f65ef39e8c357794d";let R=({queryRef:e,userContentEditId:t})=>{let n=(0,g.useFragment)(N,e),r=(0,g.useRelayEnvironment)(),a=(0,L.S)(),{addToast:l}=(0,k.Y6)(),o=(0,p.useCallback)(async()=>{await a({title:w.k.confirmations.deleteEditHistoryTitle,content:w.k.confirmations.deleteEditHistoryContent,confirmButtonType:"danger",confirmButtonContent:w.k.confirmations.deleteEditHistoryConfirmButtonContent})&&function({environment:e,input:{id:t},onCompleted:n,onError:i}){(0,g.commitMutation)(e,{mutation:I,variables:{input:{id:t}},onCompleted:e=>{null===e.deleteUserContentEdit?i?.():n?.()},onError:e=>i?.(e)})}({environment:r,input:{id:t},onError:()=>{l({type:"error",message:y.couldNotDeleteEditRevision})}})},[l,a,r,t]),s=n.newest||n.deletedAt;return(0,i.jsxs)(d.A,{sx:{display:"flex",flexDirection:"row",position:"sticky",top:0,backgroundColor:"canvas.subtle",p:3,borderBottom:"1px solid",borderColor:"border.muted"},children:[n.editor&&(0,i.jsx)(T,{login:n.editor.login,avatarUrl:n.editor.avatarUrl,time:n.editedAt,details:n.firstEdit?w.k.editHistory.created:w.k.editHistory.edited,trailingElement:s?(0,i.jsx)(h.A,{sx:{ml:1},children:n.deletedAt?w.k.editHistory.deleted:w.k.editHistory.mostRecent}):void 0}),n.viewerCanDelete&&!n.newest&&!n.deletedAt&&(0,i.jsxs)(D.Q,{sx:{marginLeft:"auto"},variant:"danger",size:"small","aria-label":w.k.editHistory.deleteRevisionAriaLabel,onClick:o,children:[(0,i.jsx)(E.A,{icon:S.TrashIcon})," ",_.deleteEditRevision]})]})};function T({login:e,avatarUrl:t,details:n,time:r,sx:a,trailingElement:o}){let s=!!t&&!!e;return(0,i.jsxs)(d.A,{sx:{display:"flex",flexDirection:"row",gap:1,alignItems:"center"},children:[(0,i.jsxs)(d.A,{sx:{...a},children:[s&&(0,i.jsxs)(i.Fragment,{children:[(0,i.jsx)(l.r,{src:t,size:16,alt:`@${e}`,sx:{boxShadow:"0 0 0 2px var(--bgColor-muted, var(--color-canvas-subtle))",mr:1}}),(0,i.jsx)(m.A,{sx:{fontWeight:"bold"},children:e})]}),!s&&(0,i.jsx)("span",{children:e??A.ghostUserLogin}),(0,i.jsxs)("span",{children:[" ",n," "]}),r&&(0,i.jsx)(f.A,{date:new Date(r)})]}),o]})}try{R.displayName||(R.displayName="EditHistoryDialogHeader")}catch{}try{T.displayName||(T.displayName="ActorOperationDetails")}catch{}let F=e=>e.split(/\r?\n/),O=e=>e.split(/\s+/),M=(e,t)=>({groups:[{words:e??"",modification:t}],modification:t}),U={diffContainer:"GroupedTextDiffViewer-module__diffContainer--hFr9Z",borderStylingAdded:"GroupedTextDiffViewer-module__borderStylingAdded--oOMUd",borderStylingRemoved:"GroupedTextDiffViewer-module__borderStylingRemoved--sC9wR",borderStylingChanged:"GroupedTextDiffViewer-module__borderStylingChanged--AAKXv",wordStylingAdded:"GroupedTextDiffViewer-module__wordStylingAdded--Vu4zN",wordStylingRemoved:"GroupedTextDiffViewer-module__wordStylingRemoved--FpdRV",diffLine:"GroupedTextDiffViewer-module__diffLine--UijDm"},B=e=>{switch(e){case"ADDED":return U.borderStylingAdded;case"REMOVED":return U.borderStylingRemoved;case"EDITED":return U.borderStylingChanged;case"UNCHANGED":return""}},$=e=>{switch(e){case"ADDED":return U.wordStylingAdded;case"REMOVED":return U.wordStylingRemoved;case"UNCHANGED":return""}},P=e=>{switch(e){case"ADDED":return{open:"[+]",close:"[/+]"};case"REMOVED":return{open:"[-]",close:"[/-]"}}return{open:"",close:""}},H=e=>"ADDED"===e||"REMOVED"===e,V=({groups:e,modification:t})=>{let n=e.map(e=>e.words).join(" ");return(0,i.jsxs)("span",{className:U.diffLine,children:["EDITED"===t&&e?.map((e,t)=>i.jsxs(i.Fragment,{children:[H(e.modification)&&i.jsx("span",{className:"sr-only",children:P(e.modification).open}),i.jsx("span",{className:$(e.modification),children:`${0===t?"":" "}${e.words}`}),H(e.modification)&&i.jsx("span",{className:"sr-only",children:P(e.modification).close})]},t-1)),"EDITED"!==t&&e.length>0&&(0,i.jsxs)(i.Fragment,{children:[(0,i.jsx)("span",{className:"sr-only",children:P(t).open}),(0,i.jsx)("span",{children:n}),(0,i.jsx)("span",{className:"sr-only",children:P(t).close})]}),0===e.length&&(0,i.jsx)("br",{})]})},K=({before:e,after:t})=>{let n=function({before:e,after:t}){let n=e?F(e):[],i=t?F(t):[],r=[];for(let e=0;e<n.length||e<i.length;e++){let t=n[e],a=i[e];r.push(function(e,t){let n=e?O(e):[],i=t?O(t):[];if(0===n.length&&0===i.length||e===t)return M(e,"UNCHANGED");if(0===n.length)return M(t,"ADDED");if(0===i.length)return M(e,"REMOVED");let r=[],a={words:"",modification:"UNCHANGED"},l={words:"",modification:"ADDED"},o={words:"",modification:"REMOVED"};for(let e=0;e<n.length||e<i.length;e++){let t=n[e],s=i[e];t===s?(a.words=`${a.words}${0===a.words.length?"":" "}${t}`,""!==l.words&&(r.push(l),l={words:"",modification:"ADDED"}),""!==o.words&&(r.push(o),o={words:"",modification:"REMOVED"})):(""!==a.words&&(void 0!==t||void 0!==s)&&(r.push(a),a={words:"",modification:"UNCHANGED"}),void 0!==t&&(o.words=`${o.words}${0===o.words.length?"":" "}${t}`),void 0!==s&&(l.words=`${l.words}${0===l.words.length?"":" "}${s}`))}return""!==l.words&&r.push(l),""!==o.words&&r.push(o),""!==a.words&&r.push(a),{groups:r,modification:"EDITED"}}(t,a))}return{lines:r}}({before:e,after:t});return(0,i.jsx)("div",{className:U.diffContainer,children:n.lines.map((e,t)=>(0,i.jsx)("div",{className:B(e.modification),children:(0,i.jsx)(V,{...e})},t))})};try{V.displayName||(V.displayName="LineDiffViewer")}catch{}try{K.displayName||(K.displayName="GroupedTextDiffViewer")}catch{}let z=e=>e.split(/\r?\n/),G=e=>e.split(/\s+/),W=e=>{let t="3px solid";switch(e){case"ADDED":return{borderLeft:t,borderColor:"var(--borderColor-success-emphasis, var(--color-success-fg))"};case"REMOVED":return{borderLeft:t,borderColor:"var(--borderColor-danger-emphasis, var(--color-danger-fg))"};case"EDITED":return{borderLeft:t,borderColor:"var(--borderColor-severe-emphasis, var(--color-severe-fg))"};case"UNCHANGED":return{}}},q=e=>{switch(e){case"ADDED":return{backgroundColor:"var(--diffBlob-additionWord-bgColor, var(--diffBlob-addition-bgColor-word))",color:"var(--diffBlob-additionWord-fgColor, var(--diffBlob-addition-fgColor-text))"};case"REMOVED":return{backgroundColor:"var(--diffBlob-deletionWord-bgColor, var(--diffBlob-deletion-bgColor-word))",color:"var(--diffBlob-deletionWord-fgColor, var(--diffBlob-deletion-fgColor-text))",textDecoration:"line-through"};case"UNCHANGED":return{}}},Q=({words:e,modification:t})=>(0,i.jsxs)(d.A,{as:"span",sx:{pl:2},children:["EDITED"===t&&e.map((t,n)=>(0,i.jsx)(m.A,{sx:{...q(t.modification)},children:`${t.word}${n===e.length-1?"":" "}`},n)),"EDITED"!==t&&e.length>0&&(0,i.jsx)("span",{children:e.map(e=>e.word).join(" ")}),0===e.length&&(0,i.jsx)("br",{})]}),X=({before:e,after:t})=>{let n=function({before:e,after:t}){let n=e?z(e):[],i=t?z(t):[],r=[];for(let e=0;e<n.length||e<i.length;e++){let t=n[e],a=i[e];r.push(function(e,t){let n=e?G(e):[],i=t?G(t):[];if(0===n.length&&0===i.length||e===t)return{words:i.map(e=>({word:e,modification:"UNCHANGED"})),modification:"UNCHANGED"};if(0===n.length)return{words:i.map(e=>({word:e,modification:"ADDED"})),modification:"ADDED"};if(0===i.length)return{words:n.map(e=>({word:e,modification:"REMOVED"})),modification:"REMOVED"};let r=[];for(let e=0;e<n.length||e<i.length;e++){let t=n[e],a=i[e];t===a?r.push({word:t,modification:"UNCHANGED"}):(void 0!==t&&r.push({word:t,modification:"REMOVED"}),void 0!==a&&r.push({word:a,modification:"ADDED"}))}return{words:r,modification:"EDITED"}}(t,a))}return{lines:r}}({before:e,after:t});return(0,i.jsx)(d.A,{sx:{display:"flex",flexDirection:"column",overflow:"auto",gap:1},children:n.lines.map((e,t)=>(0,i.jsx)(d.A,{sx:{...W(e.modification),flexDirection:"row"},children:(0,i.jsx)(Q,{...e})},t))})};try{Q.displayName||(Q.displayName="LineDiffViewer")}catch{}try{X.displayName||(X.displayName="TextDiffViewer")}catch{}let Y=({userContentEditId:e,onClose:t})=>(0,i.jsx)(j.l,{renderBody:()=>(0,i.jsx)(J,{userContentEditId:e}),onClose:t,title:w.k.editHistory.viewingEditTitle,width:"xlarge",height:"auto",sx:{width:"100%",margin:4,maxWidth:"800px",maxHeight:"clamp(300px, 80vh, 800px)"}}),J=({userContentEditId:e})=>{let[t,n]=(0,g.useQueryLoader)(C);return((0,p.useEffect)(()=>{n({id:e})},[n,e]),t)?(0,i.jsx)(p.Suspense,{fallback:(0,i.jsx)(ee,{}),children:(0,i.jsx)(o.A,{onRetry:()=>n({id:e},{fetchPolicy:"network-only"}),fallback:e=>(0,i.jsx)(b,{retry:e}),children:(0,i.jsx)(Z,{queryRef:t,userContentEditId:e})})}):(0,i.jsx)(ee,{})},Z=({queryRef:e,userContentEditId:t})=>{let n=(0,g.usePreloadedQuery)(C,e).node,r=(0,v.G7)("issues_react_grouped_diff_on_edit_history");if(!n)return(0,i.jsx)(ee,{});let a=!n.diffBefore&&!n.diff;return(0,i.jsxs)(d.A,{sx:{overflowY:"auto"},children:[(0,i.jsx)(R,{queryRef:n,userContentEditId:t}),(0,i.jsxs)(d.A,{sx:{p:3},children:[!r&&!n.deletedAt&&!a&&(0,i.jsx)(X,{before:n.diffBefore??void 0,after:n.diff??void 0}),r&&!n.deletedAt&&!a&&(0,i.jsx)(K,{before:n.diffBefore??void 0,after:n.diff??void 0}),!n.deletedAt&&a&&(0,i.jsx)(m.A,{sx:{color:"fg.muted",fontStyle:"italic"},children:w.k.editHistory.emptyEdit}),n.deletedAt&&(0,i.jsx)(T,{login:n.deletedBy?.login,details:w.k.editHistory.deletedThisRevision,time:n.deletedAt,sx:{color:"fg.muted",fontStyle:"italic"}})]})]})};function ee(){return(0,i.jsxs)(d.A,{sx:{m:2,display:"flex",flexDirection:"column",gap:2},children:[(0,i.jsx)(s.O,{variant:"rounded",height:"md",width:"100%"}),(0,i.jsx)(s.O,{variant:"rounded",height:"md",width:"100%"})]})}try{Y.displayName||(Y.displayName="EditHistoryDialog")}catch{}try{J.displayName||(J.displayName="EditContent")}catch{}try{Z.displayName||(Z.displayName="EditContentInternal")}catch{}try{ee.displayName||(ee.displayName="EditContentLoading")}catch{}function et({editHistory:e}){let t=(0,g.useFragment)(a,e),[n,r]=(0,p.useState)(!1),[l,o]=(0,p.useState)("");return t&&t.viewerCanReadUserContentEdits&&t.lastEditedAt?(0,i.jsxs)(d.A,{sx:{display:"flex"},children:[(0,i.jsxs)(c.W,{children:[(0,i.jsx)(c.W.Button,{sx:{color:"fg.muted"},variant:"invisible",size:"small","aria-label":w.k.editHistory.ariaLabel,children:w.k.editHistory.openEditsButton}),(0,i.jsx)(c.W.Overlay,{width:"auto",children:(0,i.jsx)(en,{setIsEditHistoryDialogOpen:r,setSelectedId:o,editHistoryId:t.id,lastEditedAt:t.lastEditedAt})})]}),n&&(0,i.jsx)(Y,{onClose:()=>r(!1),userContentEditId:l})]}):null}let en=({editHistoryId:e,lastEditedAt:t,...n})=>{let[a,l]=(0,g.useQueryLoader)(r);return((0,p.useEffect)(()=>{l({id:e},{fetchPolicy:"network-only"})},[e,l,t]),a)?(0,i.jsx)(p.Suspense,{fallback:(0,i.jsx)(er,{}),children:(0,i.jsx)(o.A,{onRetry:()=>l({id:e},{fetchPolicy:"network-only"}),fallback:e=>(0,i.jsx)(b,{retry:e}),children:(0,i.jsx)(ei,{queryRef:a,...n})})}):(0,i.jsx)(er,{})},ei=({setIsEditHistoryDialogOpen:e,setSelectedId:t,queryRef:n})=>{let a=(0,g.usePreloadedQuery)(r,n);if(!a.node?.userContentEdits)return(0,i.jsx)(er,{});let o=a.node.userContentEdits.totalCount;return(0,i.jsx)(u.l,{sx:{maxHeight:"clamp(200px, 30vh, 320px)",overflow:"auto",width:"max-content"},children:(0,i.jsxs)(u.l.Group,{children:[(0,i.jsx)(u.l.GroupHeading,{children:`Edited ${o-1} time${o>2?"s":""}`}),a.node.userContentEdits.edges?.map((n,r)=>{let s=n?.node;if(!s?.editor)return null;let d=a.node?.includesCreatedEdit&&r===o-1;return i.jsxs(u.l.Item,{onSelect:()=>{t(s.id),e(!0)},children:[i.jsx(u.l.LeadingVisual,{children:i.jsx(l.r,{src:s.editor.avatarUrl,size:16,alt:`@${s.editor.login}`,sx:{boxShadow:"0 0 0 2px var(--bgColor-muted, var(--color-canvas-subtle))"}})}),i.jsx(m.A,{sx:{fontWeight:"normal"},children:s.editor.login}),i.jsxs(u.l.Description,{sx:{ml:1,display:"flex",flexDirection:"row",gap:"3px"},truncate:!0,children:[d&&i.jsx("div",{title:"",children:w.k.editHistory.created}),i.jsx(f.A,{date:new Date(s.editedAt)})]}),(0===r||s.deletedAt)&&i.jsx(u.l.TrailingVisual,{children:i.jsx(h.A,{children:0===r?w.k.editHistory.mostRecent:w.k.editHistory.deleted})})]},s.id)})]})})};function er(){return(0,i.jsxs)(d.A,{sx:{m:2,display:"flex",flexDirection:"column",gap:2,minWidth:"256px"},children:[(0,i.jsx)(s.O,{variant:"rounded",height:"md",width:"100%"}),(0,i.jsx)(s.O,{variant:"rounded",height:"md",width:"100%"}),(0,i.jsx)(s.O,{variant:"rounded",height:"md",width:"100%"}),(0,i.jsx)(s.O,{variant:"rounded",height:"md",width:"100%"})]})}try{et.displayName||(et.displayName="MarkdownEditHistoryViewer")}catch{}try{en.displayName||(en.displayName="EditHistoryActionMenuContent")}catch{}try{ei.displayName||(ei.displayName="EditHistoryActionMenuContentInternal")}catch{}try{er.displayName||(er.displayName="EditHistoryLoading")}catch{}},31786:(e,t,n)=>{n.d(t,{_:()=>d});var i=n(74848);let r={argumentDefinitions:[],kind:"Fragment",metadata:null,name:"MarkdownLastEditedBy",selections:[{alias:null,args:null,kind:"ScalarField",name:"viewerCanReadUserContentEdits",storageKey:null},{alias:null,args:null,concreteType:"UserContentEdit",kind:"LinkedField",name:"lastUserContentEdit",plural:!1,selections:[{alias:null,args:null,concreteType:null,kind:"LinkedField",name:"editor",plural:!1,selections:[{alias:null,args:null,kind:"ScalarField",name:"url",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"login",storageKey:null}],storageKey:null}],storageKey:null}],type:"Comment",abstractKey:"__isComment"};r.hash="bbab0cb2d43eeaaa0ed5b010868ec7f4";var a=n(34614),l=n(18312),o=n(91669);let s={container:"MarkdownLastEditedBy-module__container--fKxHN"};function d({editInformation:e,includeSeparator:t,forceUnderline:n}){let d=(0,l.useFragment)(r,e);if(!d||!d.viewerCanReadUserContentEdits||!d.lastUserContentEdit||!d.lastUserContentEdit.editor)return null;let{login:c,url:u}=d.lastUserContentEdit.editor;return(0,i.jsxs)("span",{className:s.container,children:[t&&(0,i.jsx)("span",{children:" \xb7 "}),(0,i.jsxs)("span",{children:[`${o.k.editHistory.editedBy} `,(0,i.jsx)(a.A,{sx:{color:"fg.muted"},href:u,inline:n,children:c})]})]})}try{d.displayName||(d.displayName="MarkdownLastEditedBy")}catch{}},2668:(e,t,n)=>{n.d(t,{B:()=>l});var i=n(74848),r=n(96540),a=n(7284);function l({includeAriaAttributes:e=!0,...t}){let n=(0,r.useId)(),[l,o]=(0,r.useState)(!1),s=t.open??l,d=t.id??n,c=e?{"aria-describedby":d}:{},u=(0,r.useCallback)(()=>o(!0),[]),m=(0,r.useCallback)(()=>o(!1),[]);return[{...c,onPointerEnter:u,onPointerLeave:m,onFocus:u,onBlur:m},(0,i.jsx)(a.m,{...t,open:s,id:d},"portal-tooltip")]}},82599:(e,t,n)=>{n.r(t),n.d(t,{ReactionViewerRelay:()=>v,ReactionViewerRelayQueryComponent:()=>j,default:()=>w});var i=n(74848);let r=function(){var e=[{alias:null,args:null,kind:"ScalarField",name:"login",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"__typename",storageKey:null}];return{argumentDefinitions:[],kind:"Fragment",metadata:null,name:"ReactionViewerRelayGroups",selections:[{alias:null,args:null,concreteType:"ReactionGroup",kind:"LinkedField",name:"reactionGroups",plural:!0,selections:[{alias:null,args:null,kind:"ScalarField",name:"content",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"viewerHasReacted",storageKey:null},{alias:null,args:[{kind:"Literal",name:"first",value:5}],concreteType:"ReactorConnection",kind:"LinkedField",name:"reactors",plural:!1,selections:[{alias:null,args:null,kind:"ScalarField",name:"totalCount",storageKey:null},{alias:null,args:null,concreteType:null,kind:"LinkedField",name:"nodes",plural:!0,selections:[{kind:"InlineFragment",selections:e,type:"User",abstractKey:null},{kind:"InlineFragment",selections:e,type:"Bot",abstractKey:null},{kind:"InlineFragment",selections:e,type:"Organization",abstractKey:null},{kind:"InlineFragment",selections:e,type:"Mannequin",abstractKey:null}],storageKey:null}],storageKey:"reactors(first:5)"}],storageKey:null}],type:"Reactable",abstractKey:"__isReactable"}}();r.hash="683f509bd79d5a4206eb49d13f947374";let a=function(){var e=[{defaultValue:null,kind:"LocalArgument",name:"id"}],t=[{kind:"Variable",name:"id",variableName:"id"}],n={alias:null,args:null,kind:"ScalarField",name:"__typename",storageKey:null},i={alias:null,args:null,kind:"ScalarField",name:"id",storageKey:null},r=[{alias:null,args:null,kind:"ScalarField",name:"login",storageKey:null}];return{fragment:{argumentDefinitions:e,kind:"Fragment",metadata:null,name:"ReactionViewerRelayLazyQuery",selections:[{alias:null,args:t,concreteType:null,kind:"LinkedField",name:"node",plural:!1,selections:[{kind:"InlineFragment",selections:[{args:null,kind:"FragmentSpread",name:"ReactionViewerRelayGroups"}],type:"Comment",abstractKey:"__isComment"}],storageKey:null}],type:"Query",abstractKey:null},kind:"Request",operation:{argumentDefinitions:e,kind:"Operation",name:"ReactionViewerRelayLazyQuery",selections:[{alias:null,args:t,concreteType:null,kind:"LinkedField",name:"node",plural:!1,selections:[n,i,{kind:"InlineFragment",selections:[{kind:"InlineFragment",selections:[{alias:null,args:null,concreteType:"ReactionGroup",kind:"LinkedField",name:"reactionGroups",plural:!0,selections:[{alias:null,args:null,kind:"ScalarField",name:"content",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"viewerHasReacted",storageKey:null},{alias:null,args:[{kind:"Literal",name:"first",value:5}],concreteType:"ReactorConnection",kind:"LinkedField",name:"reactors",plural:!1,selections:[{alias:null,args:null,kind:"ScalarField",name:"totalCount",storageKey:null},{alias:null,args:null,concreteType:null,kind:"LinkedField",name:"nodes",plural:!0,selections:[n,{kind:"InlineFragment",selections:r,type:"User",abstractKey:null},{kind:"InlineFragment",selections:r,type:"Bot",abstractKey:null},{kind:"InlineFragment",selections:r,type:"Organization",abstractKey:null},{kind:"InlineFragment",selections:r,type:"Mannequin",abstractKey:null},{kind:"InlineFragment",selections:[i],type:"Node",abstractKey:"__isNode"}],storageKey:null}],storageKey:"reactors(first:5)"}],storageKey:null}],type:"Reactable",abstractKey:"__isReactable"}],type:"Comment",abstractKey:"__isComment"}],storageKey:null}]},params:{id:"d284cb78e50ac8ee8a082f7850e0f1de",metadata:{},name:"ReactionViewerRelayLazyQuery",operationKind:"query",text:null}}}();a.hash="95899d766fa2c1bc2ea04b604e3db421";var l=n(96540),o=n(18312);let s=function(){var e=[{defaultValue:null,kind:"LocalArgument",name:"input"}],t=[{kind:"Variable",name:"input",variableName:"input"}],n={alias:null,args:null,kind:"ScalarField",name:"__typename",storageKey:null},i=[{alias:null,args:null,kind:"ScalarField",name:"login",storageKey:null}],r={alias:null,args:null,kind:"ScalarField",name:"id",storageKey:null};return{fragment:{argumentDefinitions:e,kind:"Fragment",metadata:null,name:"addReactionMutation",selections:[{alias:null,args:t,concreteType:"AddReactionPayload",kind:"LinkedField",name:"addReaction",plural:!1,selections:[{alias:null,args:null,concreteType:null,kind:"LinkedField",name:"subject",plural:!1,selections:[{args:null,kind:"FragmentSpread",name:"ReactionViewerRelayGroups"}],storageKey:null}],storageKey:null}],type:"Mutation",abstractKey:null},kind:"Request",operation:{argumentDefinitions:e,kind:"Operation",name:"addReactionMutation",selections:[{alias:null,args:t,concreteType:"AddReactionPayload",kind:"LinkedField",name:"addReaction",plural:!1,selections:[{alias:null,args:null,concreteType:null,kind:"LinkedField",name:"subject",plural:!1,selections:[n,{kind:"TypeDiscriminator",abstractKey:"__isReactable"},{alias:null,args:null,concreteType:"ReactionGroup",kind:"LinkedField",name:"reactionGroups",plural:!0,selections:[{alias:null,args:null,kind:"ScalarField",name:"content",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"viewerHasReacted",storageKey:null},{alias:null,args:[{kind:"Literal",name:"first",value:5}],concreteType:"ReactorConnection",kind:"LinkedField",name:"reactors",plural:!1,selections:[{alias:null,args:null,kind:"ScalarField",name:"totalCount",storageKey:null},{alias:null,args:null,concreteType:null,kind:"LinkedField",name:"nodes",plural:!0,selections:[n,{kind:"InlineFragment",selections:i,type:"User",abstractKey:null},{kind:"InlineFragment",selections:i,type:"Bot",abstractKey:null},{kind:"InlineFragment",selections:i,type:"Organization",abstractKey:null},{kind:"InlineFragment",selections:i,type:"Mannequin",abstractKey:null},{kind:"InlineFragment",selections:[r],type:"Node",abstractKey:"__isNode"}],storageKey:null}],storageKey:"reactors(first:5)"}],storageKey:null},r],storageKey:null}],storageKey:null}]},params:{id:"3654a2fd2d4535d6fdbb8be8a477a510",metadata:{},name:"addReactionMutation",operationKind:"mutation",text:null}}}();s.hash="504ef43df20e9ee96a023f421682e18d";let d=function(){var e=[{defaultValue:null,kind:"LocalArgument",name:"input"}],t=[{kind:"Variable",name:"input",variableName:"input"}],n={alias:null,args:null,kind:"ScalarField",name:"__typename",storageKey:null},i=[{alias:null,args:null,kind:"ScalarField",name:"login",storageKey:null}],r={alias:null,args:null,kind:"ScalarField",name:"id",storageKey:null};return{fragment:{argumentDefinitions:e,kind:"Fragment",metadata:null,name:"removeReactionMutation",selections:[{alias:null,args:t,concreteType:"RemoveReactionPayload",kind:"LinkedField",name:"removeReaction",plural:!1,selections:[{alias:null,args:null,concreteType:null,kind:"LinkedField",name:"subject",plural:!1,selections:[{args:null,kind:"FragmentSpread",name:"ReactionViewerRelayGroups"}],storageKey:null}],storageKey:null}],type:"Mutation",abstractKey:null},kind:"Request",operation:{argumentDefinitions:e,kind:"Operation",name:"removeReactionMutation",selections:[{alias:null,args:t,concreteType:"RemoveReactionPayload",kind:"LinkedField",name:"removeReaction",plural:!1,selections:[{alias:null,args:null,concreteType:null,kind:"LinkedField",name:"subject",plural:!1,selections:[n,{kind:"TypeDiscriminator",abstractKey:"__isReactable"},{alias:null,args:null,concreteType:"ReactionGroup",kind:"LinkedField",name:"reactionGroups",plural:!0,selections:[{alias:null,args:null,kind:"ScalarField",name:"content",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"viewerHasReacted",storageKey:null},{alias:null,args:[{kind:"Literal",name:"first",value:5}],concreteType:"ReactorConnection",kind:"LinkedField",name:"reactors",plural:!1,selections:[{alias:null,args:null,kind:"ScalarField",name:"totalCount",storageKey:null},{alias:null,args:null,concreteType:null,kind:"LinkedField",name:"nodes",plural:!0,selections:[n,{kind:"InlineFragment",selections:i,type:"User",abstractKey:null},{kind:"InlineFragment",selections:i,type:"Bot",abstractKey:null},{kind:"InlineFragment",selections:i,type:"Organization",abstractKey:null},{kind:"InlineFragment",selections:i,type:"Mannequin",abstractKey:null},{kind:"InlineFragment",selections:[r],type:"Node",abstractKey:"__isNode"}],storageKey:null}],storageKey:"reactors(first:5)"}],storageKey:null},r],storageKey:null}],storageKey:null}]},params:{id:"7d1ddf2cc4ed2ddb612c4ba7d9ea4f28",metadata:{},name:"removeReactionMutation",operationKind:"mutation",text:null}}}();d.hash="8e28d0138da52c07bb0e64eda432f580";var c=n(69676),u=n(82678),m=n(85349),f=n(8338),h=n(55847),p=n(94977),g=n(86911);function x({reactionGroup:e,disabled:t,onReact:n}){let{content:r,viewerHasReacted:a}=e.reaction,{reactors:l,totalCount:o}=e;if(0===o)return null;let s=l.flatMap(e=>"Other"!==e.typeName?[e.login]:[]),d=(0,g.fj)(r,a,s,o);return(0,i.jsx)(p.A,{"aria-label":(0,g.Js)(s,o),sx:{maxWidth:"100%"},wrap:!0,direction:"ne",align:"left",children:(0,i.jsx)(h.Q,{size:"small",sx:{"&:hover:not([disabled])":{backgroundColor:"accent.muted"},backgroundColor:a?"accent.subtle":"transparent",borderColor:a?"accent.emphasis":"border.default",borderRadius:100,px:2,boxShadow:"none"},"aria-label":d,role:"switch","aria-checked":a,leadingVisual:()=>(0,i.jsx)(i.Fragment,{children:g.qG[r]}),onClick:()=>n(r,a),disabled:t,children:o})})}try{x.displayName||(x.displayName="ReactionButton")}catch{}function y({onReact:e,reaction:t}){let{content:n,viewerHasReacted:r}=t;return(0,i.jsx)(f.l.Item,{sx:{"&:hover":{backgroundColor:"accent.emphasis"},py:0,px:0,width:"max-content",m:0,backgroundColor:r?"accent.subtle":"transparent"},role:"menuitemcheckbox","aria-checked":r,onSelect:()=>e(n,r),children:g.qG[n]},n)}try{y.displayName||(y.displayName="ReactionsMenuItem")}catch{}var b=n(73991);function C({reactionGroups:e,canReact:t=!0,onReact:n}){let[r,a]=(0,l.useState)(!1),o=e.length>0,{containerRef:s}=(0,u.G)({bindKeys:c.z0.HomeAndEnd|c.z0.ArrowHorizontal,focusOutBehavior:"wrap"});return(0,i.jsxs)("div",{role:"toolbar","aria-label":"Reactions",ref:s,className:"d-flex gap-1 flex-wrap",children:[t&&(0,i.jsx)(m.T,{open:r,onOpen:()=>a(o),onClose:()=>a(!1),anchorRef:s,focusZoneSettings:{bindKeys:c.z0.ArrowAll|c.z0.HomeAndEnd,focusOutBehavior:"wrap"},renderAnchor:e=>(0,i.jsx)(b.N,{renderAnchorProps:e,reactionsAvailable:o}),children:(0,i.jsx)(f.l,{className:"d-flex flex-row p-1 gap-1",role:"menu","aria-orientation":"horizontal",children:(e||[]).map((e,t)=>(0,i.jsx)(y,{reaction:e.reaction,onReact:(e,t)=>{n(e,t),a(!1)}},t))})}),(e||[]).map((e,t)=>(0,i.jsx)(x,{reactionGroup:e,onReact:(e,t)=>n(e,t)},t))]})}try{C.displayName||(C.displayName="ReactionViewerBase")}catch{}function v({reactionGroups:e,subjectId:t,canReact:n=!0}){let a=(0,o.useRelayEnvironment)(),c=(0,o.useFragment)(r,e),u=(0,l.useCallback)((e,i)=>{n&&(i?function({environment:e,input:{subject:t,content:n},onError:i,onCompleted:r}){return(0,o.commitMutation)(e,{mutation:d,variables:{input:{subjectId:t,content:n}},optimisticUpdater:e=>{let i=e.get(t);if(!i)return;let r=i.getLinkedRecords("reactionGroups");if(!r)return;let a=r.findIndex(e=>e.getValue("content")===n),l=r[a];if(l){l.setValue(!1,"viewerHasReacted");let n=`client:${t}:reactionGroups:${a}:reactors(first:5)`,i=e.get(n);if(i){let e=i.getValue("totalCount");i.setValue(e&&e>0?e-1:0,"totalCount")}}},onError:e=>i&&i(e),onCompleted:e=>r&&r(e)})}({environment:a,input:{subject:t,content:e}}):function({environment:e,input:{subject:t,content:n},onError:i,onCompleted:r}){return(0,o.commitMutation)(e,{mutation:s,variables:{input:{subjectId:t,content:n}},optimisticUpdater:e=>{let i=e.get(t);if(!i)return;let r=i.getLinkedRecords("reactionGroups");if(!r)return;let a=r.findIndex(e=>e.getValue("content")===n),l=r[a];if(l){l.setValue(!0,"viewerHasReacted");let n=`client:${t}:reactionGroups:${a}:reactors(first:5)`,i=e.get(n);if(i){let e=i.getValue("totalCount");i.setValue(e?e+1:1,"totalCount")}}},onError:e=>i&&i(e),onCompleted:e=>r&&r(e)})}({environment:a,input:{subject:t,content:e}}))},[n,a,t]),m=(c.reactionGroups||[]).filter(e=>!!e).map(e=>({reaction:{content:e.content,viewerHasReacted:e.viewerHasReacted},reactors:e.reactors?.nodes?.map(e=>({login:e?.__typename==="%other"?"":e?.login,typeName:e?.__typename||""}))||[],totalCount:e.reactors?.totalCount||0}));return(0,i.jsx)(C,{reactionGroups:m,canReact:n,subjectId:t,onReact:u})}function j({id:e,subjectLocked:t}){let n=(0,o.useLazyLoadQuery)(a,{id:e},{fetchPolicy:"store-or-network"});return n.node?(0,i.jsx)(v,{subjectId:e,reactionGroups:n.node,canReact:!t}):null}let w=v;try{v.displayName||(v.displayName="ReactionViewerRelay")}catch{}try{j.displayName||(j.displayName="ReactionViewerRelayQueryComponent")}catch{}},73991:(e,t,n)=>{n.d(t,{N:()=>s});var i=n(74848),r=n(38621),a=n(87330),l=n(94977);let o={addOrRemoveReaction:"Add or remove reactions",reactionsUnavailable:"Reactions are currently unavailable"};function s({renderAnchorProps:e,reactionsAvailable:t}){let n=(0,i.jsx)(d,{renderAnchorProps:e,reactionsAvailable:t});return t?n:(0,i.jsx)(l.A,{"aria-label":o.reactionsUnavailable,children:n})}let d=({renderAnchorProps:e,reactionsAvailable:t})=>(0,i.jsx)(a.K,{unsafeDisableTooltip:!0,size:"small",sx:{borderRadius:100,height:28,width:28,display:"flex",alignItems:"center","& > span":{lineHeight:1,ml:"-1px"}},icon:r.SmileyIcon,...e,"aria-label":o.addOrRemoveReaction,inactive:!t,"aria-labelledby":void 0});try{s.displayName||(s.displayName="ReactionViewerAnchor")}catch{}try{d.displayName||(d.displayName="BaseIcon")}catch{}},16497:(e,t,n)=>{n.d(t,{e:()=>a});var i=n(74848),r=n(34407);function a(){return(0,i.jsx)("div",{className:"d-flex flex-wrap gap-1",children:(0,i.jsx)(r.O,{variant:"elliptical",height:"28px",width:"28px"})})}try{a.displayName||(a.displayName="ReactionViewerLoading")}catch{}},4003:(e,t,n)=>{n.d(t,{A:()=>d});var i=n(74848),r=n(96540),a=n(42445),l=n(50045);function o(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}let s=e=>(0,i.jsxs)("div",{children:[(0,i.jsx)("span",{children:"Error:"}),(0,i.jsx)("button",{onClick:e,children:"Retry"})]});let BasicPreloadedQueryBoundary=class BasicPreloadedQueryBoundary extends r.Component{static getDerivedStateFromError(e){return{error:e}}componentDidCatch(e){let t={critical:this.props.critical||!1,reactAppName:this.props.appName};(0,a.N7)(e,t)}render(){let{children:e}=this.props,{error:t}=this.state,n=this.props.fallback||s;return t?n(this._retry,t):e}constructor(...e){super(...e),o(this,"state",{error:null}),o(this,"_retry",()=>{this.props.onRetry(),this.setState({error:null})})}};function d(e){let t=(0,r.useContext)(l.I),n=e.appName||t?.appName;return(0,i.jsx)(BasicPreloadedQueryBoundary,{...e,appName:n})}try{d.displayName||(d.displayName="PreloadedQueryBoundary")}catch{}},34407:(e,t,n)=>{n.d(t,{O:()=>u});var i=n(75177),r=n(59299),a=n(44999),l=n(38267);let o=(0,l.i7)(["0%{transform:translateX(-100%);}50%{transform:translateX(100%);}100%{transform:translateX(100%);}"]),s=(0,l.AH)(["animation:"," 1.5s infinite linear;"],o),d=(0,l.i7)(["0%{opacity:.3;}10%{opacity:1;}100%{opacity:.3;}"]),c=(0,l.AH)(["animation:"," 2s infinite linear;"],d),u=(0,l.Ay)(i.A).withConfig({displayName:"LoadingSkeleton",componentId:"sc-bcbf24f9-0"})(["position:relative;overflow:hidden;mask-image:radial-gradient(white,black);",";&::after{",";background:linear-gradient(90deg,transparent,",",transparent);content:'';position:absolute;transform:translateX(-100%);bottom:0;left:0;right:0;top:0;}background-color:",";border-radius:",";display:block;height:1.2em;"," width:",";height:",";",""],({animationStyle:e})=>"pulse"===e&&c,({animationStyle:e})=>"pulse"!==e&&s,(0,r.Jt)("colors.neutral.subtle"),(0,r.Jt)("colors.neutral.subtle"),({theme:e,variant:t})=>{switch(t){case"rounded":return(0,r.Jt)("radii.1")(e);case"pill":return"100px";case"elliptical":return"50%";default:return"0"}},({variant:e})=>"elliptical"===e&&{borderRadius:"50%"},({width:e})=>{switch(e){case"random":return`${Math.floor(40*Math.random()+40)}%`;case"xl":return"32px";case"lg":return"24px";case"md":return"20px";case"sm":return"16px";default:return e}},({height:e})=>{switch(e){case"xl":return"32px";case"lg":return"24px";case"md":return"20px";case"sm":return"16px";default:return e}},a.A);try{u.displayName||(u.displayName="LoadingSkeleton")}catch{}},86836:(e,t,n)=>{n.d(t,{k:()=>o});var i=n(74848),r=n(62456),a=n(75177),l=n(61500);function o({zIndex:e,altText:t,hovercardUrl:n,src:o,square:s,icon:d,iconColor:c,backgroundColor:u,backgroundSx:m,sx:f,size:h=20}){return(0,i.jsxs)(a.A,{sx:{position:"relative",display:"flex",gap:2,alignItems:"center",...e,...f},children:[(0,i.jsx)(r.r,{alt:t,"data-hovercard-url":n,size:h,square:s,src:o}),(0,i.jsx)(l.k,{icon:d,iconColor:c,size:12,backgroundColor:u,backgroundSx:m})]})}try{o.displayName||(o.displayName="StatusAvatar")}catch{}},61500:(e,t,n)=>{n.d(t,{k:()=>l});var i=n(74848),r=n(75177),a=n(30729);function l({iconColor:e,icon:t,size:n=12,backgroundColor:l="fg.onEmphasis",absolute:o=!0,backgroundSx:s}){let d,c;return 12===n?(d="10px",c="1px"):20===n?(d="16px",c="2px"):(d="16px",c="4px"),(0,i.jsxs)(r.A,{sx:{display:"flex",borderRadius:"100px",...o?{position:"absolute",bottom:-1,right:-1,boxShadow:"0 0 0 2px var(--bgColor-default, var(--color-canvas-default))",backgroundColor:"var(--bgColor-default, var(--color-canvas-default))"}:{position:"relative"},...s},children:[(0,i.jsx)(r.A,{sx:{display:"flex",position:"absolute",borderRadius:"100px",width:d,height:d,left:c,top:c,backgroundColor:l}}),(0,i.jsx)(a.A,{icon:t,size:n,sx:{color:e,position:"relative"}})]})}try{l.displayName||(l.displayName="StatusIcon")}catch{}}},e=>{var t=t=>e(e.s=t);e.O(0,["primer-react","react-core","react-lib","octicons-react","vendors-node_modules_primer_behaviors_dist_esm_index_mjs","vendors-node_modules_emotion_is-prop-valid_dist_emotion-is-prop-valid_esm_js-node_modules_emo-62da9f","vendors-node_modules_github_mini-throttle_dist_index_js-node_modules_stacktrace-parser_dist_s-e7dcdd","vendors-node_modules_oddbird_popover-polyfill_dist_popover-fn_js","vendors-node_modules_dompurify_dist_purify_es_mjs","vendors-node_modules_github_relative-time-element_dist_index_js","vendors-node_modules_lodash-es__Stack_js-node_modules_lodash-es__Uint8Array_js-node_modules_l-4faaa6","vendors-node_modules_braintree_browser-detection_dist_browser-detection_js-node_modules_githu-2906d7","vendors-node_modules_date-fns_format_mjs","vendors-node_modules_tanstack_query-core_build_modern_queryObserver_js-node_modules_tanstack_-defd52","vendors-node_modules_date-fns_addWeeks_mjs-node_modules_date-fns_addYears_mjs-node_modules_da-827f4f","vendors-node_modules_react-relay_index_js","vendors-node_modules_focus-visible_dist_focus-visible_js-node_modules_fzy_js_index_js-node_mo-c4d1d6","vendors-node_modules_github_hotkey_dist_index_js-node_modules_date-fns_getDaysInMonth_mjs-nod-70c11b","vendors-node_modules_lodash-es__baseIsEqual_js","vendors-node_modules_github_combobox-nav_dist_index_js-node_modules_github_g-emoji-element_di-24c074","vendors-node_modules_react-relay_hooks_js-node_modules_color2k_dist_index_exports_import_es_m-e8b6bb","vendors-node_modules_react-intersection-observer_react-intersection-observer_modern_mjs-node_-b27033","vendors-node_modules_github_quote-selection_dist_index_js-node_modules_github_hydro-analytics-101cf2","ui_packages_failbot_failbot_ts","ui_packages_aria-live_aria-live_ts-ui_packages_promise-with-resolvers-polyfill_promise-with-r-17c672","ui_packages_paths_index_ts","ui_packages_ui-commands_ui-commands_ts","ui_packages_list-view_src_ListView_ListView_tsx-ui_packages_safe-html_SafeHTML_tsx","ui_packages_list-view_src_ListItem_ListItem_tsx-ui_packages_list-view_src_ListItem_Title_tsx","ui_packages_date-picker_date-picker_ts-ui_packages_github-avatar_GitHubAvatar_tsx","ui_packages_item-picker_constants_labels_ts-ui_packages_item-picker_constants_values_ts-ui_pa-163a9a","ui_packages_item-picker_components_RepositoryPicker_tsx","ui_packages_comment-box_api_file-upload_ts-ui_packages_comment-box_api_preview_ts-ui_packages-2c5e84","ui_packages_ref-selector_RefSelector_tsx","ui_packages_issue-create_dialog_CreateIssueDialogEntry_tsx","ui_packages_signed-commit-badge_index_ts-ui_packages_use-navigate_use-navigate_ts","ui_packages_code-view-shared_utilities_web-worker_ts-ui_packages_diff-file-header_diff-file-h-1692d0","ui_packages_commit-attribution_index_ts-ui_packages_commit-checks-status_index_ts-ui_packages-7094d4"],()=>t(83249)),e.O()}]);
//# sourceMappingURL=commits-750f75de7f28.js.map